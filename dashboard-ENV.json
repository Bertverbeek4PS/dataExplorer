{"$schema":"https://dataexplorer.azure.com/static/d/schema/52/dashboard.json","id":"538d46fe-3281-4b20-b179-dd1e45da2dd4","eTag":"6675643d-05c0-48f9-8115-7d626ffc66fa","schema_version":"52","title":"FPS-BC-NL-ENV","autoRefresh":{"enabled":true,"defaultInterval":"30m","minInterval":"1m"},"tiles":[{"id":"a27ec310-3bcb-4145-bfa1-f4232ff89717","title":"Long Running SQL Queries (ms)","visualType":"table","pageId":"d1a3fbcf-a4a6-4912-ab95-fd07bfe32849","layout":{"x":0,"y":10,"width":24,"height":10},"queryRef":{"kind":"query","queryId":"2b2faddb-9351-4046-8bdb-247a744d772d"},"visualOptions":{"hideLegend":false,"table__enableRenderLinks":true,"colorRulesDisabled":false,"colorStyle":"light","crossFilterDisabled":true,"drillthroughDisabled":true,"crossFilter":[{"interaction":"column","property":"extensionPublisher","parameterId":"9cc55dcf-17d4-4829-9340-37c385862cdf","disabled":false}],"drillthrough":[],"table__renderLinks":[],"colorRules":[{"id":"0d9c7c7d-3fb5-4fa6-9308-286adf620062","ruleType":"colorByCondition","applyToColumn":null,"hideText":false,"applyTo":"rows","conditions":[{"operator":"==","column":"with UPDLOCK","values":["Yes"]},{"operator":"!=","column":"Type","values":["SELECT"]}],"chainingOperator":"or","colorStyle":"bold","color":"blue","tag":"","icon":null,"ruleName":"","visualType":"table"},{"id":"fd2e9d33-7552-45cb-ba1c-c4b8cebf7d05","ruleType":"colorByCondition","applyToColumn":null,"hideText":false,"applyTo":"cells","conditions":[{"operator":">","column":"Duration","values":["1000"]}],"chainingOperator":"and","colorStyle":"bold","color":"red","tag":"","icon":null,"ruleName":"","visualType":"table"},{"id":"815fca99-d789-4b4a-be34-f677a4d5fce6","ruleType":"colorByCondition","applyToColumn":null,"hideText":false,"applyTo":"cells","conditions":[{"operator":"!=","column":"Type","values":["SELECT"]}],"chainingOperator":"and","colorStyle":"bold","color":"yellow","tag":"","icon":null,"ruleName":"","visualType":"table"}]}},{"id":"d059eab6-9c59-4551-9b41-9c4ebf002bf7","title":"Lock Snapshot","visualType":"table","pageId":"5464aca4-0e79-4cc9-acaf-5bfcba11b235","layout":{"x":0,"y":37,"width":24,"height":10},"queryRef":{"kind":"query","queryId":"5cffff63-ccd2-49a5-811b-bab8275b8088"},"visualOptions":{"hideLegend":false,"table__enableRenderLinks":true,"colorRulesDisabled":true,"colorStyle":"light","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[],"table__renderLinks":[],"colorRules":[]}},{"id":"2cfd710a-43f7-4cf7-8d94-193e2beb3b46","title":"SQL Execution Chart","visualType":"column","pageId":"d1a3fbcf-a4a6-4912-ab95-fd07bfe32849","layout":{"x":0,"y":27,"width":24,"height":7},"queryRef":{"kind":"query","queryId":"4815994c-bcd0-425e-8bdd-a2c7408b30a0"},"visualOptions":{"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"hideLegend":false,"xColumnTitle":"","xColumn":null,"yColumns":null,"seriesColumns":null,"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"legendLocation":"bottom","crossFilter":[],"drillthrough":[]}},{"id":"3d67e785-f63c-44f6-bb04-a96f2472565b","title":"Top 20 Objects Used during the Long SQL Queries","visualType":"pie","pageId":"d1a3fbcf-a4a6-4912-ab95-fd07bfe32849","layout":{"x":0,"y":20,"width":24,"height":7},"queryRef":{"kind":"query","queryId":"04830316-39ad-4707-aab1-afaa212d4bb2"},"visualOptions":{"hideLegend":false,"xColumn":null,"yColumns":null,"seriesColumns":null,"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","pie__topNSlices":null,"legendLocation":"bottom","crossFilter":[],"drillthrough":[]}},{"id":"c618b79b-de37-42af-8657-f788c44c53ae","title":"Top 20 Slowest AL Methods (in ms)","visualType":"table","pageId":"e6b3a051-ba9e-4db5-912d-c63987fd1fb8","layout":{"x":0,"y":0,"width":24,"height":11},"queryRef":{"kind":"query","queryId":"e49962d8-eb84-45f7-8ffa-5d1355e0ce16"},"visualOptions":{"table__enableRenderLinks":true,"colorRulesDisabled":false,"colorStyle":"light","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[],"table__renderLinks":[],"colorRules":[{"id":"11402fde-e050-4e5e-b767-e73f173801d6","ruleType":"colorByCondition","applyToColumn":"Avg Duration","hideText":false,"applyTo":"cells","conditions":[{"operator":">","column":"Avg Duration","values":["5000"]}],"chainingOperator":"and","colorStyle":"bold","color":"red","tag":"","icon":null,"ruleName":"Avg Duration > 5000","visualType":"table"},{"id":"92160ff2-25ce-4514-bfe6-7b8229c827ac","ruleType":"colorByCondition","applyToColumn":"Avg Duration","hideText":false,"applyTo":"cells","conditions":[{"operator":">","column":"Avg Duration","values":["750"]},{"operator":"<=","column":"Avg Duration","values":["5000"]}],"chainingOperator":"and","colorStyle":"bold","color":"yellow","tag":"","icon":null,"ruleName":"Avg Duration > 750","visualType":"table"}]}},{"id":"872dc80f-a7e1-4361-9e23-8c7796a2821e","title":"Long Running SQL Queries for the defined Time Range","visualType":"markdown","pageId":"f5885bb6-1db1-42c3-888b-fa857a7b39fd","layout":{"x":0,"y":8,"width":10,"height":5},"queryRef":{"kind":"query","queryId":"2312b224-7448-47ef-963c-ba4302336c57"},"visualOptions":{"xColumn":null}},{"id":"dc592e1f-adfd-4166-8637-f36a861a215e","title":"OData Usage (in ms) [Limited to past 24 hrs.]","visualType":"table","pageId":"fd2a227c-d2e0-49f4-a2ad-b21b9a1dd382","layout":{"x":0,"y":0,"width":24,"height":7},"queryRef":{"kind":"query","queryId":"7e0a24b2-73d0-459f-99aa-1b978f6fc922"},"visualOptions":{"table__enableRenderLinks":true,"colorRulesDisabled":false,"colorStyle":"light","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[],"table__renderLinks":[],"colorRules":[{"id":"bf2e28be-8012-4489-852a-98bdbc7471c1","ruleType":"colorByCondition","applyToColumn":null,"hideText":false,"applyTo":"cells","conditions":[{"operator":">","column":"Avg. Time","values":["5000"]}],"chainingOperator":"and","colorStyle":"bold","color":"red","tag":"","icon":null,"ruleName":"Avg. Time > 5000","visualType":"table"},{"id":"2258645e-1fd1-4d9c-8243-e5817ddb3c26","ruleType":"colorByCondition","applyToColumn":null,"hideText":false,"applyTo":"cells","conditions":[{"operator":">","column":"Avg. Time","values":["750"]},{"operator":"<=","column":"Avg. Time","values":["5000"]}],"chainingOperator":"and","colorStyle":"bold","color":"yellow","tag":"","icon":null,"ruleName":"Avg. Time > 750","visualType":"table"}]}},{"id":"7c89e962-0e32-418f-b16c-01b8da9ab560","title":"Long Running AL Methods by Object Type for the defined Time Range","visualType":"markdown","pageId":"f5885bb6-1db1-42c3-888b-fa857a7b39fd","layout":{"x":7,"y":4,"width":17,"height":4},"queryRef":{"kind":"query","queryId":"51518c9e-c4aa-46eb-b87f-84f1bbb48b5a"},"visualOptions":{"xColumn":null}},{"id":"19c1b81f-7fc8-4925-b18d-7b3765b21102","title":"Lock Timeouts (5 min buckets)","visualType":"column","pageId":"5464aca4-0e79-4cc9-acaf-5bfcba11b235","layout":{"x":0,"y":19,"width":24,"height":9},"queryRef":{"kind":"query","queryId":"0409cb2e-20ee-49a7-b89d-675b757ad2b2"},"visualOptions":{"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"hideLegend":false,"xColumnTitle":"","xColumn":"timestamp","yColumns":null,"seriesColumns":null,"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"legendLocation":"bottom","crossFilter":[],"drillthrough":[]}},{"id":"70559276-6c87-453d-a9f8-e7e181115fbe","title":"Top 20 SQL Queries that holds Database Locks","visualType":"table","pageId":"5464aca4-0e79-4cc9-acaf-5bfcba11b235","layout":{"x":0,"y":47,"width":24,"height":7},"queryRef":{"kind":"query","queryId":"3eec3a24-9c19-4a68-8b3a-06e7297ccfe9"},"visualOptions":{"table__enableRenderLinks":true,"colorRulesDisabled":true,"colorStyle":"light","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[],"table__renderLinks":[],"colorRules":[]}},{"id":"7b5f9890-013d-41af-a076-328230096649","title":"Job Queue Status","visualType":"column","pageId":"60f8536a-1e14-47a9-80d8-f2a08e0e9fc7","layout":{"x":0,"y":2,"width":24,"height":9},"queryRef":{"kind":"query","queryId":"0f5d8fa2-1e27-4bc2-9467-7843768a367e"},"visualOptions":{"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"hideLegend":false,"xColumnTitle":"","xColumn":null,"yColumns":null,"seriesColumns":null,"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"legendLocation":"bottom","crossFilter":[],"drillthrough":[]}},{"id":"1a76223b-a537-4b1e-9c73-5be23636e06c","title":"Job Queue Entries","visualType":"table","pageId":"60f8536a-1e14-47a9-80d8-f2a08e0e9fc7","layout":{"x":0,"y":11,"width":24,"height":9},"queryRef":{"kind":"query","queryId":"d3df13d8-1c5d-45f9-a94b-085a1ea667fe"},"visualOptions":{"table__enableRenderLinks":true,"colorRulesDisabled":false,"colorStyle":"light","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[],"table__renderLinks":[],"colorRules":[{"id":"3b9e6177-c18e-455f-8eb1-023748b11cbf","ruleType":"colorByCondition","applyToColumn":"State","hideText":false,"applyTo":"cells","conditions":[{"operator":"==","column":"State","values":["Started"]}],"chainingOperator":"and","colorStyle":"bold","color":"yellow","tag":"","icon":null,"ruleName":"State = Started","visualType":"table"},{"id":"23a81bd6-7fc9-4720-a830-95a74ede0f5b","ruleType":"colorByCondition","applyToColumn":null,"hideText":false,"applyTo":"cells","conditions":[{"operator":"==","column":"State","values":["Finished"]}],"chainingOperator":"and","colorStyle":"bold","color":"green","tag":"","icon":null,"ruleName":"State = Finished","visualType":"table"},{"id":"4ceeab8c-870f-4c07-92d9-f86681efd0e6","ruleType":"colorByCondition","applyToColumn":null,"hideText":false,"applyTo":"cells","conditions":[{"operator":"==","column":"State","values":["Failed"]}],"chainingOperator":"and","colorStyle":"bold","color":"red","tag":"","icon":null,"ruleName":"State = Failed","visualType":"table"},{"id":"b4059a58-dfcc-4b25-b3c6-4398ea4469c5","ruleType":"colorByCondition","applyToColumn":null,"hideText":false,"applyTo":"cells","conditions":[{"operator":"==","column":"State","values":["Enqueued"]}],"chainingOperator":"and","colorStyle":"bold","color":"blue","tag":"","icon":null,"ruleName":"State = Enqueued","visualType":"table"}]}},{"id":"df42d57c-420e-4145-a824-27d34114c534","title":"API Usage (in ms) [Limited to past 24 hrs.]","visualType":"table","pageId":"9bd8a199-ba41-40fa-87b8-f9833a040b03","layout":{"x":0,"y":0,"width":24,"height":8},"queryRef":{"kind":"query","queryId":"dd2356cf-d206-455e-9b0d-3cec30d3b2b8"},"visualOptions":{"table__enableRenderLinks":true,"colorRulesDisabled":false,"colorStyle":"light","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[],"table__renderLinks":[],"colorRules":[{"id":"8ef4ce1b-e009-4ad7-939e-7cd290cfbf1d","ruleType":"colorByCondition","applyToColumn":null,"hideText":false,"applyTo":"cells","conditions":[{"operator":">","column":"Avg. Time","values":["5000"]}],"chainingOperator":"and","colorStyle":"bold","color":"red","tag":"","icon":null,"ruleName":"Avg. Time > 5000","visualType":"table"},{"id":"0b1b883a-6153-437d-bc75-e7fbbceb0f6b","ruleType":"colorByCondition","applyToColumn":null,"hideText":false,"applyTo":"cells","conditions":[{"operator":">","column":"Avg. Time","values":["750"]},{"operator":"<=","column":"Avg. Time","values":["5000"]}],"chainingOperator":"and","colorStyle":"bold","color":"yellow","tag":"","icon":null,"ruleName":"Avg. Time > 750","visualType":"table"}]}},{"id":"99ea2a24-8370-4ef6-b036-d04eb3e955dd","title":"Top 20 API Calls by Duration (in ms)","visualType":"pie","pageId":"9bd8a199-ba41-40fa-87b8-f9833a040b03","layout":{"x":0,"y":8,"width":11,"height":9},"queryRef":{"kind":"query","queryId":"87e8f2fb-b6c7-4718-bfa8-b553f2d54991"},"visualOptions":{"hideLegend":false,"xColumn":null,"yColumns":null,"seriesColumns":null,"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":true,"pie__label":["name","percentage"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","pie__topNSlices":null,"legendLocation":"bottom","crossFilter":[],"drillthrough":[]}},{"id":"0da4abc2-d47b-4c78-9d4c-b0bc195a8867","title":"Top 20 API Calls by Volume","visualType":"pie","pageId":"9bd8a199-ba41-40fa-87b8-f9833a040b03","layout":{"x":11,"y":8,"width":13,"height":9},"queryRef":{"kind":"query","queryId":"2ee9cbbb-ce01-4a63-8f54-0fed73355854"},"visualOptions":{"hideLegend":false,"xColumn":null,"yColumns":null,"seriesColumns":null,"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":true,"pie__label":["name","percentage"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","pie__topNSlices":null,"legendLocation":"bottom","crossFilter":[],"drillthrough":[]}},{"id":"bb30a128-d743-4e4f-b3f3-17f2b1cc321b","title":"Top 20 OData Calls by Duration (in ms)","visualType":"pie","pageId":"fd2a227c-d2e0-49f4-a2ad-b21b9a1dd382","layout":{"x":0,"y":7,"width":11,"height":10},"queryRef":{"kind":"query","queryId":"22c03c8f-bf28-4c2e-b5c5-43fbdcbd5017"},"visualOptions":{"hideLegend":false,"xColumn":null,"yColumns":null,"seriesColumns":null,"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","pie__topNSlices":null,"legendLocation":"bottom","crossFilter":[],"drillthrough":[]}},{"id":"61e45fe7-647d-46c5-9640-9f28844eca31","title":"Top 20 OData Calls by Volume","visualType":"pie","pageId":"fd2a227c-d2e0-49f4-a2ad-b21b9a1dd382","layout":{"x":11,"y":7,"width":13,"height":10},"queryRef":{"kind":"query","queryId":"be2a7460-330b-49be-b522-e70adc991bda"},"visualOptions":{"hideLegend":false,"xColumn":null,"yColumns":null,"seriesColumns":null,"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","pie__topNSlices":null,"legendLocation":"bottom","crossFilter":[],"drillthrough":[]}},{"id":"f4dfb31c-fe79-4bda-a3b8-bfbd1e9ab69e","title":"Telemetry Dashboard (SaaS)","visualType":"markdownCard","pageId":"f5885bb6-1db1-42c3-888b-fa857a7b39fd","layout":{"x":0,"y":0,"width":7,"height":8},"markdownText":"![base64](data:image/png;base64,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)\r\n","visualOptions":{}},{"id":"e28cece8-7858-427e-a00d-001cb911edf5","title":"Top 20 Page Usage","visualType":"pie","pageId":"e6b3a051-ba9e-4db5-912d-c63987fd1fb8","layout":{"x":0,"y":21,"width":12,"height":12},"queryRef":{"kind":"query","queryId":"7e37b3ee-8237-4bad-995b-213640c226c9"},"visualOptions":{"hideLegend":false,"xColumn":null,"yColumns":null,"seriesColumns":null,"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","pie__topNSlices":null,"legendLocation":"bottom","crossFilter":[],"drillthrough":[]}},{"id":"47c5e32b-b2eb-4dd0-b268-4ce48ecbc6a7","title":"Top 20 Report Usage","visualType":"pie","pageId":"e6b3a051-ba9e-4db5-912d-c63987fd1fb8","layout":{"x":12,"y":21,"width":12,"height":12},"queryRef":{"kind":"query","queryId":"890ba393-17b9-49a4-b992-1432d9691345"},"visualOptions":{"hideLegend":false,"xColumn":null,"yColumns":null,"seriesColumns":null,"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","pie__topNSlices":null,"legendLocation":"bottom","crossFilter":[],"drillthrough":[]}},{"id":"e70239e5-f63c-4ebe-a4c7-e47c79d57293","title":"Job Queue Execution Statistics","visualType":"table","pageId":"60f8536a-1e14-47a9-80d8-f2a08e0e9fc7","layout":{"x":0,"y":20,"width":24,"height":9},"queryRef":{"kind":"query","queryId":"6701a396-de00-4877-b03e-9aa8878bbd47"},"visualOptions":{"table__enableRenderLinks":true,"colorRulesDisabled":false,"colorStyle":"light","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[],"table__renderLinks":[],"colorRules":[{"id":"b3a85703-bc48-434f-9056-e7620d61a2d0","ruleType":"colorByCondition","applyToColumn":null,"hideText":false,"applyTo":"cells","conditions":[{"operator":">","column":"Avg. Time","values":["5000"]}],"chainingOperator":"and","colorStyle":"bold","color":"red","tag":"","icon":null,"ruleName":"Avg. Time > 5000","visualType":"table"},{"id":"a6c2202f-6c70-4e78-ad27-98ca48ebb95a","ruleType":"colorByCondition","applyToColumn":null,"hideText":false,"applyTo":"cells","conditions":[{"operator":">","column":"Avg. Time","values":["750"]},{"values":["5000"],"operator":"<=","column":"Avg. Time"}],"chainingOperator":"and","colorStyle":"bold","color":"yellow","tag":"","icon":null,"ruleName":"Avg. Time > 750","visualType":"table"}]}},{"id":"1a631a53-08dc-4f8b-8d7d-a86c383b19df","title":"Web Service Calls Overview for past 24 hrs.","visualType":"markdown","pageId":"f5885bb6-1db1-42c3-888b-fa857a7b39fd","layout":{"x":10,"y":8,"width":14,"height":5},"queryRef":{"kind":"query","queryId":"6e85c303-3a0b-49d4-8df1-be3687aaa3a7"},"visualOptions":{"xColumn":null}},{"id":"e2225a85-d095-4232-994d-2692a8c20af4","title":"Index Lifecycle","visualType":"table","pageId":"2951304b-62f3-4b7b-98c0-8c31c6d7ecd4","layout":{"x":0,"y":35,"width":24,"height":8},"queryRef":{"kind":"query","queryId":"8269dfd7-d6b5-462b-9add-712b4a3819c9"},"visualOptions":{"table__enableRenderLinks":true,"colorRulesDisabled":true,"colorStyle":"light","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[],"table__renderLinks":[],"colorRules":[]}},{"id":"dd772426-c109-465a-9231-826b82fbc4f1","title":"Page View Count","visualType":"table","pageId":"41c2b22e-69f3-4513-9227-26c3c42e9a08","layout":{"x":0,"y":0,"width":24,"height":11},"queryRef":{"kind":"query","queryId":"4fcda6d8-81b6-4a0c-979b-edc818d0460a"},"visualOptions":{"table__enableRenderLinks":true,"colorRulesDisabled":true,"colorStyle":"light","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[],"table__renderLinks":[],"colorRules":[]}},{"id":"d1dd2755-b9b9-4d80-bc6f-560a20a489fb","title":"Top 20 Codeunit Usage","visualType":"pie","pageId":"e6b3a051-ba9e-4db5-912d-c63987fd1fb8","layout":{"x":0,"y":33,"width":12,"height":13},"queryRef":{"kind":"query","queryId":"e70e6774-3453-420f-a3f2-c6c251aec598"},"visualOptions":{"hideLegend":false,"xColumn":null,"yColumns":null,"seriesColumns":null,"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","pie__topNSlices":null,"legendLocation":"bottom","crossFilter":[],"drillthrough":[]}},{"id":"bcdbed35-53ac-4227-9d48-707a43ff7a03","title":"Top 20 Query Usage","visualType":"pie","pageId":"e6b3a051-ba9e-4db5-912d-c63987fd1fb8","layout":{"x":12,"y":33,"width":12,"height":13},"queryRef":{"kind":"query","queryId":"8a308d7e-f628-4fad-abb8-266c43e3652c"},"visualOptions":{"hideLegend":false,"xColumn":null,"yColumns":null,"seriesColumns":null,"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","pie__topNSlices":null,"legendLocation":"bottom","crossFilter":[],"drillthrough":[]}},{"id":"93435685-c962-420c-8e59-e73714c43185","title":"Errors Dialog","visualType":"table","pageId":"a766ad41-9070-40d7-8dd7-70676512faaa","layout":{"x":0,"y":5,"width":24,"height":6},"queryRef":{"kind":"query","queryId":"5ce916a5-d8b4-4377-871d-8a065697c5ca"},"visualOptions":{"table__enableRenderLinks":true,"colorRulesDisabled":true,"colorStyle":"light","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[],"table__renderLinks":[],"colorRules":[]}},{"id":"8876e2d5-b6ae-40db-bcd1-d99bac1f47b7","title":"Delete Environment Lifecycle","visualType":"table","pageId":"2951304b-62f3-4b7b-98c0-8c31c6d7ecd4","layout":{"x":0,"y":43,"width":24,"height":7},"queryRef":{"kind":"query","queryId":"f65f9b31-546e-4237-9e13-f158312176c9"},"visualOptions":{"table__enableRenderLinks":true,"colorRulesDisabled":true,"colorStyle":"light","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[],"table__renderLinks":[],"colorRules":[]}},{"id":"d092bd8f-bed0-4e5f-ae2e-d3a539c6b7c2","title":"All Lifecycle Events","visualType":"table","pageId":"2951304b-62f3-4b7b-98c0-8c31c6d7ecd4","layout":{"x":0,"y":26,"width":24,"height":9},"queryRef":{"kind":"query","queryId":"19abf402-2c0b-44e3-af8f-789198203a0a"},"visualOptions":{"table__enableRenderLinks":true,"colorRulesDisabled":true,"colorStyle":"light","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[],"table__renderLinks":[],"colorRules":[]}},{"id":"610ad1a1-6a17-4fb5-a8c2-17de446cb342","title":"Active Users","visualType":"table","pageId":"a766ad41-9070-40d7-8dd7-70676512faaa","layout":{"x":0,"y":0,"width":12,"height":5},"queryRef":{"kind":"query","queryId":"22f91b55-5e18-4eb4-b090-38637452ce7d"},"visualOptions":{"table__enableRenderLinks":true,"colorRulesDisabled":true,"colorStyle":"light","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[],"table__renderLinks":[],"colorRules":[]}},{"id":"f3d10b30-5268-4c56-8514-b73d8494bb48","title":"Active Users Graph (60d)","visualType":"timechart","pageId":"a766ad41-9070-40d7-8dd7-70676512faaa","layout":{"x":12,"y":0,"width":12,"height":5},"queryRef":{"kind":"query","queryId":"ad91eca8-3146-4b27-b25b-7f35be5338c7"},"visualOptions":{"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"hideLegend":false,"xColumnTitle":"","xColumn":null,"yColumns":["Daily"],"seriesColumns":["environmentName"],"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":true,"legendLocation":"bottom","crossFilter":[],"drillthrough":[]}},{"id":"be049551-b68d-47c7-968d-4d8430dbfe13","title":"Update Environment Lifecycle","visualType":"table","pageId":"2951304b-62f3-4b7b-98c0-8c31c6d7ecd4","layout":{"x":0,"y":10,"width":24,"height":8},"queryRef":{"kind":"query","queryId":"d5823f00-73c0-49f7-95a2-a7b8e41f4e4b"},"visualOptions":{"table__enableRenderLinks":true,"colorRulesDisabled":true,"colorStyle":"light","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[],"table__renderLinks":[],"colorRules":[]}},{"id":"aa814387-a986-4a8e-8812-8ec77579319e","title":"No. of Long Running SQL Queries","visualType":"column","pageId":"94d9d8ce-b39a-4f2d-bf77-11c032f0fd9e","layout":{"x":0,"y":0,"width":12,"height":14},"queryRef":{"kind":"query","queryId":"07cdd944-55e3-4932-937f-95c4a92bb5c5"},"visualOptions":{"xColumn":null,"multipleYAxes":{"additional":[],"showMultiplePanels":false,"base":{"horizontalLines":[],"yAxisScale":"linear","yAxisMaximumValue":null,"yAxisMinimumValue":null,"columns":[],"label":"","id":"-1"}},"yColumns":null,"seriesColumns":null,"hideLegend":true,"xColumnTitle":"","xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"legendLocation":"bottom","crossFilter":[],"drillthrough":[]}},{"id":"886fe569-ef19-4521-bc4e-47ebec9e54db","title":"No. of Long Running AL Methods","visualType":"column","pageId":"94d9d8ce-b39a-4f2d-bf77-11c032f0fd9e","layout":{"x":12,"y":0,"width":12,"height":14},"queryRef":{"kind":"query","queryId":"9e2c4b5e-ac81-4a77-b50f-d8875102038a"},"visualOptions":{"xColumn":null,"multipleYAxes":{"additional":[],"showMultiplePanels":false,"base":{"horizontalLines":[],"yAxisScale":"linear","yAxisMaximumValue":null,"yAxisMinimumValue":null,"columns":[],"label":"","id":"-1"}},"yColumns":null,"seriesColumns":null,"hideLegend":true,"xColumnTitle":"","xAxisScale":"linear","verticalLine":"","crossFilterDisabled":true,"drillthroughDisabled":false,"legendLocation":"bottom","crossFilter":[{"interaction":"column","property":"count_","disabled":false}],"drillthrough":[{"pairs":[{"parameterId":"faae011a-19c6-437e-a04c-d7de238ed7ad","property":"timestamp"}],"destinationPages":["a1b9eab8-5e92-446b-bdd0-6df8160c9c54"],"disabled":false}]}},{"id":"bf5393aa-e26a-4396-94b3-62e65c1dab98","title":"No. of Sessions by Client","visualType":"timechart","pageId":"94d9d8ce-b39a-4f2d-bf77-11c032f0fd9e","layout":{"x":0,"y":38,"width":24,"height":8},"queryRef":{"kind":"query","queryId":"f62b5da4-e953-47d6-ad49-311939fce394"},"visualOptions":{"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"hideLegend":false,"xColumnTitle":"","xColumn":null,"yColumns":null,"seriesColumns":null,"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"legendLocation":"bottom","crossFilter":[],"drillthrough":[]}},{"id":"8b72f5f9-23af-455a-807f-a2b465577cc1","title":"No. of SQL Lock Timeout","visualType":"column","pageId":"94d9d8ce-b39a-4f2d-bf77-11c032f0fd9e","layout":{"x":12,"y":14,"width":12,"height":14},"queryRef":{"kind":"query","queryId":"6674fbcf-bc83-4acd-ac51-b8e2e2c8d604"},"visualOptions":{"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"hideLegend":true,"xColumnTitle":"","xColumn":null,"yColumns":null,"seriesColumns":null,"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"legendLocation":"bottom","crossFilter":[],"drillthrough":[]}},{"id":"4a396f63-ed5f-47c6-9265-2a1589623d59","title":"SQL Deadlocks by Process","visualType":"table","pageId":"5464aca4-0e79-4cc9-acaf-5bfcba11b235","layout":{"x":0,"y":2,"width":16,"height":8},"queryRef":{"kind":"query","queryId":"425feabb-bddc-45a7-8c13-b8302608f3fc"},"visualOptions":{"table__enableRenderLinks":true,"colorRulesDisabled":true,"colorStyle":"light","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[],"table__renderLinks":[],"colorRules":[]}},{"id":"1861e1dc-ee3b-45f4-b42f-3370a429cefc","title":"No. of  SQL Deadlocks","visualType":"column","pageId":"94d9d8ce-b39a-4f2d-bf77-11c032f0fd9e","layout":{"x":0,"y":14,"width":12,"height":14},"queryRef":{"kind":"query","queryId":"8fb1c64d-532a-4cbf-832f-0e47c67fe531"},"visualOptions":{"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"hideLegend":true,"xColumnTitle":"","xColumn":null,"yColumns":null,"seriesColumns":null,"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"legendLocation":"bottom","crossFilter":[],"drillthrough":[]}},{"id":"b662014e-fcd8-4800-b315-e4e638cdfd2d","title":"API Calls Timeline","visualType":"timechart","pageId":"9bd8a199-ba41-40fa-87b8-f9833a040b03","layout":{"x":0,"y":17,"width":24,"height":10},"queryRef":{"kind":"query","queryId":"c890525c-3633-4efe-b51d-63d1e2686fce"},"visualOptions":{"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"hideLegend":false,"xColumnTitle":"","xColumn":null,"yColumns":null,"seriesColumns":null,"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"legendLocation":"bottom","crossFilter":[],"drillthrough":[]}},{"id":"2cd7db76-28c3-4914-a54e-907883f7ee66","title":"Joins impact","visualType":"table","pageId":"d1a3fbcf-a4a6-4912-ab95-fd07bfe32849","layout":{"x":0,"y":34,"width":24,"height":10},"queryRef":{"kind":"query","queryId":"70530cfa-74f1-47c4-8c5e-8dbff31c6e6c"},"visualOptions":{"hideLegend":false,"table__enableRenderLinks":false,"colorRulesDisabled":true,"colorStyle":"light","crossFilterDisabled":true,"drillthroughDisabled":true,"crossFilter":[{"interaction":"column","property":"extensionPublisher","parameterId":"9cc55dcf-17d4-4829-9340-37c385862cdf","disabled":false}],"drillthrough":[],"table__renderLinks":[],"colorRules":[]}},{"id":"f01083eb-eee1-43d9-972b-1700db7658e6","title":"LRAM by Day","visualType":"table","pageId":"a1b9eab8-5e92-446b-bdd0-6df8160c9c54","layout":{"x":0,"y":13,"width":24,"height":13},"queryRef":{"kind":"query","queryId":"e420cdf2-05cf-42dd-a967-77573d866535"},"visualOptions":{"table__enableRenderLinks":true,"colorRulesDisabled":true,"colorStyle":"light","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[],"table__renderLinks":[],"colorRules":[]}},{"id":"4ce42f55-3f25-4b5a-aa54-671cd07b285f","title":"LRAM by Process","visualType":"table","pageId":"a1b9eab8-5e92-446b-bdd0-6df8160c9c54","layout":{"x":0,"y":0,"width":24,"height":13},"queryRef":{"kind":"query","queryId":"6a448e0f-756b-4818-a485-4152540d0d99"},"visualOptions":{"table__enableRenderLinks":true,"colorRulesDisabled":true,"colorStyle":"light","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[],"table__renderLinks":[],"colorRules":[]}},{"id":"81fc8700-6e7f-43c1-bd6d-036b61e48ba3","title":"Lock by Calcsum","visualType":"table","pageId":"5464aca4-0e79-4cc9-acaf-5bfcba11b235","layout":{"x":0,"y":54,"width":24,"height":6},"queryRef":{"kind":"query","queryId":"6b97b21c-ab43-4b96-a40d-3c5bea37a9cb"},"visualOptions":{"table__enableRenderLinks":true,"colorRulesDisabled":true,"colorStyle":"light","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[],"table__renderLinks":[],"colorRules":[]}},{"id":"0ca7b891-2d18-4df8-b1fa-436c82c90017","title":"Incoming WebServices Calls","visualType":"timechart","pageId":"94d9d8ce-b39a-4f2d-bf77-11c032f0fd9e","layout":{"x":0,"y":28,"width":24,"height":10},"queryRef":{"kind":"query","queryId":"25124287-6796-4c22-b61e-9441b46df52c"},"visualOptions":{"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"hideLegend":true,"xColumnTitle":"","xColumn":null,"yColumns":null,"seriesColumns":null,"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"legendLocation":"bottom","crossFilter":[],"drillthrough":[]}},{"id":"430043db-0924-4275-96bd-7c2620dbf3d1","title":"Lock by IsEmpty","visualType":"table","pageId":"5464aca4-0e79-4cc9-acaf-5bfcba11b235","layout":{"x":0,"y":60,"width":24,"height":6},"queryRef":{"kind":"query","queryId":"4f165f7a-4580-41c2-8d4b-414f1d39993e"},"visualOptions":{"table__enableRenderLinks":true,"colorRulesDisabled":true,"colorStyle":"light","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[],"table__renderLinks":[],"colorRules":[]}},{"id":"b6ed5df9-e8cf-49db-b6db-404be057947a","title":"LRQ Count and Average per Day buckets","visualType":"table","pageId":"d1a3fbcf-a4a6-4912-ab95-fd07bfe32849","layout":{"x":0,"y":44,"width":24,"height":10},"queryRef":{"kind":"query","queryId":"b915cab2-3001-4b19-b602-e765eef410c1"},"visualOptions":{"hideLegend":false,"table__enableRenderLinks":false,"colorRulesDisabled":true,"colorStyle":"light","crossFilterDisabled":true,"drillthroughDisabled":true,"crossFilter":[{"interaction":"column","property":"extensionPublisher","parameterId":"9cc55dcf-17d4-4829-9340-37c385862cdf","disabled":false}],"drillthrough":[],"table__renderLinks":[],"colorRules":[]}},{"id":"230bf4d2-9d35-46ec-a7b7-c3ee22a9e32d","title":"LRQ Summarized by Object","visualType":"table","pageId":"d1a3fbcf-a4a6-4912-ab95-fd07bfe32849","layout":{"x":0,"y":0,"width":24,"height":10},"queryRef":{"kind":"query","queryId":"bc46e603-8123-4af8-b6e3-b339f966382e"},"visualOptions":{"hideLegend":false,"table__enableRenderLinks":true,"colorRulesDisabled":false,"colorStyle":"light","crossFilterDisabled":true,"drillthroughDisabled":true,"crossFilter":[{"interaction":"column","property":"extensionPublisher","parameterId":"9cc55dcf-17d4-4829-9340-37c385862cdf","disabled":false}],"drillthrough":[],"table__renderLinks":[],"colorRules":[{"id":"0d9c7c7d-3fb5-4fa6-9308-286adf620062","ruleType":"colorByCondition","applyToColumn":null,"hideText":false,"applyTo":"cells","conditions":[{"operator":">","column":"Avg. Time","values":["1000"]}],"chainingOperator":"and","colorStyle":"bold","color":"red","tag":"","icon":null,"ruleName":"","visualType":"table"},{"id":"97b65dad-5ccd-4299-b090-d8943d7cc460","ruleType":"colorByCondition","ruleName":"","applyTo":"rows","conditions":[{"operator":"==","column":"Isolation Level","values":["UPDLOCK"]}],"chainingOperator":"and","colorStyle":"bold","applyToColumn":null,"hideText":false,"color":"blue","tag":"","icon":null,"visualType":"table"}]}},{"id":"6c7fe09d-8948-4d6a-b89f-dd20a39b8349","title":"Today SQL Statistics","visualType":"multistat","pageId":"f5885bb6-1db1-42c3-888b-fa857a7b39fd","layout":{"x":7,"y":0,"width":17,"height":4},"queryRef":{"kind":"query","queryId":"91fe284d-d7d5-48fa-a785-b54845b63f09"},"visualOptions":{"multiStat__textSize":"large","multiStat__valueColumn":null,"colorRulesDisabled":true,"colorStyle":"light","multiStat__displayOrientation":"horizontal","multiStat__labelColumn":null,"multiStat__slot":{"width":3,"height":1},"colorRules":[]}},{"id":"9eb001bc-9d0f-43f7-9ad7-c82e7b6a5b0a","title":"SQL Deadlocks by Table","visualType":"table","pageId":"5464aca4-0e79-4cc9-acaf-5bfcba11b235","layout":{"x":16,"y":2,"width":8,"height":8},"queryRef":{"kind":"query","queryId":"7b0419de-7337-4e1e-ac96-f609ee99224a"},"visualOptions":{"table__enableRenderLinks":true,"colorRulesDisabled":true,"colorStyle":"light","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[],"table__renderLinks":[],"colorRules":[]}},{"id":"b5ef2a52-4641-4f7f-8111-ecfad3ea65d1","title":"Page performance per Day","visualType":"column","pageId":"94d9d8ce-b39a-4f2d-bf77-11c032f0fd9e","layout":{"x":0,"y":46,"width":24,"height":12},"queryRef":{"kind":"query","queryId":"0d0bb6dd-14ed-4cd6-b78d-0db5553a03ae"},"visualOptions":{"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"hideLegend":false,"xColumnTitle":"","xColumn":"timestamp","yColumns":["count_"],"seriesColumns":["perfBucket"],"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"legendLocation":"bottom","crossFilter":[],"drillthrough":[]}},{"id":"65f3f1c6-55d9-4799-a87a-667780537c1b","title":"Outgoing WS Errors","visualType":"table","pageId":"61a90ca3-7409-4c63-93a7-c415f15e4ea3","layout":{"x":0,"y":0,"width":24,"height":8},"queryRef":{"kind":"query","queryId":"56c83888-0cfe-4f23-b27a-8d71fc21888b"},"visualOptions":{"table__enableRenderLinks":true,"colorRulesDisabled":true,"colorStyle":"light","crossFilterDisabled":true,"drillthroughDisabled":true,"crossFilter":[{"interaction":"column","property":"count_","disabled":false}],"drillthrough":[{"pairs":[{"parameterId":"faae011a-19c6-437e-a04c-d7de238ed7ad","property":"timestamp"}],"destinationPages":["a1b9eab8-5e92-446b-bdd0-6df8160c9c54"],"disabled":false}],"table__renderLinks":[],"colorRules":[]}},{"id":"9f1a080f-e85b-4a2a-b944-3ff24df8966b","title":"LRAM by Process per hour","visualType":"timechart","pageId":"a1b9eab8-5e92-446b-bdd0-6df8160c9c54","layout":{"x":0,"y":26,"width":24,"height":13},"queryRef":{"kind":"query","queryId":"01efb413-5186-42c8-9c1c-1466b755aa1a"},"visualOptions":{"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"hideLegend":false,"xColumnTitle":"","xColumn":null,"yColumns":null,"seriesColumns":null,"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"legendLocation":"bottom","crossFilter":[],"drillthrough":[]}},{"id":"a692c101-13f5-4664-be6d-8202441261b7","title":"LRQ By Process","visualType":"table","pageId":"a1b9eab8-5e92-446b-bdd0-6df8160c9c54","layout":{"x":0,"y":39,"width":24,"height":13},"queryRef":{"kind":"query","queryId":"f3d615db-ba01-47aa-8966-dcd964b68669"},"visualOptions":{"table__enableRenderLinks":true,"colorRulesDisabled":true,"colorStyle":"light","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[],"table__renderLinks":[],"colorRules":[]}},{"id":"ada8ab7e-45d0-4c85-b21f-48550df5ad8a","title":"LRQ by Process per hour","visualType":"timechart","pageId":"a1b9eab8-5e92-446b-bdd0-6df8160c9c54","layout":{"x":0,"y":52,"width":24,"height":13},"queryRef":{"kind":"query","queryId":"03b4fb63-0c60-40dd-ac0e-cd6cda6ba72d"},"visualOptions":{"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"hideLegend":false,"xColumnTitle":"","xColumn":null,"yColumns":null,"seriesColumns":["ObjectType","ObjectId","ObjectName","Source Process"],"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"legendLocation":"bottom","crossFilter":[],"drillthrough":[]}},{"id":"f984a491-0c12-4652-8cff-cb91a8c7a042","title":"Web Service Errors","visualType":"table","pageId":"9bd8a199-ba41-40fa-87b8-f9833a040b03","layout":{"x":0,"y":27,"width":24,"height":8},"queryRef":{"kind":"query","queryId":"ea095d5f-4993-4de5-a7fa-537a91e8c5c7"},"visualOptions":{"table__enableRenderLinks":true,"colorRulesDisabled":false,"colorStyle":"light","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[],"table__renderLinks":[],"colorRules":[{"id":"8ef4ce1b-e009-4ad7-939e-7cd290cfbf1d","ruleType":"colorByCondition","applyToColumn":null,"hideText":false,"applyTo":"cells","conditions":[{"operator":">","column":"Avg. Time","values":["5000"]}],"chainingOperator":"and","colorStyle":"bold","color":"red","tag":"","icon":null,"ruleName":"Avg. Time > 5000","visualType":"table"},{"id":"0b1b883a-6153-437d-bc75-e7fbbceb0f6b","ruleType":"colorByCondition","applyToColumn":null,"hideText":false,"applyTo":"cells","conditions":[{"operator":">","column":"Avg. Time","values":["750"]},{"operator":"<=","column":"Avg. Time","values":["5000"]}],"chainingOperator":"and","colorStyle":"bold","color":"yellow","tag":"","icon":null,"ruleName":"Avg. Time > 750","visualType":"table"}]}},{"id":"9a208ae6-3899-4899-9865-01f66829e543","title":"Outgoing WS Errors Details","visualType":"table","pageId":"61a90ca3-7409-4c63-93a7-c415f15e4ea3","layout":{"x":0,"y":8,"width":24,"height":8},"queryRef":{"kind":"query","queryId":"e40d26b4-16f2-4c92-8370-7c4c4758e6f8"},"visualOptions":{"table__enableRenderLinks":true,"colorRulesDisabled":true,"colorStyle":"light","crossFilterDisabled":true,"drillthroughDisabled":true,"crossFilter":[{"interaction":"column","property":"count_","disabled":false}],"drillthrough":[{"pairs":[{"parameterId":"faae011a-19c6-437e-a04c-d7de238ed7ad","property":"timestamp"}],"destinationPages":["a1b9eab8-5e92-446b-bdd0-6df8160c9c54"],"disabled":false}],"table__renderLinks":[],"colorRules":[]}},{"id":"f803ea14-c961-4270-88c9-e606c986af30","title":"Page performance per Hour","visualType":"column","pageId":"41c2b22e-69f3-4513-9227-26c3c42e9a08","layout":{"x":0,"y":11,"width":24,"height":12},"queryRef":{"kind":"query","queryId":"025ff0b7-f6ef-44e5-9ae9-1e2b04a55476"},"visualOptions":{"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"hideLegend":false,"xColumnTitle":"","xColumn":"timestamp","yColumns":["count_"],"seriesColumns":["perfBucket"],"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"legendLocation":"bottom","crossFilter":[],"drillthrough":[]}},{"id":"6527c03a-e18a-4bbb-9888-ee3d562cd742","title":"No. of Long Running SQL Queries (weekly)","visualType":"column","pageId":"94d9d8ce-b39a-4f2d-bf77-11c032f0fd9e","layout":{"x":0,"y":58,"width":12,"height":14},"queryRef":{"kind":"query","queryId":"ca5d9612-5e43-4366-a8fa-9849e37ef07a"},"visualOptions":{"xColumn":null,"multipleYAxes":{"additional":[],"showMultiplePanels":false,"base":{"horizontalLines":[],"yAxisScale":"linear","yAxisMaximumValue":null,"yAxisMinimumValue":null,"columns":[],"label":"","id":"-1"}},"yColumns":null,"seriesColumns":null,"hideLegend":true,"xColumnTitle":"","xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"legendLocation":"bottom","crossFilter":[],"drillthrough":[]}},{"id":"edeff75b-3f3e-402a-aa9e-6cf63da97c96","title":"No. of Long Running AL Methods (weekly)","visualType":"column","pageId":"94d9d8ce-b39a-4f2d-bf77-11c032f0fd9e","layout":{"x":12,"y":58,"width":12,"height":14},"queryRef":{"kind":"query","queryId":"9aa479ec-632f-4c5d-abad-2b243051c354"},"visualOptions":{"xColumn":null,"multipleYAxes":{"additional":[],"showMultiplePanels":false,"base":{"horizontalLines":[],"yAxisScale":"linear","yAxisMaximumValue":null,"yAxisMinimumValue":null,"columns":[],"label":"","id":"-1"}},"yColumns":null,"seriesColumns":null,"hideLegend":true,"xColumnTitle":"","xAxisScale":"linear","verticalLine":"","crossFilterDisabled":true,"drillthroughDisabled":false,"legendLocation":"bottom","crossFilter":[{"interaction":"column","property":"count_","disabled":false}],"drillthrough":[{"pairs":[{"parameterId":"faae011a-19c6-437e-a04c-d7de238ed7ad","property":"timestamp"}],"destinationPages":["a1b9eab8-5e92-446b-bdd0-6df8160c9c54"],"disabled":false}]}},{"id":"84038a84-f704-4346-a981-79b8222635bb","title":"No. of  SQL Deadlocks (weekly)","visualType":"column","pageId":"94d9d8ce-b39a-4f2d-bf77-11c032f0fd9e","layout":{"x":0,"y":72,"width":12,"height":14},"queryRef":{"kind":"query","queryId":"d27f8bbf-348c-414f-ac0b-b171ffa100e3"},"visualOptions":{"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"hideLegend":true,"xColumnTitle":"","xColumn":null,"yColumns":null,"seriesColumns":null,"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"legendLocation":"bottom","crossFilter":[],"drillthrough":[]}},{"id":"9e12e864-db6c-4256-a647-fe18b87f7b3a","title":"No. of SQL Lock Timeout (weekly)","visualType":"column","pageId":"94d9d8ce-b39a-4f2d-bf77-11c032f0fd9e","layout":{"x":12,"y":72,"width":12,"height":14},"queryRef":{"kind":"query","queryId":"f6bee997-a7ba-43f7-8823-5a14af6420d2"},"visualOptions":{"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"hideLegend":true,"xColumnTitle":"","xColumn":null,"yColumns":null,"seriesColumns":null,"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"legendLocation":"bottom","crossFilter":[],"drillthrough":[]}},{"id":"bcdfa0c5-5ad1-47ea-9bde-2b53324b6a1e","title":"Lock Timeouts","visualType":"table","pageId":"5464aca4-0e79-4cc9-acaf-5bfcba11b235","layout":{"x":0,"y":28,"width":24,"height":9},"queryRef":{"kind":"query","queryId":"28e6214f-321e-4136-80a1-4688cf8e5428"},"visualOptions":{"table__enableRenderLinks":true,"colorRulesDisabled":false,"colorStyle":"light","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[],"table__renderLinks":[],"colorRules":[{"id":"7646f4b7-fe5e-4d80-8657-91fcef071258","ruleType":"colorByCondition","applyToColumn":"Snapshot ID","hideText":false,"applyTo":"cells","conditions":[{"operator":">","column":"Snapshot ID","values":[""]}],"chainingOperator":"and","colorStyle":"light","color":"blue","tag":"","icon":null,"ruleName":"Snapshot ID >","visualType":"table"}]}},{"id":"565ee164-0a6f-40d7-95d4-fa8e7e097669","title":"SQL Deadlocks (5 min buckets)","visualType":"column","pageId":"5464aca4-0e79-4cc9-acaf-5bfcba11b235","layout":{"x":0,"y":10,"width":24,"height":9},"queryRef":{"kind":"query","queryId":"8faa1ec0-14ec-426a-adc0-c05931c12b91"},"visualOptions":{"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"hideLegend":false,"xColumnTitle":"","xColumn":"timestamp","yColumns":null,"seriesColumns":null,"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"legendLocation":"bottom","crossFilter":[],"drillthrough":[]}},{"id":"be7aaeb8-48b5-4dc4-98af-5b53d4f67f34","title":"Job Queue Errors","visualType":"table","pageId":"60f8536a-1e14-47a9-80d8-f2a08e0e9fc7","layout":{"x":0,"y":29,"width":24,"height":9},"queryRef":{"kind":"query","queryId":"0cbe8700-3ee9-49f3-af34-9f56d8f8bcb1"},"visualOptions":{"table__enableRenderLinks":true,"colorRulesDisabled":true,"colorStyle":"light","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[],"table__renderLinks":[],"colorRules":[]}},{"id":"5ab24045-9239-450a-bdda-8b2c60f88688","title":"LRAM Count and Average per Day buckets","visualType":"table","pageId":"e6b3a051-ba9e-4db5-912d-c63987fd1fb8","layout":{"x":0,"y":46,"width":24,"height":10},"queryRef":{"kind":"query","queryId":"f1de20e7-0c51-478a-830e-cbc1b805be33"},"visualOptions":{"hideLegend":false,"table__enableRenderLinks":false,"colorRulesDisabled":true,"colorStyle":"light","crossFilterDisabled":true,"drillthroughDisabled":true,"crossFilter":[{"interaction":"column","property":"extensionPublisher","parameterId":"9cc55dcf-17d4-4829-9340-37c385862cdf","disabled":false}],"drillthrough":[],"table__renderLinks":[],"colorRules":[]}},{"id":"b4421319-3848-4a9b-ae3c-3e2bad33b740","title":"Data Upgrade Performance","visualType":"table","pageId":"2951304b-62f3-4b7b-98c0-8c31c6d7ecd4","layout":{"x":0,"y":18,"width":24,"height":8},"queryRef":{"kind":"query","queryId":"1eb5d76f-f620-4fae-88b4-2b36168c2304"},"visualOptions":{"table__enableRenderLinks":true,"colorRulesDisabled":true,"colorStyle":"light","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[],"table__renderLinks":[],"colorRules":[]}},{"id":"9aff8892-39e8-4e24-b94b-ab881639421d","title":"Platform Update","visualType":"table","pageId":"2951304b-62f3-4b7b-98c0-8c31c6d7ecd4","layout":{"x":0,"y":2,"width":24,"height":8},"queryRef":{"kind":"query","queryId":"b30cf596-6da6-46d6-9a1b-b099c5e6d91b"},"visualOptions":{"table__enableRenderLinks":true,"colorRulesDisabled":true,"colorStyle":"light","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[],"table__renderLinks":[],"colorRules":[]}},{"id":"71a9cada-11c2-4ca0-8990-f9094e23a481","title":"Page Views","visualType":"table","pageId":"bc9ae068-c7b3-417e-8f99-82f1740e0427","layout":{"x":0,"y":0,"width":24,"height":8},"queryRef":{"kind":"query","queryId":"085d0617-0b69-4a03-a50e-cc5be1ded72e"},"visualOptions":{"table__enableRenderLinks":true,"colorRulesDisabled":false,"colorStyle":"light","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[],"table__renderLinks":[],"colorRules":[{"id":"2a89aee3-7e06-4e12-b956-c3464a42e9d7","ruleType":"colorByCondition","applyToColumn":null,"hideText":false,"applyTo":"rows","conditions":[{"operator":"==","column":"isNew","values":["Yes"]}],"chainingOperator":"and","colorStyle":"bold","color":"blue","tag":"","icon":null,"ruleName":"","visualType":"table"},{"id":"3add60e5-1a3e-432b-b0e1-87782f46e46c","ruleType":"colorByCondition","applyToColumn":null,"hideText":false,"applyTo":"rows","conditions":[{"operator":"<","column":"delta","values":["0"]}],"chainingOperator":"and","colorStyle":"bold","color":"red","tag":"","icon":null,"ruleName":"","visualType":"table"}]}},{"id":"56570211-6dd7-499e-b76d-cc61c2537855","title":"Long Running AL Methods - LRAM","visualType":"table","pageId":"bc9ae068-c7b3-417e-8f99-82f1740e0427","layout":{"x":0,"y":8,"width":24,"height":8},"queryRef":{"kind":"query","queryId":"f449330a-afb9-426f-a0a6-3d3156a61d08"},"visualOptions":{"table__enableRenderLinks":true,"colorRulesDisabled":false,"colorStyle":"light","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[],"table__renderLinks":[],"colorRules":[{"id":"2a89aee3-7e06-4e12-b956-c3464a42e9d7","ruleType":"colorByCondition","applyToColumn":null,"hideText":false,"applyTo":"rows","conditions":[{"operator":"==","column":"isNew","values":["Yes"]}],"chainingOperator":"and","colorStyle":"bold","color":"blue","tag":"","icon":null,"ruleName":"","visualType":"table"},{"id":"3add60e5-1a3e-432b-b0e1-87782f46e46c","ruleType":"colorByCondition","applyToColumn":null,"hideText":false,"applyTo":"rows","conditions":[{"operator":"<","column":"delta","values":["0"]}],"chainingOperator":"and","colorStyle":"bold","color":"red","tag":"","icon":null,"ruleName":"","visualType":"table"}]}},{"id":"76a79858-7510-456b-b308-0a9cd6be5c7d","title":"Long Running SQL Queries  - LRQ","visualType":"table","pageId":"bc9ae068-c7b3-417e-8f99-82f1740e0427","layout":{"x":0,"y":16,"width":24,"height":11},"queryRef":{"kind":"query","queryId":"f8c57bcc-0d2e-4b0c-8fe7-1dbad4dce7cd"},"visualOptions":{"table__enableRenderLinks":true,"colorRulesDisabled":false,"colorStyle":"light","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[],"table__renderLinks":[],"colorRules":[{"id":"2a89aee3-7e06-4e12-b956-c3464a42e9d7","ruleType":"colorByCondition","applyToColumn":null,"hideText":false,"applyTo":"rows","conditions":[{"operator":"==","column":"isNew","values":["Yes"]}],"chainingOperator":"and","colorStyle":"bold","color":"blue","tag":"","icon":null,"ruleName":"","visualType":"table"},{"id":"3add60e5-1a3e-432b-b0e1-87782f46e46c","ruleType":"colorByCondition","applyToColumn":null,"hideText":false,"applyTo":"rows","conditions":[{"operator":"<","column":"delta","values":["0"]}],"chainingOperator":"and","colorStyle":"bold","color":"red","tag":"","icon":null,"ruleName":"","visualType":"table"}]}},{"id":"d7333fa2-9b57-406e-85d9-626d7d751849","title":"Long Running AL methods (ms)","visualType":"table","pageId":"e6b3a051-ba9e-4db5-912d-c63987fd1fb8","layout":{"x":0,"y":11,"width":24,"height":10},"queryRef":{"kind":"query","queryId":"2d71dc51-4dfd-444b-92b4-4a3d1c6e9004"},"visualOptions":{"hideLegend":false,"table__enableRenderLinks":true,"colorRulesDisabled":false,"colorStyle":"light","crossFilterDisabled":true,"drillthroughDisabled":true,"crossFilter":[{"interaction":"column","property":"extensionPublisher","parameterId":"9cc55dcf-17d4-4829-9340-37c385862cdf","disabled":false}],"drillthrough":[],"table__renderLinks":[],"colorRules":[{"id":"0d9c7c7d-3fb5-4fa6-9308-286adf620062","ruleType":"colorByCondition","applyToColumn":null,"hideText":false,"applyTo":"rows","conditions":[{"operator":">","column":"Duration","values":["30000"]}],"chainingOperator":"and","colorStyle":"bold","color":"blue","tag":"","icon":null,"ruleName":"","visualType":"table"}]}},{"id":"bf9767c9-a20b-4ee0-8f61-54df71af13dd","title":"What was running : LRAM","visualType":"table","pageId":"4610c3a4-114b-48f5-a151-f3504d693951","layout":{"x":0,"y":0,"width":24,"height":8},"queryRef":{"kind":"query","queryId":"98cb1b12-4903-4d13-b742-b710caedb240"},"visualOptions":{"hideLegend":false,"table__enableRenderLinks":true,"colorRulesDisabled":true,"colorStyle":"light","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[],"table__renderLinks":[],"colorRules":[]}},{"id":"11dbbfae-61e7-4aa9-b14e-7f4f9f7e6aea","title":"What was running : LRQ","visualType":"table","pageId":"4610c3a4-114b-48f5-a151-f3504d693951","layout":{"x":0,"y":8,"width":24,"height":8},"queryRef":{"kind":"query","queryId":"0d441ef4-cc45-4507-a57f-fcd50b9f05c3"},"visualOptions":{"hideLegend":false,"table__enableRenderLinks":true,"colorRulesDisabled":true,"colorStyle":"light","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[],"table__renderLinks":[],"colorRules":[]}},{"id":"6c92ae4b-d79b-489b-a5a0-857103bd8f50","title":"What was running : Report","visualType":"table","pageId":"4610c3a4-114b-48f5-a151-f3504d693951","layout":{"x":0,"y":16,"width":24,"height":7},"queryRef":{"kind":"query","queryId":"3b980335-0d9d-4414-b045-7ef9386b8288"},"visualOptions":{"hideLegend":false,"table__enableRenderLinks":true,"colorRulesDisabled":true,"colorStyle":"light","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[],"table__renderLinks":[],"colorRules":[]}},{"id":"5b10636e-3558-49c2-b56e-116d518e0d73","title":"Number of signals per day","visualType":"timechart","pageId":"f5885bb6-1db1-42c3-888b-fa857a7b39fd","layout":{"x":0,"y":13,"width":24,"height":5},"queryRef":{"kind":"query","queryId":"ca74fe57-f6c7-4871-9e82-a0b323de172d"},"visualOptions":{"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"hideLegend":true,"xColumnTitle":"","xColumn":null,"yColumns":null,"seriesColumns":null,"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"legendLocation":"bottom","crossFilter":[],"drillthrough":[]}},{"id":"8cd94d5a-5c82-4215-851d-1d298528c1af","title":"Top 10 Companies (highest usages)","visualType":"bar","pageId":"f5885bb6-1db1-42c3-888b-fa857a7b39fd","layout":{"x":0,"y":18,"width":12,"height":7},"queryRef":{"kind":"query","queryId":"9161dd22-288e-4d03-a7a9-4e34f127b8aa"},"visualOptions":{"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"hideLegend":true,"xColumnTitle":"","xColumn":null,"yColumns":null,"seriesColumns":null,"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"legendLocation":"bottom","crossFilter":[],"drillthrough":[]}},{"id":"bdf5c82b-3194-48fb-a0af-3ecc69dc68bd","title":"Total of events","visualType":"table","pageId":"f5885bb6-1db1-42c3-888b-fa857a7b39fd","layout":{"x":12,"y":18,"width":12,"height":7},"queryRef":{"kind":"query","queryId":"60c1215d-bc46-477a-8464-b7b758237a03"},"visualOptions":{"table__enableRenderLinks":true,"colorRulesDisabled":true,"colorStyle":"light","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[],"table__renderLinks":[],"colorRules":[]}},{"id":"5a34918e-b009-4066-9013-bcac1e6da379","title":"Deadlocks","visualType":"markdownCard","pageId":"5464aca4-0e79-4cc9-acaf-5bfcba11b235","layout":{"x":0,"y":0,"width":24,"height":2},"markdownText":"## This page will only work for environment telemetry","visualOptions":{}},{"id":"e06fbc85-27e0-46d7-8d5f-61f09030230f","title":"Job Queue","visualType":"markdownCard","pageId":"60f8536a-1e14-47a9-80d8-f2a08e0e9fc7","layout":{"x":0,"y":0,"width":24,"height":2},"markdownText":"## This page will only work for environment telemetry","visualOptions":{}},{"id":"3eead0f2-e8e7-43c3-b739-eb0f33d07199","title":"Environment","visualType":"markdownCard","pageId":"2951304b-62f3-4b7b-98c0-8c31c6d7ecd4","layout":{"x":0,"y":0,"width":24,"height":2},"markdownText":"## This page will only work for environment telemetry","visualOptions":{}},{"id":"481c20ee-ccb4-4373-8949-0854272ca80c","title":"Most used publishers","visualType":"table","pageId":"f5885bb6-1db1-42c3-888b-fa857a7b39fd","layout":{"x":0,"y":25,"width":6,"height":7},"queryRef":{"kind":"query","queryId":"8a3286a8-0029-49d9-8cf5-232ecc0674ed"},"visualOptions":{"table__enableRenderLinks":true,"colorRulesDisabled":true,"colorStyle":"light","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[],"table__renderLinks":[],"colorRules":[]}},{"id":"c863b045-84f7-4761-bfa8-37886f2102b7","title":"Extensions per tenant","visualType":"table","pageId":"f5885bb6-1db1-42c3-888b-fa857a7b39fd","layout":{"x":6,"y":25,"width":9,"height":7},"queryRef":{"kind":"query","queryId":"15aa246d-7a1e-4d96-a9af-984b97c80b28"},"visualOptions":{"table__enableRenderLinks":true,"colorRulesDisabled":true,"colorStyle":"light","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[],"table__renderLinks":[],"colorRules":[]}},{"id":"785a1a8a-726f-4229-b646-687678860df4","title":"Reports","visualType":"table","pageId":"d56aa2ae-16de-49ec-8ab7-e269e55a1b42","layout":{"x":0,"y":0,"width":24,"height":9},"queryRef":{"kind":"query","queryId":"25fdee0a-04b7-4cb9-b6fd-15a568f6629f"},"visualOptions":{"table__enableRenderLinks":true,"colorRulesDisabled":true,"colorStyle":"light","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[],"table__renderLinks":[],"colorRules":[]}},{"id":"5083ccb7-6b11-42c2-8c07-53b07d712941","title":"Most used reports","visualType":"table","pageId":"d56aa2ae-16de-49ec-8ab7-e269e55a1b42","layout":{"x":0,"y":9,"width":24,"height":10},"queryRef":{"kind":"query","queryId":"3ebe5388-fd19-494c-98b4-98ace6df0e75"},"visualOptions":{"table__enableRenderLinks":true,"colorRulesDisabled":true,"colorStyle":"light","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[],"table__renderLinks":[],"colorRules":[]}}],"baseQueries":[{"id":"4ffbc404-9669-4348-98e4-9e081992873b","queryId":"74231806-96be-42a1-bb3a-8b84e2ab409b","variableName":"TracesBQ"},{"id":"5ab4c404-85af-48eb-8d6d-9b0cdc8439aa","queryId":"0bd207c6-a726-4487-8c7a-e5653f17d8d0","variableName":"PageViewsBQ"},{"id":"6b0b7c9e-c22e-466e-b870-86ed10ec6a36","queryId":"e7219e7a-a131-4d8b-abc3-d6f222f13614","variableName":"TracesNoTime"},{"id":"a14f189a-9b5a-4d5f-92d7-52d7be4374bc","queryId":"79611df8-15ff-4d02-a1f0-36f78456df22","variableName":"PageViewsNoTime"}],"parameters":[{"kind":"duration","id":"14f4fdfe-2079-4e7d-b5fd-a649cdba5516","displayName":"Time range","description":"","beginVariableName":"_startTime","endVariableName":"_endTime","defaultValue":{"kind":"dynamic","count":1,"unit":"hours"},"showOnPages":{"kind":"selection","pageIds":["f5885bb6-1db1-42c3-888b-fa857a7b39fd","d1a3fbcf-a4a6-4912-ab95-fd07bfe32849","e6b3a051-ba9e-4db5-912d-c63987fd1fb8","5df16e18-eb32-4daf-9612-82775e9f54b9","fd2a227c-d2e0-49f4-a2ad-b21b9a1dd382","9bd8a199-ba41-40fa-87b8-f9833a040b03","60f8536a-1e14-47a9-80d8-f2a08e0e9fc7","5464aca4-0e79-4cc9-acaf-5bfcba11b235","f8d3fce9-30ff-4167-a56b-bb7ab51b1b88","a766ad41-9070-40d7-8dd7-70676512faaa","2951304b-62f3-4b7b-98c0-8c31c6d7ecd4","be2920cc-d647-444d-b5c3-0d5ecd424aa5","61a90ca3-7409-4c63-93a7-c415f15e4ea3","41c2b22e-69f3-4513-9227-26c3c42e9a08","94d9d8ce-b39a-4f2d-bf77-11c032f0fd9e","a1b9eab8-5e92-446b-bdd0-6df8160c9c54"]}},{"kind":"string","id":"b70bde5b-1300-48e1-95c9-1f8f1519fc67","displayName":"Client Type","description":"","variableName":"_ClientType","selectionType":"array","includeAllOption":true,"defaultValue":{"kind":"all"},"dataSource":{"kind":"query","columns":{"value":"Client Type"},"queryRef":{"kind":"query","queryId":"cab20aea-b8a9-4a0b-adf2-834e69f1ff9f"}},"showOnPages":{"kind":"all"}},{"kind":"string","id":"9afff05d-ae00-4050-8ade-5fede3b5648e","displayName":"CompanyName","description":"","variableName":"_CompanyName","selectionType":"array","includeAllOption":true,"defaultValue":{"kind":"all"},"dataSource":{"kind":"query","columns":{"value":"CompanyName"},"queryRef":{"kind":"query","queryId":"3da981e8-17b0-4c8b-96e3-943fa6939bc3"}},"showOnPages":{"kind":"all"}},{"kind":"string","id":"9cc55dcf-17d4-4829-9340-37c385862cdf","displayName":"Publisher","description":"","variableName":"_publisher","selectionType":"array","includeAllOption":true,"defaultValue":{"kind":"all"},"dataSource":{"kind":"query","columns":{"value":"_publisher"},"queryRef":{"kind":"query","queryId":"670ce776-9f3e-4900-aa00-686b581fa82b"}},"showOnPages":{"kind":"all"}},{"kind":"int","selectionType":"freetext","id":"79f54d5e-e6ca-454c-a1de-1b53601ae873","displayName":"No. of JOINS","variableName":"_joins","description":"","defaultValue":{"kind":"value","value":0},"showOnPages":{"kind":"selection","pageIds":["d1a3fbcf-a4a6-4912-ab95-fd07bfe32849"]}},{"kind":"string","id":"4c124c10-b4d3-4eb7-b0f6-327aace8932b","displayName":"Environment Type","description":"","variableName":"_EnvironmentType","selectionType":"array","includeAllOption":true,"defaultValue":{"kind":"values","values":["Production"]},"dataSource":{"kind":"query","columns":{"value":"Environment Type"},"queryRef":{"kind":"query","queryId":"ca8c38d3-04bb-4cda-9871-c7cfcf0e74b4"}},"showOnPages":{"kind":"all"}},{"kind":"string","id":"e90e4713-5c88-446c-b71a-216cbf050b2b","displayName":"Environment Name","description":"","variableName":"_environmentName","selectionType":"scalar","includeAllOption":true,"defaultValue":{"kind":"all"},"dataSource":{"kind":"query","columns":{"value":"Environment Name"},"queryRef":{"kind":"query","queryId":"112248dd-6871-4702-8b9f-cebf967cca50"}},"showOnPages":{"kind":"all"}},{"kind":"string","id":"b11d8163-c8dd-4f83-bbd3-705da109bdee","displayName":"Session Id","description":"","variableName":"_sessionId","selectionType":"scalar","includeAllOption":true,"defaultValue":{"kind":"all"},"dataSource":{"kind":"query","columns":{"value":"Session ID"},"queryRef":{"kind":"query","queryId":"7476d01f-5f05-4b94-a96f-09755621aedc"}},"showOnPages":{"kind":"selection","pageIds":["d1a3fbcf-a4a6-4912-ab95-fd07bfe32849","e6b3a051-ba9e-4db5-912d-c63987fd1fb8","5464aca4-0e79-4cc9-acaf-5bfcba11b235"]}},{"kind":"datetime","id":"faae011a-19c6-437e-a04c-d7de238ed7ad","displayName":"Specific Date Time","description":"","variableName":"_SelectedDateTime","selectionType":"scalar","includeAllOption":true,"defaultValue":{"kind":"value","value":1672527600000},"dataSource":{"kind":"static","values":[{"value":1672527600000}]},"showOnPages":{"kind":"selection","pageIds":["8ebc7a2e-d0e0-42ba-814e-d6fab6ad7332"]}},{"kind":"string","id":"5432a3f9-4fbe-462d-a8c6-8bad6ce82998","displayName":"Tenant Id","description":"","variableName":"_aadTenantId","selectionType":"array","includeAllOption":true,"defaultValue":{"kind":"all"},"dataSource":{"kind":"query","columns":{"value":"Tenant Id"},"queryRef":{"kind":"query","queryId":"33ffcc48-ecf6-4c71-b595-f2a6e287edd5"}},"showOnPages":{"kind":"all"}},{"kind":"duration","id":"c3e493c6-e79f-4a84-baae-8d6315b0f163","displayName":"Update Time Range","description":"","beginVariableName":"_previousUpdateStartTime","endVariableName":"_updateStartTime","defaultValue":{"kind":"fixed","start":1719476760409,"end":1719480360409},"showOnPages":{"kind":"selection","pageIds":["bc9ae068-c7b3-417e-8f99-82f1740e0427"]}},{"kind":"int","id":"5c9bad28-0f56-48cc-9058-64bebf45fb34","displayName":"Count Limit","description":"Integer value to limit the number of Counts","variableName":"_countLimit","selectionType":"scalar","includeAllOption":false,"defaultValue":{"kind":"value","value":100},"dataSource":{"kind":"static","values":[{"value":10},{"value":50},{"value":100},{"value":200},{"value":500},{"value":1000}]},"showOnPages":{"kind":"selection","pageIds":["bc9ae068-c7b3-417e-8f99-82f1740e0427"]}},{"kind":"duration","id":"2deeecdc-7250-4a38-bcc2-ef1e1d678950","displayName":"Time Range","description":"","beginVariableName":"_FromPeriodTime","endVariableName":"_ToPeriodTime","defaultValue":{"kind":"dynamic","count":1,"unit":"hours"},"showOnPages":{"kind":"selection","pageIds":["4610c3a4-114b-48f5-a151-f3504d693951"]}}],"dataSources":[{"id":"99a3b70c-8819-4cce-844b-3c83734afb29","kind":"manual-kusto","scopeId":"kusto","name":"FPS-BC","clusterUri":"https://ade.applicationinsights.io/subscriptions/8c510a6c-fe3d-4ad7-99b8-09e455a4f02a","database":"FPS-BC-NL-ENV"}],"pages":[{"name":"Overview","id":"f5885bb6-1db1-42c3-888b-fa857a7b39fd"},{"name":"Statistics","id":"94d9d8ce-b39a-4f2d-bf77-11c032f0fd9e"},{"name":"SQL Query Usage","id":"d1a3fbcf-a4a6-4912-ab95-fd07bfe32849"},{"name":"AL Usage","id":"e6b3a051-ba9e-4db5-912d-c63987fd1fb8"},{"name":"Deadlocks / Locks","id":"5464aca4-0e79-4cc9-acaf-5bfcba11b235"},{"name":"Page Performance","id":"41c2b22e-69f3-4513-9227-26c3c42e9a08"},{"name":"OData Usage","id":"fd2a227c-d2e0-49f4-a2ad-b21b9a1dd382"},{"name":"Incoming WS","id":"9bd8a199-ba41-40fa-87b8-f9833a040b03"},{"name":"Outgoing WS","id":"61a90ca3-7409-4c63-93a7-c415f15e4ea3"},{"name":"Job Queue","id":"60f8536a-1e14-47a9-80d8-f2a08e0e9fc7"},{"name":"Miscellaneous","id":"a766ad41-9070-40d7-8dd7-70676512faaa"},{"name":"Environment","id":"2951304b-62f3-4b7b-98c0-8c31c6d7ecd4"},{"name":"Details","id":"a1b9eab8-5e92-446b-bdd0-6df8160c9c54"},{"id":"bc9ae068-c7b3-417e-8f99-82f1740e0427","name":"Post Update"},{"name":"What Was Running","id":"4610c3a4-114b-48f5-a151-f3504d693951"},{"name":"Reports","id":"d56aa2ae-16de-49ec-8ab7-e269e55a1b42"}],"queries":[{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"TracesBQ\n| where customDimensions.eventId == 'RT0005' \n| where customDimensions.alObjectId > 0\n| extend alObjectName = trim(@'XYZ',tostring(customDimensions.alObjectName))\n| extend extensionName = trim(@'XYZ',tostring(customDimensions.extensionName))\n| extend eventId = customDimensions.eventId \n, sqlStatement = tostring(customDimensions.sqlStatement)\n, extensionId = customDimensions.extensionId\n, extensionInfo = strcat(extensionName, ' ', customDimensions.extensionVersion, \n    (iff(isnotempty(tostring(customDimensions.extensionPublisher)), strcat(' - ', tostring(customDimensions.extensionPublisher)), '')))\n, alObjectInfo = strcat(customDimensions.alObjectType, ' ', customDimensions.alObjectId, ' - ', alObjectName)\n, alStackTrace = tostring(customDimensions.alStackTrace)\n, clientType = tostring(customDimensions.clientType)\n, alObjectId = customDimensions.alObjectId\n, alObjectType = customDimensions.alObjectType\n, executionTimeInMS = toreal(totimespan(customDimensions.executionTime))/10000  \n| extend operationType = case(\n    sqlStatement startswith \"UPDATE\", \"UPDATE\"\n    , sqlStatement startswith \"DELETE\", \"DELETE\"\n    , sqlStatement startswith \"BeginTransaction\", \"BEGIN_TRANS\"\n    , sqlStatement matches regex \"INSERT INTO\", \"INSERT\"\n    , sqlStatement startswith \"SELECT\", \"SELECT\"\n    , sqlStatement matches regex \"IF EXISTS \\\\(SELECT (.*)\\\\) SELECT\", \"SELECT'\"\n    , sqlStatement has \"SELECT NEXT VALUE FOR\", \"SELECT_SEQUENCE_VALUE\"\n    , sqlStatement has \"SELECT @@SPID\", \"SELECT_SPID\"\n    , sqlStatement matches regex \"(.*)WITH\", \"SELECT\"\n    , sqlStatement startswith \"CREATE TABLE\", \"CREATE_TABLE\"\n    , sqlStatement startswith \"ALTER TABLE\", \"ALTER_TABLE\"\n    , sqlStatement startswith \"exec sp_rename\", \"RENAME_TABLE\" \n    , sqlStatement matches regex \"(.*)DROP TABLE\", \"DROP_TABLE\"\n    , sqlStatement startswith \"SET LOCK_TIMEOUT\", \"SET_LOCK_TIMEOUT\"\n    , sqlStatement has \"sp_getapplock\", \"GET_APP_LOCK\"\n    , \"UNKNOWN\"\n)\n, withUPDLOCK = iff(customDimensions.sqlStatement has 'UPDLOCK','Yes', 'No')\n, numberOfJoins = countof(sqlStatement, \"JOIN\") \n, numberOfFlowFields = countof(sqlStatement, \"OUTER APPLY\") \n, extensionIdsFromJOIN = tostring( extract_all(\"JOIN \\\"SQLDATABASE\\\"\\\\.dbo\\\\.\\\"CURRENTCOMPANY\\\\$.+?\\\\$(\\\\S+?)\\\"\", sqlStatement) )\n| parse kind=regex sqlStatement with selectPart:string \"FROM\" rest:string\n| extend numberOfColumnsSelected = case(\n    operationType == \"SELECT\", countof(selectPart,\",\") + 1\n    , operationType == \"SELECT'\", countof(selectPart,\",\") + 1\n    , 0\n)\n, isolationLevel = case(\n    sqlStatement has 'WITH(UPDLOCK)', 'UPDLOCK'\n  , sqlStatement has 'WITH(READUNCOMMITTED)', 'ReadUncommitted'\n  , sqlStatement has 'WITH(READCOMMITTED)', 'ReadCommitted' // available from 22.0\n  , sqlStatement has 'WITH(REPEATABLEREAD)', 'RepeatableRead' // not sure about this yet\n  , 'Default'\n),\nextensionInfo = strcat( customDimensions.extensionName, ' ', customDimensions.extensionVersion)\n, searchQuery = sqlStatement has 'LIKE' and sqlStatement has 'COLLATE'\n, aadTenantId = tostring( customDimensions.aadTenantId )\n| sort by timestamp desc \n| project timestamp, \n    [\"Aad TenantId\"] = aadTenantId,\n    [\"Client Type\"] = clientType, \n    [\"Extension Info\"] = tostring(extensionInfo),\n    [\"AL Object ID\"] = alObjectId,\n    [\"AL Object Type\"] = alObjectType,\n    [\"AL Object Name\"] = alObjectName,\n    [\"Duration\"] = executionTimeInMS, \n    [\"Type\"] = operationType, \n    [\"Search Query\"] = searchQuery,\n    [\"FlowFields\"] = numberOfFlowFields, \n    [\"JOINs\"] = numberOfJoins, \n    [\"with UPDLOCK\"] = withUPDLOCK,\n    [\"AL Object Information\"] = alObjectInfo, \n    [\"AL Stack Trace\"] = alStackTrace,\n    [\"Extension Information\"] = extensionInfo,\n    [\"SQL Statement\"] = sqlStatement,\n    [\"Isolation Level\"] = isolationLevel,\n    [\"User Telemetry ID\"] = user_Id,\n    [\"Session Id\"] = session_Id\n    ","id":"2b2faddb-9351-4046-8bdb-247a744d772d","usedVariables":["TracesBQ"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"let Timeouts = TracesBQ\n| where customDimensions.eventId == 'RT0012'\n| extend sqlStatement = replace_string(tostring(customDimensions.sqlStatement),'XYZ','')\n    , stackTrace = replace_string(tostring(customDimensions.alStackTrace),'XYZ','')\n    , alObjectName = replace_string(tostring(customDimensions.alObjectName),'XYZ','')\n    , extensionName = replace_string(tostring(customDimensions.extensionName),'XYZ','')\n| extend snapshotId = tostring( customDimensions.snapshotId )\n| project snapshotId, timestamp\n, [\"AL Object Type\"] = customDimensions.alObjectType\n, [\"AL Object Id\"] = customDimensions.alObjectId\n, [\"AL Object Name\"] = alObjectName\n, [\"AL Stack Trace\"] = stackTrace\n, [\"AL Execution Method\"] = customDimensions.alExecutingMethodScope\n, [\"Extension Name\"] = customDimensions.extensionName\n, [\"Extension Version\"] = customDimensions.extensionVersion\n, [\"User Telemetry Id\"] = case(\n  toint( substring(customDimensions.componentVersion,0,2)) >= 20, user_Id\n, 'N/A'\n)\n;\nTimeouts\n| join (TracesBQ\n| where customDimensions.eventId == 'RT0013'\n| extend sqlStatement = replace_string(tostring(customDimensions.sqlStatement),'XYZ','')\n    , stackTrace = replace_string(tostring(customDimensions.alStackTrace),'XYZ','')\n    , alObjectName = replace_string(tostring(customDimensions.alObjectName),'XYZ','')\n    , extensionName = replace_string(tostring(customDimensions.extensionName),'XYZ','')\n| extend snapshotId = tostring( customDimensions.snapshotId )\n| project snapshotId\n, alObjectTypeHoldingLock = customDimensions.alObjectType\n, alObjectIdHoldingLock = customDimensions.alObjectId\n, alObjectNameHoldingLock = alObjectName\n, alStackTraceHoldingLock = stackTrace\n, alExecutionMethodHoldingLock = customDimensions.alExecutingMethodScope\n, sqlTableLocked = customDimensions.sqlTableName\n, sqlLockResourceType = customDimensions.sqlLockResourceType\n, sqlLockRequestMode = customDimensions.sqlLockRequestMode\n, sqlLockRequestStatus = customDimensions.sqlLockRequestStatus\n, sqlServerSessionId = customDimensions.sqlServerSessionId\n, alSessionIdHoldingLock = customDimensions.sessionId\n, extensionNameHoldingLock = extensionName\n, extensionVersionHoldingLock = customDimensions.extensionVersion\n, clientTypeHoldingLock = customDimensions.clientType\n)\non$left.snapshotId == $right.snapshotId\n| order by snapshotId\n| project-away snapshotId, snapshotId1","id":"5cffff63-ccd2-49a5-811b-bab8275b8088","usedVariables":["TracesBQ"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"TracesBQ\n| where operation_Name == 'Long Running Operation (SQL Query)' // do note that in a later version of the schema, this field will not be used \n     or customDimensions.eventId == 'RT0005' // starting from version 16.1, the eventId is used to identity signal types\n| where customDimensions.alObjectId > 0 // filter out internal server calls\n| project timestamp\n| summarize count() by bin(timestamp, 10min)\n| render timechart ","id":"4815994c-bcd0-425e-8bdd-a2c7408b30a0","usedVariables":["TracesBQ"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"let _maxCount = 20;\nTracesBQ\n| where customDimensions.eventId == 'RT0005' \n| where customDimensions.alObjectId > 0 // filter out internal server calls\n| extend alObjectName = trim('XYZ',tostring(customDimensions.alObjectName))\n| extend alObjectInfo = strcat(tostring(customDimensions.alObjectType), ' ', tostring(customDimensions.alObjectId), ' - ',alObjectName)\n| summarize count() by alObjectInfo\n| sort by count_\n| limit _maxCount ","id":"04830316-39ad-4707-aab1-afaa212d4bb2","usedVariables":["TracesBQ"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"let _maxCount = 20;\nTracesBQ\n| where customDimensions.eventId == 'RT0018'\n| extend extensionName = trim('XYZ', tostring(customDimensions.extensionName))\n  , alObjectName = trim('XYZ',tostring(customDimensions.alObjectName))\n  , alMethod = trim('XYZ',tostring( customDimensions.alMethod)) \n| extend environmentName = tostring(customDimensions.environmentName)\n, aadTenantId = tostring( customDimensions.aadTenantId )\n, alObjectInfo = strcat(customDimensions.alObjectType, ' ', customDimensions.alObjectId, ' - ', alObjectName)\n, executionTimeInMS = toreal(totimespan(customDimensions.executionTime))/10000 //the datatype for executionTime is timespan \n, suspendedTime = customDimensions.suspendedTime // will come on 22.x\n, extensionInfo = strcat( extensionName, ' ', customDimensions.extensionVersion)\n, clientType = tostring(customDimensions.clientType)\n, exclusiveTime = customDimensions.exclusiveTime // This dimension was introduced in Business Central 2023 release wave 1, version 22.1. Backported to version 21.6\n, exclusiveTimeInMS = toreal(totimespan(customDimensions.exclusiveTime))/10000 //the datatype for exclusiveTime is timespan \n, alStackTrace = tostring(customDimensions.alStackTrace)\n, longRunningThreshold = tostring(customDimensions.longRunningThreshold)\n, longRunningThresholdInMS = toreal(totimespan(customDimensions.longRunningThreshold))/10000 //the datatype for executionTime is timespan \n, sqlExecutes = toint(customDimensions.sqlExecutes) // This dimension was introduced in Business Central 2023 release wave 1, version 22.0\n, sqlRowsRead = toint(customDimensions.sqlRowsRead) // This dimension was introduced in Business Central 2023 release wave 1, version 22.0\n, usertelemetryId = case(\n  // user telemetry id was introduced in the platform in version 20.0\n  toint( substring(customDimensions.componentVersion,0,2)) >= 20, user_Id\n, 'N/A')\n| summarize count(), sum( executionTimeInMS ), avg( executionTimeInMS ), sum(exclusiveTimeInMS), avg(exclusiveTimeInMS),\n    minTime = toint(min(executionTimeInMS)),\n    maxTime = toint(max(executionTimeInMS)),\n    stdDev = toint(stdev(executionTimeInMS)),\n    avgSqlExecutes = toint(avg(sqlExecutes)),\n    avgSqlRowsRead = toint(avg(sqlRowsRead))\nby aadTenantId, environmentName, alObjectInfo, alMethod, extensionInfo, clientType, alStackTrace\n| order by avg_executionTimeInMS desc \n| project \n    [\"Tenant Id\"] = aadTenantId,\n    [\"Environment Name\"] = environmentName,\n    [\"AL Object Information\"] = alObjectInfo,\n    [\"AL Method\"] = alMethod,\n    [\"AL Stack Trace\"] = alStackTrace,\n    [\"Extension Information\"] = extensionInfo,\n    [\"Client Type\"] = clientType,\n    [\"Count\"] = count_,\n    [\"Avg SQL Executes\"] = avgSqlExecutes,\n    [\"Avg SQL Rows Read\"] = avgSqlRowsRead,\n    [\"Avg Duration\"] = round(avg_executionTimeInMS, 2),\n    [\"Total Duration\"] = round(sum_executionTimeInMS,2),\n    [\"Avg Exclusive Time\"] = round(avg_exclusiveTimeInMS,2),\n    [\"Total Exclusive Time\"] = round(sum_exclusiveTimeInMS,2),\n    [\"Min Time\"] = minTime,\n    [\"Max Time\"] = maxTime,\n    [\"Std. Dev.\"] = stdDev\n| limit _maxCount\n| sort by Count","id":"e49962d8-eb84-45f7-8ffa-5d1355e0ce16","usedVariables":["TracesBQ"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"let _upperLimit = 5000;\nlet _appInsightsTraces = materialize  (\n    TracesBQ\n    | where customDimensions.eventId == \"RT0005\"\n    | where customDimensions.alObjectId > 0\n);\nlet _lowerThresholdinMs = toscalar (\n    _appInsightsTraces\n    | limit 1\n    | extend _executionTimeInMS = toreal(totimespan(customDimensions.executionTime))/10000\n    | extend _longRunningThresholdInMS = iff(toreal(customDimensions.longRunningThresholdInMs) > 0, \n            toreal(customDimensions.longRunningThresholdInMs),\n            toreal(totimespan(customDimensions.longRunningThreshold))/10000)\n    | project tostring(toint(_longRunningThresholdInMS))\n);\nlet _totalQueries = toscalar (\n    _appInsightsTraces\n    | count \n);\nlet _tooManyJoins = toscalar (\n    _appInsightsTraces\n    | extend sqlStatement = tostring(customDimensions.sqlStatement)\n    | extend _numberOfJoins = countof(sqlStatement, \"JOIN\")\n    | where _numberOfJoins > 5\n    | count \n);\nlet _longQueries = toscalar (\n    _appInsightsTraces\n    | extend _executionTimeInMS = toreal(totimespan(customDimensions.executionTime))/10000\n    | where _executionTimeInMS > toint(customDimensions.longRunningThresholdInMs) and _executionTimeInMS < _upperLimit\n    | count \n);\nlet _veryLongQueries = toscalar (\n    _appInsightsTraces\n    | extend _executionTimeInMS = toreal(totimespan(customDimensions.executionTime))/10000\n    | where _executionTimeInMS >= _upperLimit\n    | count \n);\n_appInsightsTraces\n| limit 1\n| project strcat(\n                \"|\",\"Total Queries\", \n                \"|\", \"Long Running Queries\", \n                \"|\", \"Very Long Running Queries\", \n                \"|\", \"Queries with  many Joins\", \"|\\n\", \n                \"|------------------|:---------------|:---------------|:---------------|\\n\",\n                \"|\", _totalQueries, \"|\", _longQueries, \"|\", _veryLongQueries, \"|\", _tooManyJoins, \"\\n\",\n                \"\\n **Note:** \\n\",\n                \"- The **Lower Threshold** is defined as greater than \", _lowerThresholdinMs, \" ms and less than \", _upperLimit, \" ms\\n\",\n                \"- The **Upper Threshold** is defined greater than or equal to \", _upperLimit, \" ms\\n\")\n\n\n","id":"2312b224-7448-47ef-963c-ba4302336c57","usedVariables":["TracesBQ"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"let _maxDuration = 24h;\nlet _currentDuration = _endTime - _startTime;\nlet _duration = iff(_currentDuration > _maxDuration , _maxDuration, _currentDuration);\nTracesBQ \n| where timestamp >= ago(_duration)\n| where customDimensions.eventId == \"RT0008\"\n| where toupper(customDimensions.category) contains \"ODATA\"\n| extend _endpoint = strcat(\"WS/\", customDimensions.alObjectType,'/', customDimensions.alObjectId, '(',tostring(customDimensions.endpoint),')')\n| extend _processingTimeMS = toreal(totimespan(customDimensions.serverExecutionTime))/10000\n| project [\"Endpoint\"] = _endpoint, \n        [\"Object Type\"] = tostring(customDimensions.alObjectType), \n        [\"Object No.\"] = tostring(customDimensions.alObjectId), \n        _processingTimeMS, \n        [\"Publisher\"] = tostring(customDimensions.extensionPublisher),\n        [\"Environment Name\"] = tostring(customDimensions.environmentName),\n        [\"Environment Type\"] = tostring(customDimensions.environmentType)\n| summarize count(), [\"Avg. Time\"] = round(avg(_processingTimeMS),2), [\"Total Time\"] = round(sum(_processingTimeMS),2) by [\"Endpoint\"], [\"Object Type\"], [\"Object No.\"], [\"Publisher\"], [\"Environment Name\"], [\"Environment Type\"]\n| sort by count_","id":"7e0a24b2-73d0-459f-99aa-1b978f6fc922","usedVariables":["TracesBQ","_endTime","_startTime"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"let _appInsightsTraces = materialize  (\n    TracesBQ\n    | where customDimensions.eventId == \"RT0018\"\n    | extend _executionTimeInMS = toreal(totimespan(customDimensions.executionTime))/10000\n    | extend _longRunningThresholdInMS = iff(toreal(customDimensions.longRunningThresholdInMs) > 0, \n            toreal(customDimensions.longRunningThresholdInMs),\n            toreal(totimespan(customDimensions.longRunningThreshold))/10000)\n    | where _executionTimeInMS > _longRunningThresholdInMS\n    | project timestamp, message, [\"alObjectType\"] = toupper(customDimensions.alObjectType), customDimensions          \n);\nlet _thresholdInMs = toscalar (\n    _appInsightsTraces\n    | limit 1\n    | extend _executionTimeInMS = toreal(totimespan(customDimensions.executionTime))/10000\n    | extend _longRunningThresholdInMS = iff(toreal(customDimensions.longRunningThresholdInMs) > 0, \n            toreal(customDimensions.longRunningThresholdInMs),\n            toreal(totimespan(customDimensions.longRunningThreshold))/10000)\n    | project tostring(toint(_longRunningThresholdInMS))\n);\nlet _longPages = toscalar (\n    _appInsightsTraces\n    | where alObjectType == \"PAGE\" \n    | count \n);\nlet _longCodeunits = toscalar (\n    _appInsightsTraces\n    | where alObjectType == \"CODEUNIT\" \n    | count \n);\nlet _longReports = toscalar (\n    _appInsightsTraces\n    | where alObjectType == \"REPORT\" \n    | count \n);\nlet _longQueries = toscalar (\n    _appInsightsTraces\n    | where alObjectType == \"QUERY\" \n    | count \n);\nlet _longXMLPorts = toscalar (\n    _appInsightsTraces\n    | where alObjectType == \"XMLPORT\" \n    | count \n);\nlet _longTables = toscalar (\n    _appInsightsTraces\n    | where alObjectType == \"TABLE\" \n    | count \n);\nlet _longPageExtensions = toscalar (\n    _appInsightsTraces\n    | where alObjectType == \"PAGEEXTENSION\" \n    | count \n);\nlet _longTableExtensions = toscalar (\n    _appInsightsTraces\n    | where alObjectType == \"TABLEEXTENSION\" \n    | count \n);\nlet _longReportExtensions = toscalar (\n    _appInsightsTraces\n    | where alObjectType == \"REPORTEXTENSION\" \n    | count \n);\n_appInsightsTraces\n| limit 1\n| extend Md = strcat('|', _longTables, \n                     '|', _longPages, \n                     '|', _longCodeunits, \n                     '|', _longReports, \n                     '|', _longXMLPorts,\n                     '|', _longQueries,\n                     '|', _longTableExtensions,\n                     '|', _longPageExtensions,\n                     '|', _longReportExtensions)\n| summarize Md = make_list(Md)\n| extend Md = strcat_array(Md, ' \\n')\n| extend Md = strcat('| Table | Page | Codeunit | Report | XMLport | Query | Table Extension | Page Extension | Report Extension |\\n|'\n                      '-------|-------|-------|-------|-------|-------|-------|-------|-------|\\n ', Md)","id":"51518c9e-c4aa-46eb-b87f-84f1bbb48b5a","usedVariables":["TracesBQ"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"TracesBQ\n| where customDimensions.eventId == 'RT0012'\n| extend sqlStatement = replace_string(tostring(customDimensions.sqlStatement),'XYZ','')\n    , stackTrace = replace_string(tostring(customDimensions.alStackTrace),'XYZ','')\n    , alObjectName = replace_string(tostring(customDimensions.alObjectName),'XYZ','')\n    , extensionName = replace_string(tostring(customDimensions.extensionName),'XYZ','')\n| extend\n   alObjectId = customDimensions.alObjectId\n  , companyName = tostring(customDimensions.companyName)\n  , clientType = tostring(customDimensions.clientType)\n  , alObjectType = customDimensions.alObjectType\n  , extensionVersion = customDimensions.extensionVersion\n  , extensionInfo = strcat(extensionName, ' ', customDimensions.extensionVersion, \n    (iff(isnotempty(tostring(customDimensions.extensionPublisher)), strcat(' - ', tostring(customDimensions.extensionPublisher)), '')))\n  , extensionId = customDimensions.extensionId\n  , sqlServerSessionId = customDimensions.sqlServerSessionId\n  , snapshotId = tostring(customDimensions.snapshotId)\n  , timestamp\n| summarize count() by bin(timestamp,5min)\n","id":"0409cb2e-20ee-49a7-b89d-675b757ad2b2","usedVariables":["TracesBQ"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"let _searchSting = 'AL CallStack: ';\nTracesBQ\n| where customDimensions.eventId == 'RT0005'\n| where customDimensions.sqlStatement has 'UPDLOCK'\n| extend sqlStatement = replace_string(tostring(customDimensions.sqlStatement),'XYZ','')\n    , stackTrace = replace_string(tostring(customDimensions.alStackTrace),'XYZ','')\n    , alObjectName = replace_string(tostring(customDimensions.alObjectName),'XYZ','')\n    , extensionName = replace_string(tostring(customDimensions.extensionName),'XYZ','')\n| parse kind=regex sqlStatement with selectPart: string \"FROM \\\"SQLDATABASE\\\".dbo.\\\"CURRENTCOMPANY\\\\$\" tablenamewithjoins: string \"\\\\$\" space: string\n| parse kind=regex tablenamewithjoins with tablenaamenojoins: string \"\\\\$\" newspace : string \n| parse kind=regex tablenaamenojoins with space2: string \"\\\\$\" onlytablenamenojoins: string \n//| parse kind=regex tablenamewithjoins with stringtoeliminate: string \"\\\\$\" tablenamewithoutjoins: string\n| extend tablename = case(\n    tablenamewithjoins contains \"$\", onlytablenamenojoins\n    , tablenamewithjoins \n)\n| project timestamp\n, [\"Client Type\"] = tostring(customDimensions.clientType)\n, [\"Duration (sec)\"] = toreal(totimespan(customDimensions.executionTime))/10000000 \n, [\"Object Information\"] = strcat(customDimensions.alObjectType, ' ', customDimensions.alObjectId, ' ', \n    alObjectName)\n, [\"Stack Trace\"] = substring(stackTrace, \n                            indexof(customDimensions.alStackTrace, _searchSting) + strlen(_searchSting))\n, [\"Extension Information\"] = strcat(extensionName, ' ' , customDimensions.extensionVersion, ' - ',\n    customDimensions.extensionPublisher)\n, Table = tablename\n| summarize [\"Count\"] = count(), [\"Avg (sec)\"] = round(avg(['Duration (sec)']),0) by ['Stack Trace'], ['Client Type'], ['Extension Information'], ['Object Information'], Table\n| top 20 by ['Avg (sec)'] * Count desc","id":"3eec3a24-9c19-4a68-8b3a-06e7297ccfe9","usedVariables":["TracesBQ"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"let _appInsightsTraces = materialize (\n    TracesBQ\n);\nlet _enqueuedJQ = materialize (\n    _appInsightsTraces\n    | where customDimensions.eventId == \"AL0000E24\"\n    | summarize [\"Enqueued Count\"] = count() by bin(timestamp, 30min) \n);\nlet _startedJQ = materialize (\n    _appInsightsTraces\n    | where customDimensions.eventId == \"AL0000E25\"\n    | summarize [\"Started Count\"] = count() by bin(timestamp, 30min)\n);\nlet _finishedJQ = materialize (\n    _appInsightsTraces\n    | where customDimensions.eventId == \"AL0000E26\"\n    | summarize [\"Finished Count\"] = count() by bin(timestamp, 30min)\n);\nlet _failedToBeEnqueuedJQ = materialize (\n    _appInsightsTraces\n    | where customDimensions.eventId == \"AL0000FNY\"\n    | summarize [\"Failed to be enqueued Count\"] = count() by bin(timestamp, 30min)\n);\nlet _failedCanBeRetriedJQ = materialize (\n    _appInsightsTraces\n    | where customDimensions.eventId == \"AL0000HE7\"\n    | summarize [\"Failed Can Be Retried Count\"] = count() by bin(timestamp, 30min)\n);\nlet _RescheduledOnLoginJQ = materialize (\n    _appInsightsTraces\n    | where customDimensions.eventId == \"AL0000I49\"\n    | summarize [\"Rescheduled On Login Count\"] = count() by bin(timestamp, 30min)\n);\nlet _RunOnceByUserJQ = materialize (\n    _appInsightsTraces\n    | where customDimensions.eventId == \"AL0000FMG\"\n    | summarize [\"Run Once By User Count\"] = count() by bin(timestamp, 30min)\n);\nlet _FailedAndStoppedJQ = materialize (\n    _appInsightsTraces\n    | where customDimensions.eventId == \"AL0000JRG\"\n    | summarize [\"Failed And Stopped Count\"] = count() by bin(timestamp, 30min)\n);\n_startedJQ\n| join kind=leftouter ( _finishedJQ) on timestamp\n| join kind=leftouter (_enqueuedJQ) on timestamp\n| join kind=leftouter (_failedToBeEnqueuedJQ) on timestamp\n| join kind=leftouter (_failedCanBeRetriedJQ) on timestamp\n| join kind=leftouter (_RescheduledOnLoginJQ) on timestamp\n| join kind=leftouter (_RunOnceByUserJQ) on timestamp\n| join kind=leftouter (_FailedAndStoppedJQ) on timestamp\n| project-away timestamp1, timestamp2, timestamp3, timestamp4, timestamp5, timestamp6, timestamp7\n| sort by timestamp asc \n","id":"0f5d8fa2-1e27-4bc2-9467-7843768a367e","usedVariables":["TracesBQ"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"let _searchString = 'Job queue entry';\nTracesBQ\n| where customDimensions.eventId in (\"AL0000E24\", \"AL0000E25\", \"AL0000E26\",\"AL0000FNY\",\"AL0000HE7\",\"AL0000I49\",\"AL0000FMG\",\"AL0000FNY\")\n| extend _stateDescription = substring(message, strlen(_searchString), indexof(message, ':')-strlen(_searchString))\n| extend alObjectName = trim('XYZ',tostring(customDimensions.alJobQueueObjectName))\n| project  \n    [\"Entry Id\"] = tostring(customDimensions.alJobQueueId),\n    timestamp,\n    [\"Environment Type\"] = tostring(customDimensions.environmentType),\n    [\"State\"] = strcat(toupper(substring(_stateDescription, 1, 1)), substring(_stateDescription, 2)),\n    [\"Status\"] = customDimensions.alJobQueueStatus, \n    [\"Object Id\"]  = customDimensions.alJobQueueObjectId,\n    [\"Object Type\"] = customDimensions.alJobQueueObjectType,\n    [\"Object Name\"]  = alObjectName,\n    [\"Recurring\"] = customDimensions.alJobQueueIsRecurring\n| sort by timestamp asc\n\n\n\n\n\n","id":"d3df13d8-1c5d-45f9-a94b-085a1ea667fe","usedVariables":["TracesBQ"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"let _maxDuration = 24h;\nlet _currentDuration = _endTime - _startTime;\nlet _duration = iff(_currentDuration > _maxDuration , _maxDuration, _currentDuration);\nTracesBQ \n| where timestamp >= ago(_duration)\n| where customDimensions.eventId == \"RT0008\"\n| where toupper(customDimensions.category) == \"API\"\n| extend _endpoint = strcat(\"WS/\", customDimensions.alObjectType,'/', customDimensions.alObjectId, '(',tostring(customDimensions.endpoint),')')\n| extend _processingTimeMS = toreal(totimespan(customDimensions.serverExecutionTime))/10000\n| project [\"Endpoint\"] = _endpoint, \n        [\"Object Type\"] = tostring(customDimensions.alObjectType), \n        [\"Object No.\"] = tostring(customDimensions.alObjectId), \n        _processingTimeMS, \n        [\"Environment Type\"] = tostring(customDimensions.environmentType)\n| summarize count(), [\"Avg. Time\"] = round(avg(_processingTimeMS),2), [\"Total Time\"] = round(sum(_processingTimeMS),2) by [\"Endpoint\"], [\"Object Type\"], [\"Object No.\"], [\"Environment Type\"]\n| sort by count_\n","id":"dd2356cf-d206-455e-9b0d-3cec30d3b2b8","usedVariables":["TracesBQ","_endTime","_startTime"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"let _maxDuration = 24h;\nlet _maxCount = 20;\nlet _currentDuration = _endTime - _startTime;\nlet _duration = iff(_currentDuration > _maxDuration , _maxDuration, _currentDuration);\nTracesBQ \n| where timestamp >= ago(_duration)\n| where customDimensions.eventId == \"RT0008\"\n| where toupper(customDimensions.category) == \"API\"\n| extend _endpoint = strcat(\"WS/\", customDimensions.alObjectType,'/', customDimensions.alObjectId, '(',tostring(customDimensions.endpoint),')')\n| extend _processingTimeMS = toreal(totimespan(customDimensions.serverExecutionTime))/10000\n| summarize [\"API Duration\"] = round(sum(_processingTimeMS),2) by [\"Endpoint\"] = _endpoint\n| sort by [\"API Duration\"] desc \n| limit _maxCount","id":"87e8f2fb-b6c7-4718-bfa8-b553f2d54991","usedVariables":["TracesBQ","_endTime","_startTime"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"let _maxDuration = 24h;\nlet _maxCount = 20;\nlet _currentDuration = _endTime - _startTime;\nlet _duration = iff(_currentDuration > _maxDuration , _maxDuration, _currentDuration);\nTracesBQ \n| where timestamp >= ago(_duration)\n| where customDimensions.eventId == \"RT0008\"\n| where toupper(customDimensions.category) == \"API\"\n| extend _endpoint = strcat(\"WS/\", customDimensions.alObjectType,'/', customDimensions.alObjectId, '(',tostring(customDimensions.endpoint),')')\n| extend _processingTimeMS = toreal(totimespan(customDimensions.serverExecutionTime))/10000\n| summarize [\"SOAP Calls\"] = count() by [\"Endpoint\"] = _endpoint\n| sort by [\"SOAP Calls\"] desc \n| limit _maxCount\n","id":"2ee9cbbb-ce01-4a63-8f54-0fed73355854","usedVariables":["TracesBQ","_endTime","_startTime"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"let _maxDuration = 24h;\nlet _maxCount = 20;\nlet _currentDuration = _endTime - _startTime;\nlet _duration = iff(_currentDuration > _maxDuration , _maxDuration, _currentDuration);\nTracesBQ \n| where timestamp >= ago(_duration)\n| where customDimensions.eventId == \"RT0008\"\n| where toupper(customDimensions.category) contains \"ODATA\"\n| extend _endpoint = strcat(\"WS/\", customDimensions.alObjectType,'/', customDimensions.alObjectId, '(',tostring(customDimensions.endpoint),')')\n| extend _processingTimeMS = toreal(totimespan(customDimensions.serverExecutionTime))/10000\n| summarize [\"OData Duration\"] = round(sum(_processingTimeMS),2) by [\"Endpoint\"] = _endpoint\n| sort by [\"OData Duration\"] desc \n| limit _maxCount\n","id":"22c03c8f-bf28-4c2e-b5c5-43fbdcbd5017","usedVariables":["TracesBQ","_endTime","_startTime"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"let _maxDuration = 24h;\nlet _maxCount = 20;\nlet _currentDuration = _endTime - _startTime;\nlet _duration = iff(_currentDuration > _maxDuration , _maxDuration, _currentDuration);\nTracesBQ \n| where timestamp >= ago(_duration)\n| where customDimensions.eventId == \"RT0008\"\n| where toupper(customDimensions.category) contains \"ODATA\"\n| extend _endpoint = strcat(\"WS/\", customDimensions.alObjectType,'/', customDimensions.alObjectId, '(',tostring(customDimensions.endpoint),')')\n| extend _processingTimeMS = toreal(totimespan(customDimensions.serverExecutionTime))/10000\n| summarize [\"SOAP Calls\"] = count() by [\"Endpoint\"] = _endpoint\n| sort by [\"SOAP Calls\"] desc \n| limit _maxCount","id":"be2a7460-330b-49be-b522-e70adc991bda","usedVariables":["TracesBQ","_endTime","_startTime"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"let _maxCount = 20;\nlet _searchType = toupper('PAGE');\nTracesBQ\n| where customDimensions.eventId == 'RT0018'\n| where toupper(customDimensions.alObjectType) == _searchType\n| extend extensionName = trim('XYZ', tostring(customDimensions.extensionName))\n  , alObjectName = trim('XYZ',tostring(customDimensions.alObjectName))\n  , alMethod = trim('XYZ',tostring( customDimensions.alMethod)) \n| extend alObjectInfo = strcat(customDimensions.alObjectType, ' ', customDimensions.alObjectId, ' - ', alObjectName)\n, executionTime = customDimensions.executionTime\n, executionTimeInMS = toreal(totimespan(customDimensions.executionTime))/10000 //the datatype for executionTime is timespan \n| extend executionTimeInSec = executionTimeInMS / 1000\n| summarize count(), sum( executionTimeInSec ), avg( executionTimeInSec ) by alObjectInfo\n| order by avg_executionTimeInSec desc \n| project [\"AL Object Information\"] = alObjectInfo,\n    [\"Ocurrance\"] = count_,\n    [\"Avg Duration\"] = round(avg_executionTimeInSec, 2),\n    [\"Total Duration\"] = round(sum_executionTimeInSec,2)\n| sort by Ocurrance desc\n| limit _maxCount","id":"7e37b3ee-8237-4bad-995b-213640c226c9","usedVariables":["TracesBQ"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"let _maxCount = 20;\nlet _searchType = toupper('REPORT');\nTracesBQ\n| where customDimensions.eventId == 'RT0018'\n| where toupper(customDimensions.alObjectType) == _searchType\n| extend extensionName = trim('XYZ', tostring(customDimensions.extensionName))\n  , alObjectName = trim('XYZ',tostring(customDimensions.alObjectName))\n  , alMethod = trim('XYZ',tostring( customDimensions.alMethod)) \n| extend alObjectInfo = strcat(customDimensions.alObjectType, ' ', customDimensions.alObjectId, ' - ', alObjectName)\n, executionTime = customDimensions.executionTime\n, executionTimeInMS = toreal(totimespan(customDimensions.executionTime))/10000 //the datatype for executionTime is timespan \n| extend executionTimeInSec = executionTimeInMS / 1000\n| summarize count(), sum( executionTimeInSec ), avg( executionTimeInSec ) by alObjectInfo\n| order by avg_executionTimeInSec desc \n| project [\"AL Object Information\"] = alObjectInfo,\n    [\"Ocurrance\"] = count_,\n    [\"Avg Duration\"] = round(avg_executionTimeInSec, 2),\n    [\"Total Duration\"] = round(sum_executionTimeInSec,2)\n| sort by Ocurrance desc\n| limit _maxCount\n","id":"890ba393-17b9-49a4-b992-1432d9691345","usedVariables":["TracesBQ"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"TracesBQ\n| where customDimensions.eventId in ('AL0000E24', 'AL0000E25', 'AL0000E26')\n| extend alJobQueueObjectName = trim('XYZ',tostring(customDimensions.alJobQueueObjectName))\n| extend alJobQueueObjectId = toint(customDimensions.alJobQueueObjectId)\n    , alJobQueueObjectType = tostring(customDimensions.alJobQueueObjectType)\n    , alJobQueueExecutionTimeInSec = toreal(customDimensions.alJobQueueExecutionTimeInMs) /10000\n| summarize \n    mintime = toreal(totimespan(min(alJobQueueExecutionTimeInSec))),\n    avgTime = toreal(totimespan(avg(alJobQueueExecutionTimeInSec))),\n    maxTime = toreal(totimespan(max(alJobQueueExecutionTimeInSec))),\n    ExecutionCount = toint(count())\n    by\n    alJobQueueObjectId,\n    alJobQueueObjectType,\n    alJobQueueObjectName\n| order by maxTime\n| project\n    [\"Job Queue Object ID\"] = alJobQueueObjectId,\n    [\"Job Queue Object Type\"] = alJobQueueObjectType,\n    [\"Job Queue Object Name\"] = alJobQueueObjectName,\n    [\"Execution Count\"] = toint(ExecutionCount),\n    [\"Min. Time (sec)\"] = mintime,\n    [\"Avg. Time (sec)\"] = avgTime,\n    [\"Max. Time (sec)\"] = maxTime\n| sort by ['Execution Count'] desc","id":"6701a396-de00-4877-b03e-9aa8878bbd47","usedVariables":["TracesBQ"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"let _limit = 4;\nlet _appInsightsTraces = materialize  (\n    TracesBQ\n    | where customDimensions.eventId == \"RT0008\"\n    | project timestamp, message, customDimensions\n);\nlet _soapThreshold = toscalar(\n    _appInsightsTraces\n    | where toupper(customDimensions.category) == \"SOAP\"\n    | extend _processingTimeMS = toreal(totimespan(customDimensions.serverExecutionTime))/10000\n    | summarize round(avg(_processingTimeMS),2)\n);\nlet _soapCalls = toscalar( \n    _appInsightsTraces\n    | where toupper(customDimensions.category) == \"SOAP\"\n    | count\n);\nlet _longRunningSoapCalls = toscalar(\n    _appInsightsTraces\n    | where toupper(customDimensions.category) == \"SOAP\"\n    | extend _processingTimeMS = toreal(totimespan(customDimensions.serverExecutionTime))/10000\n    | where _processingTimeMS > (_soapThreshold * _limit)\n    | count\n);\nlet _odataThreshold = toscalar(\n    _appInsightsTraces\n    | where toupper(customDimensions.category) contains \"ODATA\"\n    | extend _processingTimeMS = toreal(totimespan(customDimensions.serverExecutionTime))/10000\n    | summarize round(avg(_processingTimeMS),2)\n);\nlet _odataCalls = toscalar(\n    _appInsightsTraces\n    | where toupper(customDimensions.category) contains \"ODATA\"\n    | count\n);\nlet _longRunningOdataCalls = toscalar(\n    _appInsightsTraces\n    | where toupper(customDimensions.category) == \"ODATA\"\n    | extend _processingTimeMS = toreal(totimespan(customDimensions.serverExecutionTime))/10000\n    | where _processingTimeMS > (_odataThreshold * _limit)\n    | count\n);\nlet _apiThreshold = toscalar(\n    _appInsightsTraces\n    | where toupper(customDimensions.category) == \"API\"\n    | extend _processingTimeMS = toreal(totimespan(customDimensions.serverExecutionTime))/10000\n    | summarize round(avg(_processingTimeMS),2)\n);\nlet _apiCalls = toscalar(\n    _appInsightsTraces\n    | where toupper(customDimensions.category) == \"API\"\n    | count\n);\nlet _longRunningApiCalls = toscalar(\n    _appInsightsTraces\n    | where toupper(customDimensions.category) == \"API\"\n    | extend _processingTimeMS = toreal(totimespan(customDimensions.serverExecutionTime))/10000\n    | where _processingTimeMS > (_apiThreshold * _limit)\n    | count\n);\n_appInsightsTraces\n| limit 1\n| project strcat(\"|\",\"SOAP Calls\", \n                 \"|\", \"Average\", \n                 \"|\", \"Long Running\", \n                 \"|\", \" \", \n                 \"|\", \"OData Calls\", \n                 \"|\", \"Average\", \n                 \"|\", \"Long Running\", \n                 \"|\", \" \", \n                 \"|\", \"API Calls\", \n                 \"|\", \"Average\", \n                 \"|\", \"Long Running|\\n\",\n                \"|------------------|:---------------|:---------------|:---------------|:---------------|:---------------|:---------------|:---------------|:---------------|:---------------|:---------------|\\n\",\n                \"|\", _soapCalls, \n                \"|\", _soapThreshold, \n                \"|\", _longRunningSoapCalls, \n                \"|\", \"\", \n                \"|\", _odataCalls, \n                \"|\", _odataThreshold, \n                \"|\", _longRunningOdataCalls, \n                \"|\", \"\",\n                \"|\", _apiCalls, \n                \"|\", _apiThreshold, \n                \"|\", _longRunningApiCalls, \"\\n\",\n                \"- **Long Running calls are those that are greater than 4x the Average**\")","id":"6e85c303-3a0b-49d4-8df1-be3687aaa3a7","usedVariables":["TracesBQ"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"TracesBQ\n| where customDimensions.eventId in ('LC0024', 'LC0025')\n| project \n  timestamp\n, eventId = tostring(customDimensions.eventId)\n, environmentType = tostring(customDimensions.environmentType)\n, environmentName = tostring(customDimensions.environmentName)\n, alObjectId = toint(customDimensions.alObjectId)\n, alObjectName = replace_string(tostring(customDimensions.alObjectName),'XYZ','')\n, extensionId = tostring(customDimensions.extensionId)\n, extensionName = replace_string(tostring(customDimensions.extensionName),'XYZ','')\n, keyMaintainSIFTIndex = tostring(customDimensions.keyMaintainSIFTIndex)\n, keyMaintainSQLIndex = tostring(customDimensions.keyMaintainSQLIndex)\n, keyFields = tostring(customDimensions.keyFields)\n, keyName = replace_string(tostring(customDimensions.keyName),'XYZ','')\n, message","id":"8269dfd7-d6b5-462b-9add-712b4a3819c9","usedVariables":["TracesBQ"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"PageViewsBQ\n| where customDimensions.alObjectId > 0\n| extend alObjectName = replace_string(tostring(customDimensions.alObjectName),'XYZ','')\n| extend alObjectId = tostring(customDimensions.alObjectId)\n    , clientType = tostring(customDimensions.clientType)\n    , eventId = tostring(customDimensions.eventID) // note that this is different from other signal\n    , pageMode = tostring(customDimensions.pageMode)\n    , pageType = tostring(customDimensions.pageType)\n    , environmentName = tostring(customDimensions.environmentName)\n| summarize \n    ExecutionCount = count(),\n    minTime = toint(min(duration)),\n    avgTime = toint(avg(duration)),\n    maxTime = toint(max(duration))\n    by\n    alObjectId,\n    alObjectName,\n    eventId,\n//    pageMode,\n    pageType,\n    environmentName\n| project\n    [\"Environment Name\"] = environmentName,\n    [\"AL Object ID\"] = alObjectId,\n    [\"AL Object Name\"] = alObjectName,\n    [\"Page Type\"] = pageType,\n//    [\"Page Mode\"] = pageMode,\n    [\"Execution Count\"] = ExecutionCount,\n    [\"Min. Time\"] = minTime,\n    [\"Avg. Time\"] = avgTime,\n    [\"Max. Time\"] = maxTime\n| order by ['Execution Count'] desc ","id":"4fcda6d8-81b6-4a0c-979b-edc818d0460a","usedVariables":["PageViewsBQ"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"let _maxCount = 20;\nlet _searchType = toupper('CODEUNIT');\nTracesBQ\n| where customDimensions.eventId == 'RT0018'\n| where toupper(customDimensions.alObjectType) == _searchType\n| extend extensionName = trim('XYZ', tostring(customDimensions.extensionName))\n  , alObjectName = trim('XYZ',tostring(customDimensions.alObjectName))\n  , alMethod = trim('XYZ',tostring( customDimensions.alMethod)) \n| extend alObjectInfo = strcat(customDimensions.alObjectType, ' ', customDimensions.alObjectId, ' - ', alObjectName)\n, executionTime = customDimensions.executionTime\n, executionTimeInMS = toreal(totimespan(customDimensions.executionTime))/10000 //the datatype for executionTime is timespan \n| extend executionTimeInSec = executionTimeInMS / 1000\n| summarize count(), sum( executionTimeInSec ), avg( executionTimeInSec ) by alObjectInfo\n| order by avg_executionTimeInSec desc \n| project [\"AL Object Information\"] = alObjectInfo,\n    [\"Ocurrance\"] = count_,\n    [\"Avg Duration\"] = round(avg_executionTimeInSec, 2),\n    [\"Total Duration\"] = round(sum_executionTimeInSec,2)\n| sort by Ocurrance desc\n| limit _maxCount\n","id":"e70e6774-3453-420f-a3f2-c6c251aec598","usedVariables":["TracesBQ"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"let _maxCount = 20;\nlet _searchType = 'QUERY';\nTracesBQ\n| where customDimensions.eventId == 'RT0018'\n| where toupper(customDimensions.alObjectType) == _searchType\n| extend extensionName = trim('XYZ', tostring(customDimensions.extensionName))\n  , alObjectName = trim('XYZ',tostring(customDimensions.alObjectName))\n  , alMethod = trim('XYZ',tostring( customDimensions.alMethod)) \n| extend alObjectInfo = strcat(customDimensions.alObjectType, ' ', customDimensions.alObjectId, ' - ', alObjectName)\n, executionTime = customDimensions.executionTime\n, executionTimeInMS = toreal(totimespan(customDimensions.executionTime))/10000 //the datatype for executionTime is timespan \n| extend executionTimeInSec = executionTimeInMS / 1000\n| summarize count(), sum( executionTimeInSec ), avg( executionTimeInSec ) by alObjectInfo\n| order by avg_executionTimeInSec desc \n| project [\"AL Object Information\"] = alObjectInfo,\n    [\"Ocurrance\"] = count_,\n    [\"Avg Duration\"] = round(avg_executionTimeInSec, 2),\n    [\"Total Duration\"] = round(sum_executionTimeInSec,2)\n| sort by Ocurrance desc\n| limit _maxCount","id":"8a308d7e-f628-4fad-abb8-266c43e3652c","usedVariables":["TracesBQ"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"TracesBQ\n| where customDimensions has 'CL0002'\n| where customDimensions.eventId == 'CL0002'\n| where customDimensions.userFeedback in ('Yes', 'No')\n| extend EnvironmentName = tostring( customDimensions.environmentName )\n| project timestamp\n, ClientType = tostring( customDimensions.clientType )\n, ErrorMessage = tostring( customDimensions.errorMessage )\n, StackTrace = replace_string(tostring(customDimensions.alStackTrace),'XYZ','')\n, HostType = customDimensions.hostType\n, UserFeedback = customDimensions.userFeedback\n, UserLocale = customDimensions.userLocale\n","id":"5ce916a5-d8b4-4377-871d-8a065697c5ca","usedVariables":["TracesBQ"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"// Environment soft deleted successfully\nTracesBQ\n| where customDimensions.eventId == 'LC0181'\n| project timestamp\n, message\n, applicationFamily = customDimensions.applicationFamily\n, countryCode = customDimensions.countryCode\n, deletionReason = customDimensions.deletionReason\n, environmentName = customDimensions.environmentName\n, environmentType = customDimensions.environmentType\n, totalTime = customDimensions.totalTime\n","id":"f65f9b31-546e-4237-9e13-f158312176c9","usedVariables":["TracesBQ"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"let environment_lifecycle_events = \nTracesBQ\n| where customDimensions has 'Dynamics 365 Business Central Control Plane'\n| where customDimensions.eventId in ( 'LC0106', 'LC0114', 'LC0117', 'LC0120', 'LC0126', 'LC0134', 'LC0141', 'LC0142', 'LC0146', 'LC0150', 'LC0153', 'LC0159', 'LC0181' )\n| project timestamp\n, environmentName = customDimensions.environmentName\n, environmentType = customDimensions.environmentType\n, whatChanged = 'Environment'\n, operation = case(\n    customDimensions.eventId == 'LC0106', 'Updated'\n  , customDimensions.eventId == 'LC0114', 'Started'\n  , customDimensions.eventId == 'LC0117', 'Stopped'\n  , customDimensions.eventId == 'LC0120', 'Copied'\n  , customDimensions.eventId == 'LC0126', 'Point-in-time restored' \n  , customDimensions.eventId == 'LC0134', 'Moved to different AAD tenant' \n  , customDimensions.eventId == 'LC0141', 'Database exported' \n  , customDimensions.eventId == 'LC0142', 'Configuration key updated' \n  , customDimensions.eventId == 'LC0146', 'Update window modified'         \n  , customDimensions.eventId == 'LC0150', 'Deleted (permanently)'\n  , customDimensions.eventId == 'LC0153', 'Renamed'\n  , customDimensions.eventId == 'LC0159', 'App hotfix applied'\n  , customDimensions.eventId == 'LC0181', 'Deleted (marked for deletion)'\n  , customDimensions.eventId == 'LC0184', 'Recovered (un-deleted)'            \n  , 'Unknown event'\n)\n, onWhat = tostring( customDimensions.environmentName ) // which environment\n, sourceVersion = tostring(customDimensions.extensionSourceVersion)\n, destinationVersion = tostring(customDimensions.extensionDestinationVersion)\n;\nlet extension_lifecycle_events = \ntraces\n| where timestamp between (_startTime .. _endTime)\n| where customDimensions.environmentName has_any (_environmentName)\n| where customDimensions.environmentType has_any (_EnvironmentType)\n| where customDimensions has 'RT0010'\n     or customDimensions has 'LC0010'\n     or customDimensions has 'LC0011'\n     or customDimensions has 'LC0012'\n     or customDimensions has 'LC0013'\n     or customDimensions has 'LC0014'\n     or customDimensions has 'LC0015'\n     or customDimensions has 'LC0016'\n     or customDimensions has 'LC0017'\n     or customDimensions has 'LC0018'\n     or customDimensions has 'LC0019'\n     or customDimensions has 'LC0020'\n     or customDimensions has 'LC0021'\n     or customDimensions has 'LC0022'\n     or customDimensions has 'LC0023'\n| where customDimensions.eventId in ('RT0010', 'LC0010', 'LC0011', 'LC0012', 'LC0013', 'LC0014', 'LC0015', 'LC0016', 'LC0017', 'LC0018', 'LC0019', 'LC0020', 'LC0021', 'LC0022', 'LC0023')    \n| project timestamp\n, environmentName = customDimensions.environmentName\n, environmentType = customDimensions.environmentType\n, whatChanged = 'Extension'\n, operation = case(\n    customDimensions.eventId=='RT0010', 'Update failed (upgrade code)'\n  , customDimensions.eventId=='LC0010', 'Install succeeded'\n  , customDimensions.eventId=='LC0011', 'Install failed'\n  , customDimensions.eventId=='LC0010', 'Install succeeded'\n  , customDimensions.eventId=='LC0012', 'Synch succeeded'\n  , customDimensions.eventId=='LC0013', 'Synch failed'           \n  , customDimensions.eventId=='LC0014', 'Publish succeeded'\n  , customDimensions.eventId=='LC0015', 'Publish failed'\n  , customDimensions.eventId=='LC0016', 'Un-install succeeded'\n  , customDimensions.eventId=='LC0017', 'Un-install failed'\n  , customDimensions.eventId=='LC0018', 'Un-publish succeeded'\n  , customDimensions.eventId=='LC0019', 'Un-publish failed'\n  , customDimensions.eventId=='LC0020', 'Compilation succeeded'\n  , customDimensions.eventId=='LC0021', 'Compilation failed'\n  , customDimensions.eventId=='LC0022', 'Update succeeded'\n  , customDimensions.eventId=='LC0023', 'Update failed (other)'\n  , 'Unknown message'\n)\n, onWhat = replace_string(tostring( customDimensions.extensionName ),'XYZ','') // which extension\n, sourceVersion = tostring(customDimensions.extensionSourceVersion)\n, destinationVersion = tostring(customDimensions.extensionDestinationVersion)\n;\nlet index_lifecycle_events = \ntraces\n| where timestamp between (_startTime .. _endTime)\n| where customDimensions.environmentName has_any (_environmentName)\n| where customDimensions.environmentType has_any (_EnvironmentType)\n| where customDimensions has 'LC0024' \n     or customDimensions has 'LC0025'\n| where customDimensions.eventId in ('LC0024', 'LC0025')\n| project timestamp\n, environmentName = customDimensions.environmentName\n, environmentType = customDimensions.environmentType\n, whatChanged = 'Index'\n, operation = case(\n    customDimensions.eventId == 'LC0024', 'Added'\n  , customDimensions.eventId == 'LC0025', 'Removed'\n  , 'Unknown message'\n)\n, onWhat = replace_string(tostring( customDimensions.alObjectName ),'XYZ','') // which table\n, sourceVersion = tostring(customDimensions.extensionSourceVersion)\n, destinationVersion = tostring(customDimensions.extensionDestinationVersion)\n;\nlet company_lifecycle_events = \ntraces\n| where timestamp between (_startTime .. _endTime)\n| where customDimensions.environmentName has_any (_environmentName)\n| where customDimensions.environmentType has_any (_EnvironmentType)\n| where customDimensions has 'LC0001' \n     or customDimensions has 'LC0004' \n     or customDimensions has 'LC0007'\n| where customDimensions.eventId in ('LC0001', 'LC0004', 'LC0007')\n| project timestamp\n, environmentName = customDimensions.environmentName\n, environmentType = customDimensions.environmentType\n, whatChanged = 'Company'\n, operation = case(\n    customDimensions.eventId == 'LC0001', 'Company created'\n  , customDimensions.eventId == 'LC0004', 'Company copied'\n  , customDimensions.eventId == 'LC0007', 'Company deleted'    \n  ,                    'Unknown message'\n)\n, onWhat = case(\n    customDimensions.eventId == 'LC0001', tostring( 'Redacted CompanyName' )\n  , customDimensions.eventId == 'LC0004', tostring( 'Redacted CompanyNameSource' )\n  , customDimensions.eventId == 'LC0007', tostring( 'Redacted CompanyName' )\n  ,                    'Unknown message'\n) // which company\n, sourceVersion = tostring(customDimensions.extensionSourceVersion)\n, destinationVersion = tostring(customDimensions.extensionDestinationVersion)\n, usertelemetryId = case(\n  // user telemetry id was introduced in the platform in version 20.0\n  toint( substring(customDimensions.componentVersion,0,2)) >= 20, user_Id\n, 'N/A'\n) // who did it\n;\nlet feature_management_state_changes = \n// Feature management state changes\n// Available from 22.0\ntraces\n| where timestamp between (_startTime .. _endTime)\n| where customDimensions.environmentName has_any (_environmentName)\n| where customDimensions.environmentType has_any (_EnvironmentType)\n| where customDimensions has 'AL0000JT3'\n| where customDimensions.eventId == 'AL0000JT3'\n| project timestamp\n, environmentName = customDimensions.environmentName\n, environmentType = customDimensions.environmentType\n, whatChanged = 'Feature'\n, operation = tostring( customDimensions.alStatus) // enabled/disabled\n, onWhat = tostring( customDimensions.alFeatureDescription ) // which feature\n, sourceVersion = tostring(customDimensions.extensionSourceVersion)\n, destinationVersion = tostring(customDimensions.extensionDestinationVersion)\n, usertelemetryId = user_Id // who did it\n;\nlet retention_policy_deletes = \ntraces\n| where timestamp between (_startTime .. _endTime)\n| where customDimensions.environmentName has_any (_environmentName)\n| where customDimensions.environmentType has_any (_EnvironmentType)\n| where customDimensions has 'AL0000D6H'\n| where customDimensions.eventId == 'AL0000D6H'\n| extend RecordsDeleted = toint(customDimensions.alRecordsDeleted)\n, TableNumber = customDimensions.alTableNo\n, TableName = replace_string(tostring( customDimensions.alTableName ),'XYZ','')\n| where RecordsDeleted > 0\n| project timestamp\n, environmentName = customDimensions.environmentName\n, environmentType = customDimensions.environmentType\n, whatChanged = 'Data'\n, operation = 'Data deleted'\n, onWhat = TableName // which table\n, sourceVersion = tostring(customDimensions.extensionSourceVersion)\n, destinationVersion = tostring(customDimensions.extensionDestinationVersion)\n, usertelemetryId = case(\n  // user telemetry id was introduced in the platform in version 20.0\n  toint( substring(customDimensions.componentVersion,0,2)) >= 20, user_Id\n, 'N/A'\n) // who did it\n;\nlet field_changes = \ntraces\n| where timestamp between (_startTime .. _endTime)\n| where customDimensions.environmentName has_any (_environmentName)\n| where customDimensions.environmentType has_any (_EnvironmentType)\n| where customDimensions has 'AL0000CTE'\n| where customDimensions.eventId == 'AL0000CTE'\n| extend TableName = replace_string(tostring(customDimensions.altableCaption),'XYZ','')\n  , FieldName = replace_string(tostring(customDimensions.alfieldCaption),'XYZ','')\n| project timestamp\n, environmentName = customDimensions.environmentName\n, environmentType = customDimensions.environmentType\n, whatChanged = 'Data'\n, operation = 'Data changed'\n, onWhat = strcat( TableName, '.', FieldName ) // which table.field\n, sourceVersion = tostring(customDimensions.extensionSourceVersion)\n, destinationVersion = tostring(customDimensions.extensionDestinationVersion)\n, usertelemetryId = case(\n  // user telemetry id was introduced in the platform in version 20.0\n  toint( substring(customDimensions.componentVersion,0,2)) >= 20, user_Id\n, 'N/A'\n) // who did it\n;\nenvironment_lifecycle_events\n| union extension_lifecycle_events\n| union index_lifecycle_events\n| union company_lifecycle_events\n| union feature_management_state_changes\n| union retention_policy_deletes\n| union field_changes","id":"19abf402-2c0b-44e3-af8f-789198203a0a","usedVariables":["TracesBQ","_EnvironmentType","_endTime","_environmentName","_startTime"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"let dau_mau = \nTracesBQ\n| extend aadTenantId = tostring( customDimensions.aadTenantId )\n, environmentName = tostring( customDimensions.environmentName )\n| evaluate activity_engagement(user_Id, timestamp, ago(40d), now(), 1d, 28d, aadTenantId, environmentName)\n| project-rename Daily=dcount_activities_inner, Monthly=dcount_activities_outer\n| project-away activity_ratio\n| extend timestamp_truncated = startofday(timestamp)\n;\nlet dau_wau = \nTracesBQ\n| extend aadTenantId = tostring( customDimensions.aadTenantId )\n, environmentName = tostring( customDimensions.environmentName )\n| where timestamp > ago(10d)\n| evaluate activity_engagement(user_Id, timestamp, ago(40d), now(), 1d, 7d, aadTenantId, environmentName)\n| project-rename Daily=dcount_activities_inner, Weekly=dcount_activities_outer\n| project-away activity_ratio\n| extend timestamp_truncated = startofday(timestamp)\n;\ndau_mau\n| join kind=inner dau_wau \non $left.aadTenantId == $right.aadTenantId \nand $left.environmentName == $right.environmentName\nand $left.timestamp_truncated == $right.timestamp_truncated\n| project-away aadTenantId1,timestamp_truncated1, timestamp, environmentName1,   timestamp1, Daily1\n| project-rename timestamp=timestamp_truncated\n| project format_datetime(timestamp, 'dd-MM-yyyy'), environmentName, Daily, Monthly, Weekly","id":"22f91b55-5e18-4eb4-b090-38637452ce7d","usedVariables":["TracesBQ"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"let dau_mau = \nTracesBQ\n| extend aadTenantId = tostring( customDimensions.aadTenantId )\n, environmentName = tostring( customDimensions.environmentName )\n| where timestamp > ago(60d)\n| evaluate activity_engagement(user_Id, timestamp, ago(40d), now(), 1d, 28d, aadTenantId, environmentName)\n| project-rename Daily=dcount_activities_inner, Monthly=dcount_activities_outer\n| project-away activity_ratio\n| extend timestamp_truncated = startofday(timestamp)\n;\nlet dau_wau = \nTracesBQ\n| extend aadTenantId = tostring( customDimensions.aadTenantId )\n, environmentName = tostring( customDimensions.environmentName )\n| where timestamp > ago(10d)\n| evaluate activity_engagement(user_Id, timestamp, ago(40d), now(), 1d, 7d, aadTenantId, environmentName)\n| project-rename Daily=dcount_activities_inner, Weekly=dcount_activities_outer\n| project-away activity_ratio\n| extend timestamp_truncated = startofday(timestamp)\n;\ndau_mau\n| join kind=inner dau_wau \non $left.aadTenantId == $right.aadTenantId \nand $left.environmentName == $right.environmentName\nand $left.timestamp_truncated == $right.timestamp_truncated\n| project-away aadTenantId1,timestamp_truncated1, timestamp, environmentName1,   timestamp1, Daily1\n| project-rename timestamp=timestamp_truncated\n| project timestamp, aadTenantId, environmentName, Daily, Monthly, Weekly","id":"ad91eca8-3146-4b27-b25b-7f35be5338c7","usedVariables":["TracesBQ"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"// change lookback, limit, ... as needed \n// EnvironmentUpdatePerformance\nTracesBQ\n| where customDimensions has 'LC0106'\n| where customDimensions.eventId == 'LC0106'\n| extend EnvironmentName = tostring( customDimensions.environmentName )\n| extend ObjectId = toint(customDimensions.codeunitObjectId)\n| project timestamp\n, EnvironmentName\n, EnvironmentType = tostring( customDimensions.environmentType )\n, ApplicationFamily = customDimensions.applicationFamily\n, CountryCode = customDimensions.countryCode\n, SourceVersion = customDimensions.sourceVersion\n, DestinationVersion = customDimensions.destinationVersion\n, Duration = customDimensions.totalTime\n, RegisteredForUpdateOnOrAfterDateUtc = customDimensions.registeredForUpdateOnOrAfterDateUtc\n, UpdateWindowStartTimeUtc = customDimensions.updateWindowStartTimeUtc\n, UpdateWindowEndTimeUtc = customDimensions.updateWindowEndTimeUtc\n, IgnoreUpdateWindow = customDimensions.ignoreUpdateWindow\n, InitiatedFrom = customDimensions.initiatedFrom\n| parse tostring(Duration) with hours ':' minutes ':' rest\n| extend totalTimeInMin = toint(hours) * 60 + toint(minutes)\n| project-away hours, minutes, rest\n| project \n[\"Environment Name\"] = EnvironmentName,\n[\"Environment Type\"] = EnvironmentType,\n[\"Source Version\"] = SourceVersion,\n[\"Destination Version\"] = DestinationVersion,\n[\"Date / Time\"] = timestamp,\n[\"Duration / min\"] = totalTimeInMin,\n[\"Duration\"] = Duration\n","id":"d5823f00-73c0-49f7-95a2-a7b8e41f4e4b","usedVariables":["TracesBQ"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"TracesBQ\n| where 1==1 \n    and customDimensions.eventId == 'RT0005'\n| summarize count() by bin(timestamp, 1d)\n","id":"07cdd944-55e3-4932-937f-95c4a92bb5c5","usedVariables":["TracesBQ"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"TracesBQ\n| where 1==1\n    and customDimensions.eventId == 'RT0018'\n| summarize count() by bin(timestamp, 1d)\n| render columnchart  title= 'Number of long running AL Methods'","id":"9e2c4b5e-ac81-4a77-b50f-d8875102038a","usedVariables":["TracesBQ"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"TracesBQ\n| where 1==1 \n    and customDimensions.eventId == 'RT0004'\n| extend clientType = tostring( customDimensions.clientType )\n| summarize request_count=count() by clientType, bin(timestamp, 1d)","id":"f62b5da4-e953-47d6-ad49-311939fce394","usedVariables":["TracesBQ"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"TracesBQ\n| where customDimensions.eventId == 'RT0012'\n| project timestamp\n, componentVersion = customDimensions.componentVersion\n, environmentType = customDimensions.environmentType\n, environmentName = customDimensions.environmentName\n, aadTenantId = customDimensions.aadTenantId\n, alObjectId = customDimensions.alObjectId\n, companyName = customDimensions.companyName\n, clientType = customDimensions.clientType\n, alObjectType = customDimensions.alObjectType\n, alObjectName = customDimensions.alObjectName\n, extensionVersion = customDimensions.extensionVersion\n, extensionName = customDimensions.extensionName\n, extensionId = customDimensions.extensionId\n, alStackTrace = customDimensions.alStackTrace\n// use the KQL snippet parseStackTrace to get bottom of the stack trace details\n, sqlStatement = customDimensions.sqlStatement\n, sqlServerSessionId = customDimensions.sqlServerSessionId\n, snapshotId = customDimensions.snapshotId\n, sessionId = customDimensions.sessionId\n, usertelemetryId = case(\n  // user telemetry id was introduced in the platform in version 20.0\n  toint( substring(customDimensions.componentVersion,0,2)) >= 20, user_Id\n, 'N/A'\n)\n| summarize count() by bin(timestamp,1d)\n","id":"6674fbcf-bc83-4acd-ac51-b8e2e2c8d604","usedVariables":["TracesBQ"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"TracesBQ\n| where customDimensions.eventId == 'RT0028'\n| where isnotempty(customDimensions.aadTenantId) // filter away signal from Docker sandboxes\n| where customDimensions.alObjectId != '0' \n| where isnotempty(customDimensions.alObjectId)\n| extend ObjectName = replace_string(tostring(customDimensions.alObjectName),'XYZ','')\n    , ExtensionName = replace_string(tostring(customDimensions.extensionName),'XYZ','')\n    , StackTrace = replace_string(tostring(customDimensions.alStackTrace),'XYZ','')\n    , sqlStatement = replace_string(tostring(customDimensions.sqlStatement),'XYZ','')\n| extend TenantId = strcat(customDimensions.aadTenantId)\n    , ExtensionId = tostring(customDimensions.extensionId)\n    , ExtensionVersion = tostring(customDimensions.extensionVersion)\n    , ObjectType = tostring(customDimensions.alObjectType)\n    , ObjectId = tostring(customDimensions.alObjectId)\n    , numberOfJoins = countof(tostring(customDimensions.sqlStatement), \"JOIN\")\n    , EventId = tostring(customDimensions.eventId)\n    , userId = user_Id\n| extend operationType = case(\n    sqlStatement startswith \"UPDATE\", \"UPDATE\"\n    , sqlStatement startswith \"DELETE\", \"DELETE\"\n    , sqlStatement startswith \"BeginTransaction\", \"BEGIN_TRANS\"\n    , sqlStatement matches regex \"INSERT INTO\", \"INSERT\"\n    , sqlStatement startswith \"SELECT\", \"SELECT\"\n    , sqlStatement matches regex \"IF EXISTS \\\\(SELECT (.*)\\\\) SELECT\", \"SELECT'\"\n    , sqlStatement has \"SELECT NEXT VALUE FOR\", \"SELECT_SEQUENCE_VALUE\"\n    , sqlStatement has \"SELECT @@SPID\", \"SELECT_SPID\"\n    , sqlStatement matches regex \"(.*)WITH\", \"SELECT\"\n    , sqlStatement startswith \"CREATE TABLE\", \"CREATE_TABLE\"\n    , sqlStatement startswith \"ALTER TABLE\", \"ALTER_TABLE\"\n    , sqlStatement startswith \"exec sp_rename\", \"RENAME_TABLE\" \n    , sqlStatement matches regex \"(.*)DROP TABLE\", \"DROP_TABLE\"\n    , sqlStatement startswith \"SET LOCK_TIMEOUT\", \"SET_LOCK_TIMEOUT\"\n    , sqlStatement has \"sp_getapplock\", \"GET_APP_LOCK\"\n    , \"UNKNOWN\"\n    ) \n| parse kind=regex sqlStatement with selectPart: string \"FROM \\\"SQLDATABASE\\\".dbo.\\\"CURRENTCOMPANY\\\\$\" tablename: string \"\\\\$\" space: string\n| extend splitStacktrace = split(StackTrace, \"\\n\")\n| extend lengthStacktrace = array_length(splitStacktrace)\n| extend\n    topOfStackline = tostring(splitStacktrace[0]),\n    bottomOfStackline = tostring(splitStacktrace[lengthStacktrace - 1])\n| extend topOfStackObjectName = extract('\\\\\\\"?([^\\\\\\\"]+)\\\\\\\"?\\\\([a-zA-Z]+ \\\\d+\\\\)', 1, topOfStackline)\n| extend topOfStackObjectType = extract('\\\\(([a-zA-Z]+) \\\\d+\\\\)', 1, topOfStackline)\n| extend topOfStackObjectId = extract('\\\\([a-zA-Z]+ (\\\\d+)\\\\)', 1, topOfStackline)\n| extend topOfStackLineNumber = extract(' line (\\\\d+)', 1, topOfStackline)\n| extend topOfStackExtensionName = case (\n    isnotempty(topOfStackLineNumber), extract('line \\\\d+ - (.+) by', 1, topOfStackline),\n    extract(' - (.+) by', 1, topOfStackline)\n    )\n| extend topOfStackPublisher = extract('.+ by (.+)', 1, topOfStackline)\n| extend topOfStackWhatWasCalled = case(\n    isnotempty(topOfStackLineNumber), extract('\\\\\\\"?[^\\\\\\\"]+\\\\\\\"?\\\\([a-zA-Z]+ \\\\d+\\\\).(.+) line', 1, topOfStackline),\n    isnotempty(topOfStackExtensionName), extract('\\\\\\\"?[^\\\\\\\"]+\\\\\\\"?\\\\([a-zA-Z]+ \\\\d+\\\\).(.+) -(.+) by (.+)', 1, topOfStackline),\n    extract('\\\\\\\"?[^\\\\\\\"]+\\\\\\\"?\\\\([a-zA-Z]+ \\\\d+\\\\).(.+)', 1, topOfStackline)\n    )\n| extend bottomOfStackObjectName = extract('\\\\\\\"?([^\\\\\\\"]+)\\\\\\\"?\\\\([a-zA-Z]+ \\\\d+\\\\)', 1, bottomOfStackline)\n| extend bottomOfStackObjectType = extract('\\\\(([a-zA-Z]+) \\\\d+\\\\)', 1, bottomOfStackline)\n| extend bottomOfStackObjectId = extract('\\\\([a-zA-Z]+ (\\\\d+)\\\\)', 1, bottomOfStackline)\n| extend bottomOfStackLineNumber = extract(' line (\\\\d+)', 1, bottomOfStackline)\n| extend bottomOfStackExtensionName = case (\n    isnotempty(bottomOfStackLineNumber), extract('line \\\\d+ - (.+) by', 1, bottomOfStackline),\n    extract(' - (.+) by', 1, bottomOfStackline)\n    )\n| extend bottomOfStackPublisher = extract('.+ by (.+)', 1, bottomOfStackline)\n| extend bottomOfStackWhatWasCalled = case(\n    isnotempty(bottomOfStackLineNumber), extract('\\\\\\\"?[^\\\\\\\"]+\\\\\\\"?\\\\([a-zA-Z]+ \\\\d+\\\\).(.+) line', 1, bottomOfStackline),\n    isnotempty(bottomOfStackExtensionName), extract('\\\\\\\"?[^\\\\\\\"]+\\\\\\\"?\\\\([a-zA-Z]+ \\\\d+\\\\).(.+) -(.+) by (.+)', 1, bottomOfStackline),\n    extract('\\\\\\\"?[^\\\\\\\"]+\\\\\\\"?\\\\([a-zA-Z]+ \\\\d+\\\\).(.+)', 1, bottomOfStackline)\n    )\n| extend SourceProcess = strcat(bottomOfStackWhatWasCalled , \" - \", bottomOfStackObjectType, \" \", bottomOfStackObjectId, \" \", bottomOfStackObjectName, \" (\", bottomOfStackExtensionName, \")\")\n    , LockingObject = strcat(topOfStackObjectType, \" '\", topOfStackObjectName,\"'\")\n    , LockingObjectId = tostring(topOfStackObjectId)\n    , LockingObjectMethod = tostring(topOfStackWhatWasCalled)\n    , LockingObjectExtension = tostring(topOfStackExtensionName)\n| project\n    timestamp,\n    TenantId,\n    ExtensionId,\n    ExtensionName,\n    ExtensionVersion,\n    ObjectType,\n    ObjectId,\n    ObjectName,\n    operationType,\n    numberOfJoins,\n    LockingObject,\n    LockingObjectId,\n    LockingObjectMethod,\n    LockingObjectExtension,    \n    SourceProcess,\n    StackTrace,\n    customDimensions\n| summarize count = count() by tostring(SourceProcess), ExtensionId, tostring(LockingObjectExtension), ExtensionVersion, tostring(LockingObject), tostring(LockingObjectId), tostring(LockingObjectMethod),tostring(operationType),tostring(StackTrace)\n| order by ['count'],SourceProcess desc","id":"425feabb-bddc-45a7-8c13-b8302608f3fc","usedVariables":["TracesBQ"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"TracesBQ\n| where customDimensions.eventId == 'RT0028'\n| where isnotempty(customDimensions.aadTenantId) // filter away signal from Docker sandboxes\n| where customDimensions.alObjectId != '0' \n| where isnotempty(customDimensions.alObjectId)\n| summarize count() by bin(timestamp, 1d)\n| order by timestamp asc","id":"8fb1c64d-532a-4cbf-832f-0e47c67fe531","usedVariables":["TracesBQ"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"let _maxDuration = 30d;\nlet _currentDuration = _endTime - _startTime;\nlet _duration = iff(_currentDuration > _maxDuration , _maxDuration, _currentDuration);\nTracesBQ\n| where timestamp >= ago(_duration)\n| where customDimensions.eventId == \"RT0008\" // starting from version 16.1, the eventId is used to identity signal types\n| project timestamp\n, alPublisher = tostring(customDimensions.alPublisher)\n, alObjectId = tostring(customDimensions.alObjectId)\n, alObjectName = tostring(customDimensions.alObjectName)\n, alObjectType = tostring(customDimensions.alObjectType)\n, category = tostring(customDimensions.category)\n, endpoint = tostring(customDimensions.endpoint)\n, httpStatusCode = tostring(customDimensions.httpStatusCode) // httpStatusCode available from 16.3\n, httpHeaders = tostring(customDimensions.httpHeaders)       // httpHeaders available from 16.3\n, httpMethod = tostring(customDimensions.httpMethod) // httpMethod available from 16.3\n, diagnosticsMessage = tostring(customDimensions.diagnosticsMessage) // Only logged in case of an error in a OData/API call. diagnosticsMessage available from 22.0\n, failureReason = tostring(customDimensions.failureReason) // Only logged in case of an error in a OData/API call. failureReason available from 22.0\n, executionTime = customDimensions.serverExecutionTime\n, requestQueueTime = customDimensions.requestQueueTime // This dimension was introduced in Business Central 2023 release wave 1, version 22.0.\n// the datatype for executionTime and requestQueueTime is timespan so need to convert to milliseconds\n, requestQueueTimeMS = toreal(totimespan(customDimensions.requestQueueTime))/10000\n, executionTimeInMS = toreal(totimespan(customDimensions.serverExecutionTime))/10000 \n, requestTotalTimeMS = ( toreal(totimespan(customDimensions.totalTime))+toreal(totimespan(customDimensions.requestQueueTime)) )/10000\n, sqlExecutes = toint(customDimensions.sqlExecutes)\n, sqlRowsRead = toint(customDimensions.sqlRowsRead)\n// these lines illustrate how to extract data from the httpHeaders dimension\n| extend httpHeadersTmp =  tostring( httpHeaders)\n| extend httpHeadersJSON = parse_json(httpHeadersTmp)\n| extend msUserAgent = tostring( httpHeadersJSON.['ms-dyn-useragent'] )\n| extend httpAuthorization = tostring( httpHeadersJSON.['Authorization'] ) // Authorization header (truncated) available from 17.3\n| extend isAdminxxxx = iif(endpoint startswith \"MS/api/eos/acGroup/v2.0/companies()/ac\",true,false)\n//| where isAdminxxxx == \"false\"\n//| summarize count(), avg(executionTimeInMS), avg(requestQueueTimeMS), avg(requestTotalTimeMS) by alObjectType, alObjectId, alObjectName, category, endpoint,httpMethod, isAdminxxxx\n//| sort by count_ desc \n| summarize count() by bin(timestamp, 1min)\n| render timechart\n","id":"c890525c-3633-4efe-b51d-63d1e2686fce","usedVariables":["TracesBQ","_endTime","_startTime"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"TracesBQ\n| where isnotempty(customDimensions.sqlStatement)\n| where isnotempty(customDimensions.alStackTrace)\n| extend numberOfJoins = countof(tostring(customDimensions.sqlStatement), \"JOIN\") \n| where numberOfJoins > _joins // adjust as needed\n| where not(customDimensions.alObjectType in (\"Page\", \"PageExtension\"))\n| where customDimensions.sqlStatement startswith \"SELECT\"\n| parse kind=regex tostring(customDimensions.sqlStatement) with selectPart: string \"FROM\" rest: string\n| extend objectName = trim('XYZ',tostring(customDimensions.alObjectName))\n| extend extensionInfo = strcat( customDimensions.extensionName, ' ', customDimensions.extensionVersion)\n| extend numberOfColumnsSelected = countof(selectPart, \",\") + 1\n    , eventId = tostring(customDimensions.eventId)\n    , userId = user_Id\n    , ObjectType = tostring(customDimensions.alObjectType)\n    , ObjectId = tostring(customDimensions.alObjectId)\n    , sqlStatement = tostring(customDimensions.sqlStatement)\n    , companyName = tostring(customDimensions.companyName)\n    , clientType = tostring(customDimensions.clientType)\n    , StackTrace = tostring(customDimensions.alStackTrace)\n    , executionTime = customDimensions.executionTime\n    , executionTimeInMS = toreal(totimespan(customDimensions.executionTime))/10000\n    , extensionId = tostring(customDimensions.extensionId)\n    , extensionPublisher = tostring(customDimensions.extensionPublisher)\n| extend extensionIdsFromJOIN = tostring( extract_all(\"JOIN \\\"SQLDATABASE\\\"\\\\.dbo\\\\.\\\"CURRENTCOMPANY\\\\$.+?\\\\$(\\\\S+?)\\\"\", sqlStatement))\n| extend tablename = tostring( extract_all(\"FROM \\\"SQLDATABASE\\\"\\\\.dbo\\\\.\\\"CURRENTCOMPANY(\\\\$.+?)\\\\$\\\\S+?\\\"\", sqlStatement)[0])\n| project extensionPublisher, extensionInfo, numberOfColumnsSelected, numberOfJoins, executionTimeInMS, ObjectType, ObjectId, objectName, StackTrace, eventId, message, clientType, tablename, sqlStatement, extensionIdsFromJOIN\n| summarize [\"Count\"] = count() by extensionInfo, ObjectType, ObjectId, objectName, numberOfColumnsSelected, numberOfJoins, tablename, extensionIdsFromJOIN, sqlStatement, StackTrace, clientType\n| sort by numberOfJoins, Count , numberOfColumnsSelected, tablename\n| project extensionInfo, ObjectType, ObjectId, objectName, numberOfColumnsSelected, numberOfJoins, Count, tablename, extensionIdsFromJOIN, sqlStatement, StackTrace, clientType","id":"70530cfa-74f1-47c4-8c5e-8dbff31c6e6c","usedVariables":["TracesBQ","_joins"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"// Last Long running AL methods\n// Calculate Time in UTC Time\nTracesBQ\n| where customDimensions has 'RT0018' // performance optimization\n| where customDimensions.eventId == 'RT0018'\n| where customDimensions.alObjectId > 0 // filter out internal server calls\n| project timestamp = timestamp\n, alMethod = replace_string(replace_string(replace_string(tostring(customDimensions.alMethod),'XYZ',''),'xxxx','xxx'),'xxxxx','yyyyy')\n, alObjectId = customDimensions.alObjectId\n, objectName = replace_string(replace_string(replace_string(tostring(customDimensions.alObjectName),'XYZ',''),'xxxx','xxx'),'xxxxx','yyyyy')\n, alObjectType = customDimensions.alObjectType\n, alStackTrace = replace_string(replace_string(replace_string(tostring(customDimensions.alStackTrace),'XYZ',''),'xxxx','xxx'),'xxxxx','yyyyy')\n, clientType = customDimensions.clientType\n, exclusiveTime = customDimensions.exclusiveTime \n, exclusiveTimeInMS = toreal(totimespan(customDimensions.exclusiveTime))/10000 \n, totalTime = customDimensions.executionTime\n, totalTimeInMS = toreal(totimespan(customDimensions.executionTime))/10000 //the datatype for executionTime is timespan \n, extensionId = customDimensions.extensionId\n, extensionInfo = replace_string(replace_string(replace_string(tostring(customDimensions.extensionInfo),'XYZ',''),'xxxx','xxx'),'xxxxx','yyyyy')\n, extensionName = replace_string(replace_string(replace_string(tostring(customDimensions.extensionName),'XYZ',''),'xxxx','xxx'),'xxxxx','yyyyy')\n, extensionPublisher = customDimensions.extensionPublisher\n, extensionVersion = customDimensions.extensionVersion\n, longRunningThreshold = customDimensions.longRunningThreshold\n, longRunningThresholdInMS = toreal(totimespan(customDimensions.longRunningThreshold))/10000 //the datatype for executionTime is timespan \n, sqlExecutes = customDimensions.sqlExecutes // This dimension was introduced in Business Central 2023 release wave 1, version 22.0\n, sqlRowsRead = customDimensions.sqlRowsRead // This dimension was introduced in Business Central 2023 release wave 1, version 22.0\n, usertelemetryId = case(\n  // user telemetry id was introduced in the platform in version 20.0\n  toint( substring(customDimensions.componentVersion,0,2)) >= 20, user_Id\n, 'N/A'\n)\n| order by timestamp desc ","id":"e420cdf2-05cf-42dd-a967-77573d866535","usedVariables":["TracesBQ"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"// Long running queries by Source Process - still needs some work\n// Last Long running AL methods\n// Calculate Time in UTC Time\nTracesBQ\n| where customDimensions has 'RT0018'\n| where customDimensions.eventId == 'RT0018'\n| extend hour = hourofday(timestamp)\n| where hour between (7..17)\n| extend ObjectType = tostring(customDimensions.alObjectType)\n    , ObjectId = tostring(customDimensions.alObjectId)\n    , ObjectName = replace_string(replace_string(replace_string(tostring(customDimensions.alObjectName),'XYZ',''),'xxxx','xxx'),'xxxxx','yyyyy')\n    , sqlStatement = tostring(customDimensions.sqlStatement)\n    , numberOfJoins = countof(tostring(customDimensions.sqlStatement), \"JOIN\")\n    , EventId = tostring(customDimensions.eventId)\n    , StackTrace = replace_string(replace_string(replace_string(tostring(customDimensions.alStackTrace),'XYZ',''),'xxxx','xxx'),'xxxxx','yyyyy')\n    , exclusiveTime = customDimensions.exclusiveTime // This dimension was introduced in Business Central 2023 release wave 1, version 22.1. Backported to version 21.6\n    , exclusiveTimeInMS = toreal(totimespan(customDimensions.exclusiveTime))/10000 //the datatype for exclusiveTime is timespan \n    // exclusiveTime is the total time of the operation, including wait time due to client callback\n    , totalTime = customDimensions.executionTime\n    , totalTimeInMS = toreal(totimespan(customDimensions.executionTime))/10000 //the datatype for executionTime is timespan \n| where ObjectId <> \"18122317\"\n| extend operationType = case(\n    sqlStatement startswith \"UPDATE\", \"UPDATE\"\n    , sqlStatement startswith \"DELETE\", \"DELETE\"\n    , sqlStatement startswith \"BeginTransaction\", \"BEGIN_TRANS\"\n    , sqlStatement matches regex \"INSERT INTO\", \"INSERT\"\n    , sqlStatement startswith \"SELECT\", \"SELECT\"\n    , sqlStatement matches regex \"IF EXISTS \\\\(SELECT (.*)\\\\) SELECT\", \"SELECT'\"\n    , sqlStatement has \"SELECT NEXT VALUE FOR\", \"SELECT_SEQUENCE_VALUE\"\n    , sqlStatement has \"SELECT @@SPID\", \"SELECT_SPID\"\n    , sqlStatement matches regex \"(.*)WITH\", \"SELECT\"\n    , sqlStatement startswith \"CREATE TABLE\", \"CREATE_TABLE\"\n    , sqlStatement startswith \"ALTER TABLE\", \"ALTER_TABLE\"\n    , sqlStatement startswith \"exec sp_rename\", \"RENAME_TABLE\" \n    , sqlStatement matches regex \"(.*)DROP TABLE\", \"DROP_TABLE\"\n    , sqlStatement startswith \"SET LOCK_TIMEOUT\", \"SET_LOCK_TIMEOUT\"\n    , sqlStatement has \"sp_getapplock\", \"GET_APP_LOCK\"\n    , \"UNKNOWN\"\n    ) \n| parse kind=regex sqlStatement with selectPart: string \"FROM \\\"SQLDATABASE\\\".dbo.\\\"CURRENTCOMPANY\\\\$\" tablename: string \"\\\\$\" space: string\n| extend splitStacktrace = split(customDimensions.alStackTrace, \"\\n\")\n| extend lengthStacktrace = array_length(splitStacktrace)\n| extend\n    topOfStackline = tostring(splitStacktrace[0]),\n    bottomOfStackline = tostring(splitStacktrace[lengthStacktrace - 1])\n| extend topOfStackObjectName = extract('\\\\\\\"?([^\\\\\\\"]+)\\\\\\\"?\\\\([a-zA-Z]+ \\\\d+\\\\)', 1, topOfStackline)\n| extend topOfStackObjectType = extract('\\\\(([a-zA-Z]+) \\\\d+\\\\)', 1, topOfStackline)\n| extend topOfStackObjectId = extract('\\\\([a-zA-Z]+ (\\\\d+)\\\\)', 1, topOfStackline)\n| extend topOfStackLineNumber = extract(' line (\\\\d+)', 1, topOfStackline)\n| extend topOfStackExtensionName = case (\n    isnotempty(topOfStackLineNumber), extract('line \\\\d+ - (.+) by', 1, topOfStackline),\n    extract(' - (.+) by', 1, topOfStackline)\n    )\n| extend topOfStackPublisher = extract('.+ by (.+)', 1, topOfStackline)\n| extend topOfStackWhatWasCalled = case(\n    isnotempty(topOfStackLineNumber), extract('\\\\\\\"?[^\\\\\\\"]+\\\\\\\"?\\\\([a-zA-Z]+ \\\\d+\\\\).(.+) line', 1, topOfStackline),\n    isnotempty(topOfStackExtensionName), extract('\\\\\\\"?[^\\\\\\\"]+\\\\\\\"?\\\\([a-zA-Z]+ \\\\d+\\\\).(.+) -(.+) by (.+)', 1, topOfStackline),\n    extract('\\\\\\\"?[^\\\\\\\"]+\\\\\\\"?\\\\([a-zA-Z]+ \\\\d+\\\\).(.+)', 1, topOfStackline)\n    )\n| extend bottomOfStackObjectName = extract('\\\\\\\"?([^\\\\\\\"]+)\\\\\\\"?\\\\([a-zA-Z]+ \\\\d+\\\\)', 1, bottomOfStackline)\n| extend bottomOfStackObjectType = extract('\\\\(([a-zA-Z]+) \\\\d+\\\\)', 1, bottomOfStackline)\n| extend bottomOfStackObjectId = extract('\\\\([a-zA-Z]+ (\\\\d+)\\\\)', 1, bottomOfStackline)\n| extend bottomOfStackLineNumber = extract(' line (\\\\d+)', 1, bottomOfStackline)\n| extend bottomOfStackExtensionName = case (\n    isnotempty(bottomOfStackLineNumber), extract('line \\\\d+ - (.+) by', 1, bottomOfStackline),\n    extract(' - (.+) by', 1, bottomOfStackline)\n    )\n| extend bottomOfStackPublisher = extract('.+ by (.+)', 1, bottomOfStackline)\n| extend bottomOfStackWhatWasCalled = case(\n    isnotempty(bottomOfStackLineNumber), extract('\\\\\\\"?[^\\\\\\\"]+\\\\\\\"?\\\\([a-zA-Z]+ \\\\d+\\\\).(.+) line', 1, bottomOfStackline),\n    isnotempty(bottomOfStackExtensionName), extract('\\\\\\\"?[^\\\\\\\"]+\\\\\\\"?\\\\([a-zA-Z]+ \\\\d+\\\\).(.+) -(.+) by (.+)', 1, bottomOfStackline),\n    extract('\\\\\\\"?[^\\\\\\\"]+\\\\\\\"?\\\\([a-zA-Z]+ \\\\d+\\\\).(.+)', 1, bottomOfStackline)\n    )\n| extend SourceProcess = strcat(bottomOfStackWhatWasCalled , \" - \", bottomOfStackObjectType, \" \", bottomOfStackObjectId, \" \", bottomOfStackObjectName, \" (\", bottomOfStackExtensionName, \")\")\n    , LockingObject = strcat(topOfStackWhatWasCalled , \" - \", topOfStackObjectType, \" \", topOfStackObjectId, \" \", topOfStackObjectName, \" (\", topOfStackExtensionName, \")\")\n| project\n    timestamp,\n    ObjectType,\n    ObjectId,\n    ObjectName,\n    operationType,\n    numberOfJoins,\n    LockingObject,\n    SourceProcess,\n    StackTrace,\n    customDimensions,\n    totalTimeInMS\n| summarize count = count(), avgTotalTimeInMS = toint(avg(totalTimeInMS)) by replace_string(replace_string(replace_string(SourceProcess,'XYZ',''),'xxxx','xxx'),'xxxxx','yyyyy'), StackTrace\n| order by ['count'] desc ","id":"6a448e0f-756b-4818-a485-4152540d0d99","usedVariables":["TracesBQ"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"// Any CalcSum that we can find in Telemetry that is locking\nTracesBQ\n| where isnotempty(customDimensions.sqlStatement) \n| where isnotempty(customDimensions.alStackTrace) // only interested in parts in the code we can change\n| where customDimensions.extensionPublisher <> \"Microsoft\"\n| where customDimensions.sqlStatement contains \"SELECT SUM\" //It's an intentional SUM\n    and customDimensions.sqlStatement contains \"UPDLOCK\"\n    and customDimensions.sqlStatement startswith \"SELECT\"\n| where not(customDimensions.alObjectType in (\"Page\"))\n| extend sqlStatement = replace_string(tostring(customDimensions.sqlStatement),'XYZ','')\n    , stackTrace = replace_string(tostring(customDimensions.alStackTrace),'XYZ','')\n    , alObjectName = replace_string(tostring(customDimensions.alObjectName),'XYZ','')\n    , extensionName = replace_string(tostring(customDimensions.extensionName),'XYZ','')\n| parse kind=regex sqlStatement with selectPart: string \"FROM\" rest: string\n| extend numberOfColumnsSelected = countof(selectPart, \",\") + 1\n    , eventId = tostring(customDimensions.eventId)\n    , TenantId = strcat(customDimensions.aadTenantId)\n    , userId = user_Id\n    , ObjectType = tostring(customDimensions.alObjectType)\n    , ObjectId = tostring(customDimensions.alObjectId)\n    , clientType = tostring(customDimensions.clientType)\n    , executionTime = customDimensions.executionTime\n    , executionTimeInMS = toreal(totimespan(customDimensions.executionTime))/10000\n    , extensionId = customDimensions.extensionId\n    , extensionPublisher = customDimensions.extensionPublisher\n| extend extensionIdsFromJOIN = tostring( extract_all(\"JOIN \\\"SQLDATABASE\\\"\\\\.dbo\\\\.\\\"CURRENTCOMPANY\\\\$.+?\\\\$(\\\\S+?)\\\"\", sqlStatement))\n| extend tablename = tostring( extract_all(\"FROM \\\"SQLDATABASE\\\"\\\\.dbo\\\\.\\\"CURRENTCOMPANY(\\\\$.+?)\\\\$\\\\S+?\\\"\", sqlStatement)[0])\n| project extensionPublisher, extensionName, numberOfColumnsSelected, tablename, executionTimeInMS, ObjectType, ObjectId, alObjectName, stackTrace, eventId, clientType, sqlStatement, extensionIdsFromJOIN","id":"6b97b21c-ab43-4b96-a40d-3c5bea37a9cb","usedVariables":["TracesBQ"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"TracesBQ\n| where operation_Name == \"Web Services Call\" // do note that in a later version of the schema, this field will not be used \n     or customDimensions.eventId == \"RT0008\" // starting from version 16.1, the eventId is used to identity signal types \n| summarize count() by bin(timestamp,1m)\n//| extend OperationLimit = 600","id":"25124287-6796-4c22-b61e-9441b46df52c","usedVariables":["TracesBQ"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"// Any CalcSum that we can find in Telemetry that is locking\nTracesBQ\n| where isnotempty(customDimensions.sqlStatement) \n| where isnotempty(customDimensions.alStackTrace) // only interested in parts in the code we can change\n| where customDimensions.extensionPublisher <> \"Microsoft\"\n| where customDimensions.sqlStatement contains \"SELECT TOP 1 NULL\" //It's an intentional isEmpty\n    and customDimensions.sqlStatement contains \"UPDLOCK\"\n    and customDimensions.sqlStatement startswith \"SELECT\"\n| where not(customDimensions.alObjectType in (\"Page\",\"Page Extension\"))\n| extend sqlStatement = replace_string(tostring(customDimensions.sqlStatement),'XYZ','')\n    , stackTrace = replace_string(tostring(customDimensions.alStackTrace),'XYZ','')\n    , alObjectName = replace_string(tostring(customDimensions.alObjectName),'XYZ','')\n    , extensionName = replace_string(tostring(customDimensions.extensionName),'XYZ','')\n| parse kind=regex sqlStatement with selectPart: string \"FROM\" rest: string\n| extend numberOfColumnsSelected = countof(selectPart, \",\") + 1\n    , eventId = tostring(customDimensions.eventId)\n    , userId = user_Id\n    , ObjectType = tostring(customDimensions.alObjectType)\n    , ObjectId = tostring(customDimensions.alObjectId)\n    , clientType = tostring(customDimensions.clientType)\n    , StackTrace = tostring(customDimensions.alStackTrace)\n    , executionTime = customDimensions.executionTime\n    , executionTimeInMS = toreal(totimespan(customDimensions.executionTime))/10000\n    , extensionId = customDimensions.extensionId\n    , extensionPublisher = customDimensions.extensionPublisher\n| extend extensionIdsFromJOIN = tostring( extract_all(\"JOIN \\\"SQLDATABASE\\\"\\\\.dbo\\\\.\\\"CURRENTCOMPANY\\\\$.+?\\\\$(\\\\S+?)\\\"\", sqlStatement))\n| extend tablename = tostring( extract_all(\"FROM \\\"SQLDATABASE\\\"\\\\.dbo\\\\.\\\"CURRENTCOMPANY(\\\\$.+?)\\\\$\\\\S+?\\\"\", sqlStatement)[0])\n| project extensionPublisher, extensionName, numberOfColumnsSelected, tablename, executionTimeInMS, ObjectType, ObjectId, alObjectName, StackTrace, eventId, clientType, sqlStatement, extensionIdsFromJOIN","id":"4f165f7a-4580-41c2-8d4b-414f1d39993e","usedVariables":["TracesBQ"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"let TableCount = (\nTracesBQ\n| where operation_Name == 'Long Running Operation (SQL Query)' // do note that in a later version of the schema, this field will not be used \n     or customDimensions.eventId == 'RT0005' // starting from version 16.1, the eventId is used to identity signal types\n| where customDimensions.alObjectId > 0 // filter out internal server calls\n| project \ntimestamp\n, sqlStatement = tostring(customDimensions.sqlStatement)\n, extensionId = tostring(customDimensions.extensionId)\n, extensionPublisher = tostring(customDimensions.extensionPublisher)\n, extensionName = trim('XYZ',tostring(customDimensions.extensionName))\n, alObjectId = tostring(customDimensions.alObjectId)\n, alObjectName = trim('XYZ',tostring(customDimensions.alObjectName))\n, alObjectType = tostring(customDimensions.alObjectType)\n, executionTimeInMS = toreal(totimespan(customDimensions.executionTime))/10000 //the datatype for executionTime is timespan \n| extend operationType = case(\n  sqlStatement startswith \"UPDATE\", \"UPDATE\"\n, sqlStatement startswith \"DELETE\", \"DELETE\"\n, sqlStatement startswith \"BeginTransaction\", \"BEGIN_TRANS\"\n, sqlStatement matches regex \"INSERT INTO\", \"INSERT\"\n, sqlStatement startswith \"SELECT\", \"SELECT\"\n, sqlStatement matches regex \"IF EXISTS \\\\(SELECT (.*)\\\\) SELECT\", \"SELECT'\"\n, sqlStatement has \"SELECT NEXT VALUE FOR\", \"SELECT_SEQUENCE_VALUE\"\n, sqlStatement has \"SELECT @@SPID\", \"SELECT_SPID\"\n, sqlStatement matches regex \"(.*)WITH\", \"SELECT\"\n, sqlStatement startswith \"CREATE TABLE\", \"CREATE_TABLE\"\n, sqlStatement startswith \"ALTER TABLE\", \"ALTER_TABLE\"\n, sqlStatement startswith \"exec sp_rename\", \"RENAME_TABLE\" \n, sqlStatement matches regex \"(.*)DROP TABLE\", \"DROP_TABLE\"\n, sqlStatement startswith \"SET LOCK_TIMEOUT\", \"SET_LOCK_TIMEOUT\"\n, sqlStatement has \"sp_getapplock\", \"GET_APP_LOCK\"\n, \"UNKNOWN\"\n)\n, dayBin = bin(timestamp,1d)\n| extend day = strcat(strcat(format_datetime(dayBin, \"yyyy-MM-dd\")),\" (Count)\") \n| project-away timestamp, sqlStatement, dayBin, executionTimeInMS\n| sort by day asc \n| evaluate pivot(day, count())\n);\nTableCount\n| join\n(TracesBQ\n| where operation_Name == 'Long Running Operation (SQL Query)' // do note that in a later version of the schema, this field will not be used \n     or customDimensions.eventId == 'RT0005' // starting from version 16.1, the eventId is used to identity signal types\n| where customDimensions.alObjectId > 0 // filter out internal server calls\n| project \ntimestamp\n, sqlStatement = tostring(customDimensions.sqlStatement)\n, extensionId = tostring(customDimensions.extensionId)\n, extensionPublisher = tostring(customDimensions.extensionPublisher)\n, extensionName = trim('XYZ',tostring(customDimensions.extensionName))\n, alObjectId = tostring(customDimensions.alObjectId)\n, alObjectName = trim('XYZ',tostring(customDimensions.alObjectName))\n, alObjectType = tostring(customDimensions.alObjectType)\n, executionTimeInMS = toreal(totimespan(customDimensions.executionTime))/10000 //the datatype for executionTime is timespan \n// this part of the query derives various insights from the SQL statement\n| extend operationType = case(\n  sqlStatement startswith \"UPDATE\", \"UPDATE\"\n, sqlStatement startswith \"DELETE\", \"DELETE\"\n, sqlStatement startswith \"BeginTransaction\", \"BEGIN_TRANS\"\n, sqlStatement matches regex \"INSERT INTO\", \"INSERT\"\n, sqlStatement startswith \"SELECT\", \"SELECT\"\n, sqlStatement matches regex \"IF EXISTS \\\\(SELECT (.*)\\\\) SELECT\", \"SELECT'\"\n, sqlStatement has \"SELECT NEXT VALUE FOR\", \"SELECT_SEQUENCE_VALUE\"\n, sqlStatement has \"SELECT @@SPID\", \"SELECT_SPID\"\n, sqlStatement matches regex \"(.*)WITH\", \"SELECT\"\n, sqlStatement startswith \"CREATE TABLE\", \"CREATE_TABLE\"\n, sqlStatement startswith \"ALTER TABLE\", \"ALTER_TABLE\"\n, sqlStatement startswith \"exec sp_rename\", \"RENAME_TABLE\" \n, sqlStatement matches regex \"(.*)DROP TABLE\", \"DROP_TABLE\"\n, sqlStatement startswith \"SET LOCK_TIMEOUT\", \"SET_LOCK_TIMEOUT\"\n, sqlStatement has \"sp_getapplock\", \"GET_APP_LOCK\"\n, \"UNKNOWN\"\n)\n, dayBin = bin(timestamp,1d)\n| extend day = strcat(strcat(format_datetime(dayBin, \"yyyy-MM-dd\")), \" (avg)\")\n| project-away timestamp, sqlStatement, dayBin\n| summarize Average = round(avg(executionTimeInMS),0) by extensionId, extensionPublisher, extensionName, alObjectType, alObjectId, alObjectName, operationType, day\n| sort by day asc \n| evaluate pivot(day,sum(Average))\n)\non\n$left.extensionId == $right.extensionId,\n$left.extensionPublisher == $right.extensionPublisher,\n$left.extensionName == $right.extensionName,\n$left.alObjectType == $right.alObjectType,\n$left.alObjectId == $right.alObjectId,\n$left.alObjectName == $right.alObjectName,\n$left.operationType == $right.operationType\n| project-away extensionId, extensionId1, extensionPublisher1, extensionName1, alObjectType1, alObjectId1, alObjectName1, operationType1 ","id":"b915cab2-3001-4b19-b602-e765eef410c1","usedVariables":["TracesBQ"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"let ObjectNameAndClientLRQCount= ( \nTracesBQ\n| where customDimensions.eventId == 'RT0005' \n| where customDimensions.alObjectId > 0 \n| extend alObjectName = trim('XYZ',tostring(customDimensions.alObjectName))\n| extend eventId = customDimensions.eventId \n, environmentName = customDimensions.environmentName\n, sqlStatement = tostring(customDimensions.sqlStatement)\n, companyName = tostring(customDimensions.companyName)\n, extensionId = customDimensions.extensionId\n, extensionInfo = strcat(customDimensions.extensionName, ' ', customDimensions.extensionVersion, \n    (iff(isnotempty(tostring(customDimensions.extensionPublisher)), strcat(' - ', tostring(customDimensions.extensionPublisher)), '')))\n, alObjectInfo = strcat(customDimensions.alObjectType, ' ', customDimensions.alObjectId, ' - ', customDimensions.alObjectName)\n, alStackTrace = tostring(customDimensions.alStackTrace)\n, clientType = tostring(customDimensions.clientType)\n, alObjectId = customDimensions.alObjectId\n, alObjectType = customDimensions.alObjectType\n, executionTimeInMS = toreal(totimespan(customDimensions.executionTime))/10000  \n| extend operationType = case(\n    sqlStatement startswith \"UPDATE\", \"UPDATE\"\n    , sqlStatement startswith \"DELETE\", \"DELETE\"\n    , sqlStatement startswith \"BeginTransaction\", \"BEGIN_TRANS\"\n    , sqlStatement matches regex \"INSERT INTO\", \"INSERT\"\n    , sqlStatement startswith \"SELECT\", \"SELECT\"\n    , sqlStatement matches regex \"IF EXISTS \\\\(SELECT (.*)\\\\) SELECT\", \"SELECT'\"\n    , sqlStatement has \"SELECT NEXT VALUE FOR\", \"SELECT_SEQUENCE_VALUE\"\n    , sqlStatement has \"SELECT @@SPID\", \"SELECT_SPID\"\n    , sqlStatement matches regex \"(.*)WITH\", \"SELECT\"\n    , sqlStatement startswith \"CREATE TABLE\", \"CREATE_TABLE\"\n    , sqlStatement startswith \"ALTER TABLE\", \"ALTER_TABLE\"\n    , sqlStatement startswith \"exec sp_rename\", \"RENAME_TABLE\" \n    , sqlStatement matches regex \"(.*)DROP TABLE\", \"DROP_TABLE\"\n    , sqlStatement startswith \"SET LOCK_TIMEOUT\", \"SET_LOCK_TIMEOUT\"\n    , sqlStatement has \"sp_getapplock\", \"GET_APP_LOCK\"\n    , \"UNKNOWN\"\n)\n, withUPDLOCK = iff(customDimensions.sqlStatement has 'UPDLOCK','Yes', 'No')\n, numberOfJoins = countof(sqlStatement, \"JOIN\") \n, numberOfFlowFields = countof(sqlStatement, \"OUTER APPLY\") \n, extensionIdsFromJOIN = tostring( extract_all(\"JOIN \\\"SQLDATABASE\\\"\\\\.dbo\\\\.\\\"CURRENTCOMPANY\\\\$.+?\\\\$(\\\\S+?)\\\"\", sqlStatement) )\n| parse kind=regex sqlStatement with selectPart:string \"FROM\" rest:string\n| extend numberOfColumnsSelected = case(\n    operationType == \"SELECT\", countof(selectPart,\",\") + 1\n    , operationType == \"SELECT'\", countof(selectPart,\",\") + 1\n    , 0\n)\n, isolationLevel = tostring(case(\n    sqlStatement has 'WITH(UPDLOCK)', 'UPDLOCK'\n  , sqlStatement has 'WITH(READUNCOMMITTED)', 'ReadUncommitted'\n  , sqlStatement has 'WITH(READCOMMITTED)', 'ReadCommitted' // available from 22.0\n  , sqlStatement has 'WITH(REPEATABLEREAD)', 'RepeatableRead' // not sure about this yet\n  , 'Default'\n)),\nextensionInfo = strcat( customDimensions.extensionName, ' ', customDimensions.extensionVersion)\n, searchQuery = sqlStatement has 'LIKE' and sqlStatement has 'COLLATE'\n| sort by executionTimeInMS desc \n| project timestamp, \n    [\"Environment Name\"] = environmentName,\n    [\"Extension Info\"] = tostring(extensionInfo),\n    [\"Client Type\"] = tostring(clientType), \n    [\"AL Object ID\"] = tostring(alObjectId),\n    [\"AL Object Type\"] = tostring(alObjectType),\n    [\"AL Object Name\"] = tostring(alObjectName),\n    [\"Duration\"] = executionTimeInMS, \n    [\"Type\"] = operationType, \n    [\"FlowFields\"] = numberOfFlowFields, \n    [\"JOINs\"] = numberOfJoins, \n    [\"with UPDLOCK\"] = withUPDLOCK,\n    [\"Company Name\"] = companyName, \n    [\"AL Object Information\"] = alObjectInfo, \n    [\"AL Stack Trace\"] = alStackTrace,\n    [\"Extension Information\"] = extensionInfo,\n    [\"SQL Statement\"] = sqlStatement,\n    [\"Operation Type\"] = operationType,\n    [\"Isolation Level\"] = isolationLevel,\n    [\"User Telemetry ID\"] = user_Id,\n    [\"Session Id\"] = session_Id,\n    [\"Search Query\"] = searchQuery\n| summarize \n    count(), \n    [\"Avg. Time\"] = round(avg(Duration),0),\n    [\"Min Time\"] = toint(min(Duration)),\n    [\"Max Time\"] = toint(max(Duration)),\n    [\"Std. Dev.\"] = toint(stdev(Duration))\nby [\"Extension Info\"], ['AL Object ID'], ['AL Object Type'], ['AL Object Name'], ['Client Type'], ['Operation Type'], [\"Search Query\"], ['Isolation Level'], ['SQL Statement']\n| sort by count_ desc \n);\nObjectNameAndClientLRQCount\n| extend Percentage = round(count_ *100 / toscalar(ObjectNameAndClientLRQCount | summarize sum(count_)),2)\n| sort by count_ desc","id":"bc46e603-8123-4af8-b6e3-b339f966382e","usedVariables":["TracesBQ"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"let utcOffsetHours = 2;\nlet data = TracesBQ\n| where isnotempty(customDimensions.aadTenantId) // filter away signal from Docker sandboxes\n| where customDimensions.alObjectId != '0' \n| where isnotempty(customDimensions.alObjectId)\n| extend Titolo = tostring(message);\ndata\n| where customDimensions.eventId in~ ('RT0028', 'RT0005', 'RT0012')\n| summarize count() by Titolo\n\n\n","id":"91fe284d-d7d5-48fa-a785-b54845b63f09","usedVariables":["TracesBQ"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"let TableDeadlocked = (\nTracesBQ\n| where customDimensions.eventId == 'RT0028'\n| where isnotempty(customDimensions.aadTenantId) // filter away signal from Docker sandboxes\n| where customDimensions.alObjectId != '0' \n| where isnotempty(customDimensions.alObjectId)\n| extend TenantId = strcat(customDimensions.aadTenantId)\n    , ExtensionId = tostring(customDimensions.extensionId)\n    , ExtensionName = tostring(customDimensions.extensionName)\n    , ExtensionVersion = tostring(customDimensions.extensionVersion)\n    , ObjectType = tostring(customDimensions.alObjectType)\n    , ObjectId = tostring(customDimensions.alObjectId)\n    , ObjectName = tostring(customDimensions.alObjectName)\n    , sqlStatement = tostring(customDimensions.sqlStatement)\n    , companyName = tostring(customDimensions.companyName)        \n    , numberOfJoins = countof(tostring(customDimensions.sqlStatement), \"JOIN\")\n    , EventId = tostring(customDimensions.eventId)\n    , StackTrace = tostring(customDimensions.alStackTrace)\n    , userId = user_Id\n| extend operationType = case(\n    sqlStatement startswith \"UPDATE\", \"UPDATE\"\n    , sqlStatement startswith \"DELETE\", \"DELETE\"\n    , sqlStatement startswith \"BeginTransaction\", \"BEGIN_TRANS\"\n    , sqlStatement matches regex \"INSERT INTO\", \"INSERT\"\n    , sqlStatement startswith \"SELECT\", \"SELECT\"\n    , sqlStatement matches regex \"IF EXISTS \\\\(SELECT (.*)\\\\) SELECT\", \"SELECT'\"\n    , sqlStatement has \"SELECT NEXT VALUE FOR\", \"SELECT_SEQUENCE_VALUE\"\n    , sqlStatement has \"SELECT @@SPID\", \"SELECT_SPID\"\n    , sqlStatement matches regex \"(.*)WITH\", \"SELECT\"\n    , sqlStatement startswith \"CREATE TABLE\", \"CREATE_TABLE\"\n    , sqlStatement startswith \"ALTER TABLE\", \"ALTER_TABLE\"\n    , sqlStatement startswith \"exec sp_rename\", \"RENAME_TABLE\" \n    , sqlStatement matches regex \"(.*)DROP TABLE\", \"DROP_TABLE\"\n    , sqlStatement startswith \"SET LOCK_TIMEOUT\", \"SET_LOCK_TIMEOUT\"\n    , sqlStatement has \"sp_getapplock\", \"GET_APP_LOCK\"\n    , \"UNKNOWN\"\n    ) \n| parse kind=regex sqlStatement with selectPart: string \"FROM \\\"SQLDATABASE\\\".dbo.\\\"CURRENTCOMPANY\\\\$\" tablenamewithjoins: string \"\\\\$\" space: string\n| parse kind=regex tablenamewithjoins with tablenaamenojoins: string \"\\\\$\" newspace : string \n| parse kind=regex tablenaamenojoins with space2: string \"\\\\$\" onlytablenamenojoins: string \n//| parse kind=regex tablenamewithjoins with stringtoeliminate: string \"\\\\$\" tablenamewithoutjoins: string\n| extend tablename = case(\n    tablenamewithjoins contains \"$\", onlytablenamenojoins\n    , tablenamewithjoins \n)\n| extend splitStacktrace = split(customDimensions.alStackTrace, \"\\n\")\n| extend lengthStacktrace = array_length(splitStacktrace)\n| extend\n    topOfStackline = tostring(splitStacktrace[0]),\n    bottomOfStackline = tostring(splitStacktrace[lengthStacktrace - 1])\n| extend topOfStackObjectName = extract('\\\\\\\"?([^\\\\\\\"]+)\\\\\\\"?\\\\([a-zA-Z]+ \\\\d+\\\\)', 1, topOfStackline)\n| extend topOfStackObjectType = extract('\\\\(([a-zA-Z]+) \\\\d+\\\\)', 1, topOfStackline)\n| extend topOfStackObjectId = extract('\\\\([a-zA-Z]+ (\\\\d+)\\\\)', 1, topOfStackline)\n| extend topOfStackLineNumber = extract(' line (\\\\d+)', 1, topOfStackline)\n| extend topOfStackExtensionName = case (\n    isnotempty(topOfStackLineNumber), extract('line \\\\d+ - (.+) by', 1, topOfStackline),\n    extract(' - (.+) by', 1, topOfStackline)\n    )\n| extend topOfStackPublisher = extract('.+ by (.+)', 1, topOfStackline)\n| extend topOfStackWhatWasCalled = case(\n    isnotempty(topOfStackLineNumber), extract('\\\\\\\"?[^\\\\\\\"]+\\\\\\\"?\\\\([a-zA-Z]+ \\\\d+\\\\).(.+) line', 1, topOfStackline),\n    isnotempty(topOfStackExtensionName), extract('\\\\\\\"?[^\\\\\\\"]+\\\\\\\"?\\\\([a-zA-Z]+ \\\\d+\\\\).(.+) -(.+) by (.+)', 1, topOfStackline),\n    extract('\\\\\\\"?[^\\\\\\\"]+\\\\\\\"?\\\\([a-zA-Z]+ \\\\d+\\\\).(.+)', 1, topOfStackline)\n    )\n| extend bottomOfStackObjectName = extract('\\\\\\\"?([^\\\\\\\"]+)\\\\\\\"?\\\\([a-zA-Z]+ \\\\d+\\\\)', 1, bottomOfStackline)\n| extend bottomOfStackObjectType = extract('\\\\(([a-zA-Z]+) \\\\d+\\\\)', 1, bottomOfStackline)\n| extend bottomOfStackObjectId = extract('\\\\([a-zA-Z]+ (\\\\d+)\\\\)', 1, bottomOfStackline)\n| extend bottomOfStackLineNumber = extract(' line (\\\\d+)', 1, bottomOfStackline)\n| extend bottomOfStackExtensionName = case (\n    isnotempty(bottomOfStackLineNumber), extract('line \\\\d+ - (.+) by', 1, bottomOfStackline),\n    extract(' - (.+) by', 1, bottomOfStackline)\n    )\n| extend bottomOfStackPublisher = extract('.+ by (.+)', 1, bottomOfStackline)\n| extend bottomOfStackWhatWasCalled = case(\n    isnotempty(bottomOfStackLineNumber), extract('\\\\\\\"?[^\\\\\\\"]+\\\\\\\"?\\\\([a-zA-Z]+ \\\\d+\\\\).(.+) line', 1, bottomOfStackline),\n    isnotempty(bottomOfStackExtensionName), extract('\\\\\\\"?[^\\\\\\\"]+\\\\\\\"?\\\\([a-zA-Z]+ \\\\d+\\\\).(.+) -(.+) by (.+)', 1, bottomOfStackline),\n    extract('\\\\\\\"?[^\\\\\\\"]+\\\\\\\"?\\\\([a-zA-Z]+ \\\\d+\\\\).(.+)', 1, bottomOfStackline)\n    )\n| extend SourceProcess = strcat(bottomOfStackWhatWasCalled , \" - \", bottomOfStackObjectType, \" \", bottomOfStackObjectId, \" \", bottomOfStackObjectName, \" (\", bottomOfStackExtensionName, \")\")\n    , LockingObject = strcat(topOfStackObjectType, \" '\", topOfStackObjectName,\"'\")\n    , LockingObjectId = tostring(topOfStackObjectId)\n    , LockingObjectMethod = tostring(topOfStackWhatWasCalled)\n    , LockingObjectExtension = tostring(topOfStackExtensionName)\n| where tablename <> \"\"\n| summarize Count = count() by tablename\n);\nTableDeadlocked\n| extend Percentage = round(Count *100 / toscalar(TableDeadlocked | summarize sum(Count)),2)\n| sort by Count desc \n","id":"7b0419de-7337-4e1e-ac96-f609ee99224a","usedVariables":["TracesBQ"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"PageViewsBQ\n| where toint(customDimensions.alObjectId) > 0\n| where customDimensions.pageType !contains \"eport\"\n//| where customDimensions.designerLevel == \"None\"\n| extend bucketIndex = case(\n    performanceBucket == \">=5min\", \"11\"\n    , performanceBucket == \"2min-5min\", \"10\"\n    , performanceBucket == \"1min-2min\", \"09\"\n    , performanceBucket == \"30sec-1min\", \"08\"\n    , performanceBucket == \"15sec-30sec\", \"07\"\n    , performanceBucket == \"7sec-15sec\", \"06\"\n    , performanceBucket == \"3sec-7sec\", \"05\"\n    , performanceBucket == \"1sec-3sec\", \"04\"\n    , performanceBucket == \"500ms-1sec\", \"03\"\n    , performanceBucket == \"250ms-500ms\", \"02\"\n    , performanceBucket == \"<250ms\", \"01\"\n    , \"00\")\n| extend perfBucket = strcat(bucketIndex, ': ', performanceBucket)\n| summarize count() by perfBucket, bin(timestamp,1d)\n| sort by perfBucket asc ","id":"0d0bb6dd-14ed-4cd6-b78d-0db5553a03ae","usedVariables":["PageViewsBQ"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"TracesBQ\n| where customDimensions.eventId == 'RT0019'\n| extend extensionId = tostring(customDimensions.extensionId)\n    , extensionName = trim('XYZ',tostring(customDimensions.extensionName))\n    , extensionPublisher = trim('XYZ',tostring(customDimensions.extensionPublisher))\n    , alObjectType = tostring(customDimensions.alObjectType)\n    , alObjectId = tostring(customDimensions.alObjectId)\n    , alObjectName = trim('XYZ',tostring(customDimensions.alObjectName))\n    , httpStatusCode = toint(customDimensions.httpStatusCode)\n    , clientType = tostring(customDimensions.clientType)\n    , method = tostring(customDimensions.httpMethod)\n    , endpoint = tostring(customDimensions.endpoint)\n| where httpStatusCode !between (200 .. 299)\n| summarize count() by httpStatusCode, clientType, method, endpoint, extensionPublisher, extensionName, extensionId, alObjectType, alObjectId, alObjectName\n| project httpStatusCode, count_, endpoint, clientType, method, alObjectId, alObjectName, alObjectType, extensionName, extensionId\n\n\n","id":"56c83888-0cfe-4f23-b27a-8d71fc21888b","usedVariables":["TracesBQ"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"// Long running queries by Source Process - still needs some work\n// Last Long running AL methods\n// Calculate Time in UTC Time\nTracesBQ\n| where customDimensions has 'RT0018'\n| where customDimensions.eventId == 'RT0018'\n| extend ObjectType = tostring(customDimensions.alObjectType)\n    , ObjectId = tostring(customDimensions.alObjectId)\n    , ObjectName = replace_string(replace_string(replace_string(tostring(customDimensions.alObjectName),'XYZ',''),'xxxx','xxx'),'xxxxx','yyyyy')\n    , sqlStatement = tostring(customDimensions.sqlStatement)\n    , numberOfJoins = countof(tostring(customDimensions.sqlStatement), \"JOIN\")\n    , EventId = tostring(customDimensions.eventId)\n    , StackTrace = replace_string(replace_string(replace_string(tostring(customDimensions.alStackTrace),'XYZ',''),'xxxx','xxx'),'xxxxx','yyyyy')\n    , exclusiveTime = customDimensions.exclusiveTime // This dimension was introduced in Business Central 2023 release wave 1, version 22.1. Backported to version 21.6\n    , exclusiveTimeInMS = toreal(totimespan(customDimensions.exclusiveTime))/10000 //the datatype for exclusiveTime is timespan \n    // exclusiveTime is the total time of the operation, including wait time due to client callback\n    , totalTime = customDimensions.executionTime\n    , totalTimeInMS = toreal(totimespan(customDimensions.executionTime))/10000 //the datatype for executionTime is timespan \n| where ObjectId <> \"18122317\"\n| extend operationType = case(\n    sqlStatement startswith \"UPDATE\", \"UPDATE\"\n    , sqlStatement startswith \"DELETE\", \"DELETE\"\n    , sqlStatement startswith \"BeginTransaction\", \"BEGIN_TRANS\"\n    , sqlStatement matches regex \"INSERT INTO\", \"INSERT\"\n    , sqlStatement startswith \"SELECT\", \"SELECT\"\n    , sqlStatement matches regex \"IF EXISTS \\\\(SELECT (.*)\\\\) SELECT\", \"SELECT'\"\n    , sqlStatement has \"SELECT NEXT VALUE FOR\", \"SELECT_SEQUENCE_VALUE\"\n    , sqlStatement has \"SELECT @@SPID\", \"SELECT_SPID\"\n    , sqlStatement matches regex \"(.*)WITH\", \"SELECT\"\n    , sqlStatement startswith \"CREATE TABLE\", \"CREATE_TABLE\"\n    , sqlStatement startswith \"ALTER TABLE\", \"ALTER_TABLE\"\n    , sqlStatement startswith \"exec sp_rename\", \"RENAME_TABLE\" \n    , sqlStatement matches regex \"(.*)DROP TABLE\", \"DROP_TABLE\"\n    , sqlStatement startswith \"SET LOCK_TIMEOUT\", \"SET_LOCK_TIMEOUT\"\n    , sqlStatement has \"sp_getapplock\", \"GET_APP_LOCK\"\n    , \"UNKNOWN\"\n    ) \n| parse kind=regex sqlStatement with selectPart: string \"FROM \\\"SQLDATABASE\\\".dbo.\\\"CURRENTCOMPANY\\\\$\" tablename: string \"\\\\$\" space: string\n| extend splitStacktrace = split(customDimensions.alStackTrace, \"\\n\")\n| extend lengthStacktrace = array_length(splitStacktrace)\n| extend\n    topOfStackline = tostring(splitStacktrace[0]),\n    bottomOfStackline = tostring(splitStacktrace[lengthStacktrace - 1])\n| extend topOfStackObjectName = extract('\\\\\\\"?([^\\\\\\\"]+)\\\\\\\"?\\\\([a-zA-Z]+ \\\\d+\\\\)', 1, topOfStackline)\n| extend topOfStackObjectType = extract('\\\\(([a-zA-Z]+) \\\\d+\\\\)', 1, topOfStackline)\n| extend topOfStackObjectId = extract('\\\\([a-zA-Z]+ (\\\\d+)\\\\)', 1, topOfStackline)\n| extend topOfStackLineNumber = extract(' line (\\\\d+)', 1, topOfStackline)\n| extend topOfStackExtensionName = case (\n    isnotempty(topOfStackLineNumber), extract('line \\\\d+ - (.+) by', 1, topOfStackline),\n    extract(' - (.+) by', 1, topOfStackline)\n    )\n| extend topOfStackPublisher = extract('.+ by (.+)', 1, topOfStackline)\n| extend topOfStackWhatWasCalled = case(\n    isnotempty(topOfStackLineNumber), extract('\\\\\\\"?[^\\\\\\\"]+\\\\\\\"?\\\\([a-zA-Z]+ \\\\d+\\\\).(.+) line', 1, topOfStackline),\n    isnotempty(topOfStackExtensionName), extract('\\\\\\\"?[^\\\\\\\"]+\\\\\\\"?\\\\([a-zA-Z]+ \\\\d+\\\\).(.+) -(.+) by (.+)', 1, topOfStackline),\n    extract('\\\\\\\"?[^\\\\\\\"]+\\\\\\\"?\\\\([a-zA-Z]+ \\\\d+\\\\).(.+)', 1, topOfStackline)\n    )\n| extend bottomOfStackObjectName = extract('\\\\\\\"?([^\\\\\\\"]+)\\\\\\\"?\\\\([a-zA-Z]+ \\\\d+\\\\)', 1, bottomOfStackline)\n| extend bottomOfStackObjectType = extract('\\\\(([a-zA-Z]+) \\\\d+\\\\)', 1, bottomOfStackline)\n| extend bottomOfStackObjectId = extract('\\\\([a-zA-Z]+ (\\\\d+)\\\\)', 1, bottomOfStackline)\n| extend bottomOfStackLineNumber = extract(' line (\\\\d+)', 1, bottomOfStackline)\n| extend bottomOfStackExtensionName = case (\n    isnotempty(bottomOfStackLineNumber), extract('line \\\\d+ - (.+) by', 1, bottomOfStackline),\n    extract(' - (.+) by', 1, bottomOfStackline)\n    )\n| extend bottomOfStackPublisher = extract('.+ by (.+)', 1, bottomOfStackline)\n| extend bottomOfStackWhatWasCalled = case(\n    isnotempty(bottomOfStackLineNumber), extract('\\\\\\\"?[^\\\\\\\"]+\\\\\\\"?\\\\([a-zA-Z]+ \\\\d+\\\\).(.+) line', 1, bottomOfStackline),\n    isnotempty(bottomOfStackExtensionName), extract('\\\\\\\"?[^\\\\\\\"]+\\\\\\\"?\\\\([a-zA-Z]+ \\\\d+\\\\).(.+) -(.+) by (.+)', 1, bottomOfStackline),\n    extract('\\\\\\\"?[^\\\\\\\"]+\\\\\\\"?\\\\([a-zA-Z]+ \\\\d+\\\\).(.+)', 1, bottomOfStackline)\n    )\n| extend SourceProcess = strcat(bottomOfStackWhatWasCalled , \" - \", bottomOfStackObjectType, \" \", bottomOfStackObjectId, \" \", bottomOfStackObjectName, \" (\", bottomOfStackExtensionName, \")\")\n    , LockingObject = strcat(topOfStackWhatWasCalled , \" - \", topOfStackObjectType, \" \", topOfStackObjectId, \" \", topOfStackObjectName, \" (\", topOfStackExtensionName, \")\")\n| project\n    timestamp,\n    ObjectType,\n    ObjectId,\n    ObjectName,\n    operationType,\n    numberOfJoins,\n    LockingObject,\n    SourceProcess,\n    StackTrace,\n    customDimensions,\n    totalTimeInMS\n| summarize count = count() by [\"Source Process\"] = replace_string(replace_string(replace_string(SourceProcess,'XYZ',''),'xxxx','xxx'),'xxxxx','yyyyy'), bin(timestamp,1h)\n| render timechart ","id":"01efb413-5186-42c8-9c1c-1466b755aa1a","usedVariables":["TracesBQ"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"// Long running queries by Source Process - still needs some work\n// Last Long running AL methods\n// Calculate Time in UTC Time\nTracesBQ\n| where customDimensions has 'RT0005'\n| where customDimensions.eventId == 'RT0005'\n| extend ObjectType = tostring(customDimensions.alObjectType)\n    , ObjectId = tostring(customDimensions.alObjectId)\n    , ObjectName = replace_string(replace_string(replace_string(tostring(customDimensions.alObjectName),'XYZ',''),'xxxx','xxx'),'xxxxx','yyyyy')\n    , sqlStatement = tostring(customDimensions.sqlStatement)\n    , numberOfJoins = countof(tostring(customDimensions.sqlStatement), \"JOIN\")\n    , EventId = tostring(customDimensions.eventId)\n    , StackTrace = replace_string(replace_string(replace_string(tostring(customDimensions.alStackTrace),'XYZ',''),'xxxx','xxx'),'xxxxx','yyyyy')\n    , exclusiveTime = customDimensions.exclusiveTime // This dimension was introduced in Business Central 2023 release wave 1, version 22.1. Backported to version 21.6\n    , exclusiveTimeInMS = toreal(totimespan(customDimensions.exclusiveTime))/10000 //the datatype for exclusiveTime is timespan \n    // exclusiveTime is the total time of the operation, including wait time due to client callback\n    , totalTime = customDimensions.executionTime\n    , totalTimeInMS = toreal(totimespan(customDimensions.executionTime))/10000 //the datatype for executionTime is timespan \n| where ObjectId <> \"18122317\"\n| extend operationType = case(\n    sqlStatement startswith \"UPDATE\", \"UPDATE\"\n    , sqlStatement startswith \"DELETE\", \"DELETE\"\n    , sqlStatement startswith \"BeginTransaction\", \"BEGIN_TRANS\"\n    , sqlStatement matches regex \"INSERT INTO\", \"INSERT\"\n    , sqlStatement startswith \"SELECT\", \"SELECT\"\n    , sqlStatement matches regex \"IF EXISTS \\\\(SELECT (.*)\\\\) SELECT\", \"SELECT'\"\n    , sqlStatement has \"SELECT NEXT VALUE FOR\", \"SELECT_SEQUENCE_VALUE\"\n    , sqlStatement has \"SELECT @@SPID\", \"SELECT_SPID\"\n    , sqlStatement matches regex \"(.*)WITH\", \"SELECT\"\n    , sqlStatement startswith \"CREATE TABLE\", \"CREATE_TABLE\"\n    , sqlStatement startswith \"ALTER TABLE\", \"ALTER_TABLE\"\n    , sqlStatement startswith \"exec sp_rename\", \"RENAME_TABLE\" \n    , sqlStatement matches regex \"(.*)DROP TABLE\", \"DROP_TABLE\"\n    , sqlStatement startswith \"SET LOCK_TIMEOUT\", \"SET_LOCK_TIMEOUT\"\n    , sqlStatement has \"sp_getapplock\", \"GET_APP_LOCK\"\n    , \"UNKNOWN\"\n    ) \n| parse kind=regex sqlStatement with selectPart: string \"FROM \\\"SQLDATABASE\\\".dbo.\\\"CURRENTCOMPANY\\\\$\" tablename: string \"\\\\$\" space: string\n| extend splitStacktrace = split(customDimensions.alStackTrace, \"\\n\")\n| extend lengthStacktrace = array_length(splitStacktrace)\n| extend\n    topOfStackline = tostring(splitStacktrace[0]),\n    bottomOfStackline = tostring(splitStacktrace[lengthStacktrace - 1])\n| extend topOfStackObjectName = extract('\\\\\\\"?([^\\\\\\\"]+)\\\\\\\"?\\\\([a-zA-Z]+ \\\\d+\\\\)', 1, topOfStackline)\n| extend topOfStackObjectType = extract('\\\\(([a-zA-Z]+) \\\\d+\\\\)', 1, topOfStackline)\n| extend topOfStackObjectId = extract('\\\\([a-zA-Z]+ (\\\\d+)\\\\)', 1, topOfStackline)\n| extend topOfStackLineNumber = extract(' line (\\\\d+)', 1, topOfStackline)\n| extend topOfStackExtensionName = case (\n    isnotempty(topOfStackLineNumber), extract('line \\\\d+ - (.+) by', 1, topOfStackline),\n    extract(' - (.+) by', 1, topOfStackline)\n    )\n| extend topOfStackPublisher = extract('.+ by (.+)', 1, topOfStackline)\n| extend topOfStackWhatWasCalled = case(\n    isnotempty(topOfStackLineNumber), extract('\\\\\\\"?[^\\\\\\\"]+\\\\\\\"?\\\\([a-zA-Z]+ \\\\d+\\\\).(.+) line', 1, topOfStackline),\n    isnotempty(topOfStackExtensionName), extract('\\\\\\\"?[^\\\\\\\"]+\\\\\\\"?\\\\([a-zA-Z]+ \\\\d+\\\\).(.+) -(.+) by (.+)', 1, topOfStackline),\n    extract('\\\\\\\"?[^\\\\\\\"]+\\\\\\\"?\\\\([a-zA-Z]+ \\\\d+\\\\).(.+)', 1, topOfStackline)\n    )\n| extend bottomOfStackObjectName = extract('\\\\\\\"?([^\\\\\\\"]+)\\\\\\\"?\\\\([a-zA-Z]+ \\\\d+\\\\)', 1, bottomOfStackline)\n| extend bottomOfStackObjectType = extract('\\\\(([a-zA-Z]+) \\\\d+\\\\)', 1, bottomOfStackline)\n| extend bottomOfStackObjectId = extract('\\\\([a-zA-Z]+ (\\\\d+)\\\\)', 1, bottomOfStackline)\n| extend bottomOfStackLineNumber = extract(' line (\\\\d+)', 1, bottomOfStackline)\n| extend bottomOfStackExtensionName = case (\n    isnotempty(bottomOfStackLineNumber), extract('line \\\\d+ - (.+) by', 1, bottomOfStackline),\n    extract(' - (.+) by', 1, bottomOfStackline)\n    )\n| extend bottomOfStackPublisher = extract('.+ by (.+)', 1, bottomOfStackline)\n| extend bottomOfStackWhatWasCalled = case(\n    isnotempty(bottomOfStackLineNumber), extract('\\\\\\\"?[^\\\\\\\"]+\\\\\\\"?\\\\([a-zA-Z]+ \\\\d+\\\\).(.+) line', 1, bottomOfStackline),\n    isnotempty(bottomOfStackExtensionName), extract('\\\\\\\"?[^\\\\\\\"]+\\\\\\\"?\\\\([a-zA-Z]+ \\\\d+\\\\).(.+) -(.+) by (.+)', 1, bottomOfStackline),\n    extract('\\\\\\\"?[^\\\\\\\"]+\\\\\\\"?\\\\([a-zA-Z]+ \\\\d+\\\\).(.+)', 1, bottomOfStackline)\n    )\n| extend SourceProcess = strcat(bottomOfStackWhatWasCalled , \" - \", bottomOfStackObjectType, \" \", bottomOfStackObjectId, \" \", bottomOfStackObjectName, \" (\", bottomOfStackExtensionName, \")\")\n    , LockingObject = strcat(topOfStackWhatWasCalled , \" - \", topOfStackObjectType, \" \", topOfStackObjectId, \" \", topOfStackObjectName, \" (\", topOfStackExtensionName, \")\")\n| project\n    timestamp,\n    ObjectType,\n    ObjectId,\n    ObjectName,\n    operationType,\n    numberOfJoins,\n    LockingObject,\n    SourceProcess,\n    StackTrace,\n    customDimensions,\n    totalTimeInMS\n| summarize count = count(), avgTotalTimeInMS = toint(avg(totalTimeInMS)) by ObjectType, ObjectId, ObjectName, SourceMethod = replace_string(replace_string(replace_string(SourceProcess,'XYZ',''),'xxxx','xxx'),'xxxxx','yyyyy'), StackTrace\n| order by ['count'] desc \n\n\n\n\n","id":"f3d615db-ba01-47aa-8966-dcd964b68669","usedVariables":["TracesBQ"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"// Long running queries by Source Process - still needs some work\n// Last Long running AL methods\nTracesBQ\n| where customDimensions has 'RT0005'\n| where customDimensions.eventId == 'RT0005'\n| extend ObjectType = tostring(customDimensions.alObjectType)\n    , ObjectId = tostring(customDimensions.alObjectId)\n    , ObjectName = replace_string(replace_string(replace_string(tostring(customDimensions.alObjectName),'XYZ',''),'xxxx','xxx'),'xxxxx','yyyyy')\n    , sqlStatement = tostring(customDimensions.sqlStatement)\n    , numberOfJoins = countof(tostring(customDimensions.sqlStatement), \"JOIN\")\n    , EventId = tostring(customDimensions.eventId)\n    , StackTrace = replace_string(replace_string(replace_string(tostring(customDimensions.alStackTrace),'XYZ',''),'xxxx','xxx'),'xxxxx','yyyyy')\n    , exclusiveTime = customDimensions.exclusiveTime // This dimension was introduced in Business Central 2023 release wave 1, version 22.1. Backported to version 21.6\n    , exclusiveTimeInMS = toreal(totimespan(customDimensions.exclusiveTime))/10000 //the datatype for exclusiveTime is timespan \n    // exclusiveTime is the total time of the operation, including wait time due to client callback\n    , totalTime = customDimensions.executionTime\n    , totalTimeInMS = toreal(totimespan(customDimensions.executionTime))/10000 //the datatype for executionTime is timespan \n| where ObjectId <> \"18122317\"\n| extend operationType = case(\n    sqlStatement startswith \"UPDATE\", \"UPDATE\"\n    , sqlStatement startswith \"DELETE\", \"DELETE\"\n    , sqlStatement startswith \"BeginTransaction\", \"BEGIN_TRANS\"\n    , sqlStatement matches regex \"INSERT INTO\", \"INSERT\"\n    , sqlStatement startswith \"SELECT\", \"SELECT\"\n    , sqlStatement matches regex \"IF EXISTS \\\\(SELECT (.*)\\\\) SELECT\", \"SELECT'\"\n    , sqlStatement has \"SELECT NEXT VALUE FOR\", \"SELECT_SEQUENCE_VALUE\"\n    , sqlStatement has \"SELECT @@SPID\", \"SELECT_SPID\"\n    , sqlStatement matches regex \"(.*)WITH\", \"SELECT\"\n    , sqlStatement startswith \"CREATE TABLE\", \"CREATE_TABLE\"\n    , sqlStatement startswith \"ALTER TABLE\", \"ALTER_TABLE\"\n    , sqlStatement startswith \"exec sp_rename\", \"RENAME_TABLE\" \n    , sqlStatement matches regex \"(.*)DROP TABLE\", \"DROP_TABLE\"\n    , sqlStatement startswith \"SET LOCK_TIMEOUT\", \"SET_LOCK_TIMEOUT\"\n    , sqlStatement has \"sp_getapplock\", \"GET_APP_LOCK\"\n    , \"UNKNOWN\"\n    ) \n| parse kind=regex sqlStatement with selectPart: string \"FROM \\\"SQLDATABASE\\\".dbo.\\\"CURRENTCOMPANY\\\\$\" tablename: string \"\\\\$\" space: string\n| extend splitStacktrace = split(customDimensions.alStackTrace, \"\\n\")\n| extend lengthStacktrace = array_length(splitStacktrace)\n| extend\n    topOfStackline = tostring(splitStacktrace[0]),\n    bottomOfStackline = tostring(splitStacktrace[lengthStacktrace - 1])\n| extend topOfStackObjectName = extract('\\\\\\\"?([^\\\\\\\"]+)\\\\\\\"?\\\\([a-zA-Z]+ \\\\d+\\\\)', 1, topOfStackline)\n| extend topOfStackObjectType = extract('\\\\(([a-zA-Z]+) \\\\d+\\\\)', 1, topOfStackline)\n| extend topOfStackObjectId = extract('\\\\([a-zA-Z]+ (\\\\d+)\\\\)', 1, topOfStackline)\n| extend topOfStackLineNumber = extract(' line (\\\\d+)', 1, topOfStackline)\n| extend topOfStackExtensionName = case (\n    isnotempty(topOfStackLineNumber), extract('line \\\\d+ - (.+) by', 1, topOfStackline),\n    extract(' - (.+) by', 1, topOfStackline)\n    )\n| extend topOfStackPublisher = extract('.+ by (.+)', 1, topOfStackline)\n| extend topOfStackWhatWasCalled = case(\n    isnotempty(topOfStackLineNumber), extract('\\\\\\\"?[^\\\\\\\"]+\\\\\\\"?\\\\([a-zA-Z]+ \\\\d+\\\\).(.+) line', 1, topOfStackline),\n    isnotempty(topOfStackExtensionName), extract('\\\\\\\"?[^\\\\\\\"]+\\\\\\\"?\\\\([a-zA-Z]+ \\\\d+\\\\).(.+) -(.+) by (.+)', 1, topOfStackline),\n    extract('\\\\\\\"?[^\\\\\\\"]+\\\\\\\"?\\\\([a-zA-Z]+ \\\\d+\\\\).(.+)', 1, topOfStackline)\n    )\n| extend bottomOfStackObjectName = extract('\\\\\\\"?([^\\\\\\\"]+)\\\\\\\"?\\\\([a-zA-Z]+ \\\\d+\\\\)', 1, bottomOfStackline)\n| extend bottomOfStackObjectType = extract('\\\\(([a-zA-Z]+) \\\\d+\\\\)', 1, bottomOfStackline)\n| extend bottomOfStackObjectId = extract('\\\\([a-zA-Z]+ (\\\\d+)\\\\)', 1, bottomOfStackline)\n| extend bottomOfStackLineNumber = extract(' line (\\\\d+)', 1, bottomOfStackline)\n| extend bottomOfStackExtensionName = case (\n    isnotempty(bottomOfStackLineNumber), extract('line \\\\d+ - (.+) by', 1, bottomOfStackline),\n    extract(' - (.+) by', 1, bottomOfStackline)\n    )\n| extend bottomOfStackPublisher = extract('.+ by (.+)', 1, bottomOfStackline)\n| extend bottomOfStackWhatWasCalled = case(\n    isnotempty(bottomOfStackLineNumber), extract('\\\\\\\"?[^\\\\\\\"]+\\\\\\\"?\\\\([a-zA-Z]+ \\\\d+\\\\).(.+) line', 1, bottomOfStackline),\n    isnotempty(bottomOfStackExtensionName), extract('\\\\\\\"?[^\\\\\\\"]+\\\\\\\"?\\\\([a-zA-Z]+ \\\\d+\\\\).(.+) -(.+) by (.+)', 1, bottomOfStackline),\n    extract('\\\\\\\"?[^\\\\\\\"]+\\\\\\\"?\\\\([a-zA-Z]+ \\\\d+\\\\).(.+)', 1, bottomOfStackline)\n    )\n| extend SourceProcess = strcat(bottomOfStackWhatWasCalled , \" - \", bottomOfStackObjectType, \" \", bottomOfStackObjectId, \" \", bottomOfStackObjectName, \" (\", bottomOfStackExtensionName, \")\")\n    , LockingObject = strcat(topOfStackWhatWasCalled , \" - \", topOfStackObjectType, \" \", topOfStackObjectId, \" \", topOfStackObjectName, \" (\", topOfStackExtensionName, \")\")\n| project\n    timestamp,\n    ObjectType,\n    ObjectId,\n    ObjectName,\n    operationType,\n    numberOfJoins,\n    LockingObject,\n    SourceProcess,\n    StackTrace,\n    customDimensions,\n    totalTimeInMS\n| where SourceProcess <> \" -    ()\"\n| summarize count = count() by ObjectType, ObjectId, ObjectName, [\"Source Process\"] = replace_string(replace_string(replace_string(SourceProcess,'XYZ',''),'xxxx','xxx'),'xxxxx','yyyyy'), bin(timestamp,1h)\n| render timechart ","id":"03b4fb63-0c60-40dd-ac0e-cd6cda6ba72d","usedVariables":["TracesBQ"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"TracesBQ\n| where customDimensions.eventId == \"RT0008\"\n//| where toupper(customDimensions.category) == \"API\"\n| extend _endpoint = strcat(\"WS/\", customDimensions.alObjectType,'/', customDimensions.alObjectId, '(',tostring(customDimensions.endpoint),')')\n| extend _processingTimeMS = toreal(totimespan(customDimensions.serverExecutionTime))/10000\n| extend _httpStatusCode = toint(customDimensions.httpStatusCode)\n| where _httpStatusCode !between (200..299)\n| project [\"Endpoint\"] = _endpoint, \n        [\"Http Status Code\"] = _httpStatusCode,\n        [\"Object Type\"] = tostring(customDimensions.alObjectType), \n        [\"Object No.\"] = tostring(customDimensions.alObjectId), \n        _processingTimeMS, \n        [\"Environment Type\"] = tostring(customDimensions.environmentType)\n| summarize count(), [\"Avg. Time\"] = round(avg(_processingTimeMS),2), [\"Total Time\"] = round(sum(_processingTimeMS),2) by [\"Endpoint\"], ['Http Status Code'], [\"Object Type\"], [\"Object No.\"], [\"Environment Type\"]\n| sort by count_ desc\n","id":"ea095d5f-4993-4de5-a7fa-537a91e8c5c7","usedVariables":["TracesBQ"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"TracesBQ\n| where customDimensions.eventId == 'RT0019'\n| extend extensionId = tostring(customDimensions.extensionId)\n    , extensionName = trim('XYZ',tostring(customDimensions.extensionName))\n    , extensionPublisher = trim('XYZ',tostring(customDimensions.extensionPublisher))\n    , alObjectType = tostring(customDimensions.alObjectType)\n    , alObjectId = tostring(customDimensions.alObjectId)\n    , alObjectName = trim('XYZ',tostring(customDimensions.alObjectName))\n    , httpStatusCode = toint(customDimensions.httpStatusCode)\n    , clientType = tostring(customDimensions.clientType)\n    , method = tostring(customDimensions.httpMethod)\n    , endpoint = tostring(customDimensions.endpoint)\n| where httpStatusCode !between (200 .. 299)\n| project timestamp, httpStatusCode, endpoint, clientType, method, alObjectId, alObjectName, alObjectType, extensionName, extensionId\n| sort by timestamp desc \n\n\n","id":"e40d26b4-16f2-4c92-8370-7c4c4758e6f8","usedVariables":["TracesBQ"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"PageViewsBQ\n| where toint(customDimensions.alObjectId) > 0\n| where customDimensions.pageType !contains \"eport\"\n//| where customDimensions.designerLevel == \"None\"\n| extend bucketIndex = case(\n    performanceBucket == \">=5min\", \"11\"\n    , performanceBucket == \"2min-5min\", \"10\"\n    , performanceBucket == \"1min-2min\", \"09\"\n    , performanceBucket == \"30sec-1min\", \"08\"\n    , performanceBucket == \"15sec-30sec\", \"07\"\n    , performanceBucket == \"7sec-15sec\", \"06\"\n    , performanceBucket == \"3sec-7sec\", \"05\"\n    , performanceBucket == \"1sec-3sec\", \"04\"\n    , performanceBucket == \"500ms-1sec\", \"03\"\n    , performanceBucket == \"250ms-500ms\", \"02\"\n    , performanceBucket == \"<250ms\", \"01\"\n    , \"00\")\n| extend perfBucket = strcat(bucketIndex, ': ', performanceBucket)\n| summarize count() by perfBucket, bin(timestamp,1h)\n| sort by perfBucket asc ","id":"025ff0b7-f6ef-44e5-9ae9-1e2b04a55476","usedVariables":["PageViewsBQ"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"TracesBQ\n| where 1==1 \n    and customDimensions.eventId == 'RT0005'\n| summarize count() by bin(timestamp, 7d)","id":"ca5d9612-5e43-4366-a8fa-9849e37ef07a","usedVariables":["TracesBQ"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"TracesBQ\n| where 1==1 \n    and customDimensions.eventId == 'RT0018'\n| summarize count() by bin(timestamp, 7d)\n| render columnchart  title= 'Number of long running AL Methods'","id":"9aa479ec-632f-4c5d-abad-2b243051c354","usedVariables":["TracesBQ"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"TracesBQ\n| where customDimensions.eventId == 'RT0028'\n| where isnotempty(customDimensions.aadTenantId) // filter away signal from Docker sandboxes\n| where customDimensions.alObjectId != '0' \n| where isnotempty(customDimensions.alObjectId)\n| summarize count() by bin(timestamp, 7d)\n| order by timestamp asc","id":"d27f8bbf-348c-414f-ac0b-b171ffa100e3","usedVariables":["TracesBQ"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"TracesBQ\n| where customDimensions.eventId == 'RT0012'\n| project timestamp\n, componentVersion = customDimensions.componentVersion\n, environmentType = customDimensions.environmentType\n, environmentName = customDimensions.environmentName\n, aadTenantId = customDimensions.aadTenantId\n, alObjectId = customDimensions.alObjectId\n, companyName = customDimensions.companyName\n, clientType = customDimensions.clientType\n, alObjectType = customDimensions.alObjectType\n, alObjectName = customDimensions.alObjectName\n, extensionVersion = customDimensions.extensionVersion\n, extensionName = customDimensions.extensionName\n, extensionId = customDimensions.extensionId\n, alStackTrace = customDimensions.alStackTrace\n// use the KQL snippet parseStackTrace to get bottom of the stack trace details\n, sqlStatement = customDimensions.sqlStatement\n, sqlServerSessionId = customDimensions.sqlServerSessionId\n, snapshotId = customDimensions.snapshotId\n, sessionId = customDimensions.sessionId\n, usertelemetryId = case(\n  // user telemetry id was introduced in the platform in version 20.0\n  toint( substring(customDimensions.componentVersion,0,2)) >= 20, user_Id\n, 'N/A'\n)\n| summarize count() by bin(timestamp,7d)\n","id":"f6bee997-a7ba-43f7-8823-5a14af6420d2","usedVariables":["TracesBQ"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"TracesBQ\n| where customDimensions.eventId == 'RT0012'\n| extend sqlStatement = replace_string(tostring(customDimensions.sqlStatement),'XYZ','')\n    , stackTrace = replace_string(tostring(customDimensions.alStackTrace),'XYZ','')\n    , alObjectName = replace_string(tostring(customDimensions.alObjectName),'XYZ','')\n    , extensionName = replace_string(tostring(customDimensions.extensionName),'XYZ','')\n| extend\n   alObjectId = customDimensions.alObjectId\n  , companyName = tostring(customDimensions.companyName)\n  , clientType = tostring(customDimensions.clientType)\n  , alObjectType = customDimensions.alObjectType\n  , extensionVersion = customDimensions.extensionVersion\n  , extensionInfo = strcat(extensionName, ' ', customDimensions.extensionVersion, \n    (iff(isnotempty(tostring(customDimensions.extensionPublisher)), strcat(' - ', tostring(customDimensions.extensionPublisher)), '')))\n  , extensionId = customDimensions.extensionId\n  , sqlServerSessionId = customDimensions.sqlServerSessionId\n  , snapshotId = tostring(customDimensions.snapshotId)\n| project timestamp, \n    [\"Session ID\"] = session_Id, \n    [\"Client Type\"] = clientType, \n    [\"AL Object Info\"] = strcat(alObjectType, ' ', alObjectId, ' - ', alObjectName), \n    [\"Extension Info\"] = extensionInfo, \n    [\"AL Stack Trace\"] =  stackTrace, \n    [\"SQL Statement\"] = sqlStatement,\n    [\"SQL Session Holding Lock\"] = sqlServerSessionId,\n    [\"Snapshot ID\"] =  snapshotId","id":"28e6214f-321e-4136-80a1-4688cf8e5428","usedVariables":["TracesBQ"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"TracesBQ\n| where customDimensions.eventId == 'RT0028'\n| where isnotempty(customDimensions.aadTenantId) // filter away signal from Docker sandboxes\n| where customDimensions.alObjectId != '0' \n| where isnotempty(customDimensions.alObjectId)\n| extend TenantId = strcat(customDimensions.aadTenantId)\n    , ExtensionId = tostring(customDimensions.extensionId)\n    , ExtensionName = tostring(customDimensions.extensionName)\n    , ExtensionVersion = tostring(customDimensions.extensionVersion)\n    , ObjectType = tostring(customDimensions.alObjectType)\n    , ObjectId = tostring(customDimensions.alObjectId)\n    , ObjectName = tostring(customDimensions.alObjectName)\n    , sqlStatement = tostring(customDimensions.sqlStatement)\n    , companyName = tostring(customDimensions.companyName)        \n    , numberOfJoins = countof(tostring(customDimensions.sqlStatement), \"JOIN\")\n    , EventId = tostring(customDimensions.eventId)\n    , StackTrace = tostring(customDimensions.alStackTrace)\n    , userId = user_Id\n| extend operationType = case(\n    sqlStatement startswith \"UPDATE\", \"UPDATE\"\n    , sqlStatement startswith \"DELETE\", \"DELETE\"\n    , sqlStatement startswith \"BeginTransaction\", \"BEGIN_TRANS\"\n    , sqlStatement matches regex \"INSERT INTO\", \"INSERT\"\n    , sqlStatement startswith \"SELECT\", \"SELECT\"\n    , sqlStatement matches regex \"IF EXISTS \\\\(SELECT (.*)\\\\) SELECT\", \"SELECT'\"\n    , sqlStatement has \"SELECT NEXT VALUE FOR\", \"SELECT_SEQUENCE_VALUE\"\n    , sqlStatement has \"SELECT @@SPID\", \"SELECT_SPID\"\n    , sqlStatement matches regex \"(.*)WITH\", \"SELECT\"\n    , sqlStatement startswith \"CREATE TABLE\", \"CREATE_TABLE\"\n    , sqlStatement startswith \"ALTER TABLE\", \"ALTER_TABLE\"\n    , sqlStatement startswith \"exec sp_rename\", \"RENAME_TABLE\" \n    , sqlStatement matches regex \"(.*)DROP TABLE\", \"DROP_TABLE\"\n    , sqlStatement startswith \"SET LOCK_TIMEOUT\", \"SET_LOCK_TIMEOUT\"\n    , sqlStatement has \"sp_getapplock\", \"GET_APP_LOCK\"\n    , \"UNKNOWN\"\n    ) \n| parse kind=regex sqlStatement with selectPart: string \"FROM \\\"SQLDATABASE\\\".dbo.\\\"CURRENTCOMPANY\\\\$\" tablenamewithjoins: string \"\\\\$\" space: string\n| parse kind=regex tablenamewithjoins with stringtoeliminate: string \"\\\\$\" tablenamewithoutjoins: string\n| extend tablename = case(\n    tablenamewithjoins contains \"$\", tablenamewithoutjoins\n    , tablenamewithjoins \n)\n| extend splitStacktrace = split(customDimensions.alStackTrace, \"\\n\")\n| extend lengthStacktrace = array_length(splitStacktrace)\n| extend\n    topOfStackline = tostring(splitStacktrace[0]),\n    bottomOfStackline = tostring(splitStacktrace[lengthStacktrace - 1])\n| extend topOfStackObjectName = extract('\\\\\\\"?([^\\\\\\\"]+)\\\\\\\"?\\\\([a-zA-Z]+ \\\\d+\\\\)', 1, topOfStackline)\n| extend topOfStackObjectType = extract('\\\\(([a-zA-Z]+) \\\\d+\\\\)', 1, topOfStackline)\n| extend topOfStackObjectId = extract('\\\\([a-zA-Z]+ (\\\\d+)\\\\)', 1, topOfStackline)\n| extend topOfStackLineNumber = extract(' line (\\\\d+)', 1, topOfStackline)\n| extend topOfStackExtensionName = case (\n    isnotempty(topOfStackLineNumber), extract('line \\\\d+ - (.+) by', 1, topOfStackline),\n    extract(' - (.+) by', 1, topOfStackline)\n    )\n| extend topOfStackPublisher = extract('.+ by (.+)', 1, topOfStackline)\n| extend topOfStackWhatWasCalled = case(\n    isnotempty(topOfStackLineNumber), extract('\\\\\\\"?[^\\\\\\\"]+\\\\\\\"?\\\\([a-zA-Z]+ \\\\d+\\\\).(.+) line', 1, topOfStackline),\n    isnotempty(topOfStackExtensionName), extract('\\\\\\\"?[^\\\\\\\"]+\\\\\\\"?\\\\([a-zA-Z]+ \\\\d+\\\\).(.+) -(.+) by (.+)', 1, topOfStackline),\n    extract('\\\\\\\"?[^\\\\\\\"]+\\\\\\\"?\\\\([a-zA-Z]+ \\\\d+\\\\).(.+)', 1, topOfStackline)\n    )\n| extend bottomOfStackObjectName = extract('\\\\\\\"?([^\\\\\\\"]+)\\\\\\\"?\\\\([a-zA-Z]+ \\\\d+\\\\)', 1, bottomOfStackline)\n| extend bottomOfStackObjectType = extract('\\\\(([a-zA-Z]+) \\\\d+\\\\)', 1, bottomOfStackline)\n| extend bottomOfStackObjectId = extract('\\\\([a-zA-Z]+ (\\\\d+)\\\\)', 1, bottomOfStackline)\n| extend bottomOfStackLineNumber = extract(' line (\\\\d+)', 1, bottomOfStackline)\n| extend bottomOfStackExtensionName = case (\n    isnotempty(bottomOfStackLineNumber), extract('line \\\\d+ - (.+) by', 1, bottomOfStackline),\n    extract(' - (.+) by', 1, bottomOfStackline)\n    )\n| extend bottomOfStackPublisher = extract('.+ by (.+)', 1, bottomOfStackline)\n| extend bottomOfStackWhatWasCalled = case(\n    isnotempty(bottomOfStackLineNumber), extract('\\\\\\\"?[^\\\\\\\"]+\\\\\\\"?\\\\([a-zA-Z]+ \\\\d+\\\\).(.+) line', 1, bottomOfStackline),\n    isnotempty(bottomOfStackExtensionName), extract('\\\\\\\"?[^\\\\\\\"]+\\\\\\\"?\\\\([a-zA-Z]+ \\\\d+\\\\).(.+) -(.+) by (.+)', 1, bottomOfStackline),\n    extract('\\\\\\\"?[^\\\\\\\"]+\\\\\\\"?\\\\([a-zA-Z]+ \\\\d+\\\\).(.+)', 1, bottomOfStackline)\n    )\n| extend SourceProcess = strcat(bottomOfStackWhatWasCalled , \" - \", bottomOfStackObjectType, \" \", bottomOfStackObjectId, \" \", bottomOfStackObjectName, \" (\", bottomOfStackExtensionName, \")\")\n    , LockingObject = strcat(topOfStackObjectType, \" '\", topOfStackObjectName,\"'\")\n    , LockingObjectId = tostring(topOfStackObjectId)\n    , LockingObjectMethod = tostring(topOfStackWhatWasCalled)\n    , LockingObjectExtension = tostring(topOfStackExtensionName)\n| summarize count() by bin(timestamp,5min)\n| project timestamp, count_\n| render columnchart \n\n","id":"8faa1ec0-14ec-426a-adc0-c05931c12b91","usedVariables":["TracesBQ"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"let _appInsightsTraces = materialize (\n    TracesBQ\n);\nlet _failedToBeEnqueuedJQ = materialize (\n    _appInsightsTraces\n    | where customDimensions.eventId == \"AL0000FNY\"\n);\nlet _failedCanBeRetriedJQ = materialize (\n    _appInsightsTraces\n    | where customDimensions.eventId == \"AL0000HE7\"\n);\nlet _RescheduledOnLoginJQ = materialize (\n    _appInsightsTraces\n    | where customDimensions.eventId == \"AL0000I49\"\n);\nlet _RunOnceByUserJQ = materialize (\n    _appInsightsTraces\n    | where customDimensions.eventId == \"AL0000FMG\"\n);\nlet _FailedAndStoppedJQ = materialize (\n    _appInsightsTraces\n    | where customDimensions.eventId == \"AL0000JRG\"\n);\n_failedToBeEnqueuedJQ\n| union (_failedToBeEnqueuedJQ) \n| union (_failedCanBeRetriedJQ) \n| union (_RescheduledOnLoginJQ)\n| union (_RunOnceByUserJQ) \n| union (_FailedAndStoppedJQ) \n| sort by timestamp asc","id":"0cbe8700-3ee9-49f3-af34-9f56d8f8bcb1","usedVariables":["TracesBQ"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"let TableCount = (\nTracesBQ\n| where customDimensions.eventId == 'RT0018' // starting from version 16.1, the eventId is used to identity signal types\n| where customDimensions.alObjectId > 0 // filter out internal server calls\n| project \ntimestamp\n, extensionId = tostring(customDimensions.extensionId)\n, extensionPublisher = tostring(customDimensions.extensionPublisher)\n, extensionName = trim('XYZ',tostring(customDimensions.extensionName))\n, alObjectId = tostring(customDimensions.alObjectId)\n, alObjectType = tostring(customDimensions.alObjectType)\n, alObjectName = trim('XYZ',tostring(customDimensions.alObjectName))\n, alObjectMethod = tostring(customDimensions.alMethod)\n, executionTimeInMS = toreal(totimespan(customDimensions.executionTime))/10000 //the datatype for executionTime is timespan \n, dayBin = bin(timestamp,1d)\n| extend day = strcat(strcat(format_datetime(dayBin, \"yyyy-MM-dd\")),\" (Count)\") \n| project-away timestamp, dayBin, executionTimeInMS\n| sort by day asc \n| evaluate pivot(day, count())\n);\nTableCount\n| join\n(traces\n| where timestamp between (_startTime .. _endTime)// adjust as needed\n| where customDimensions.companyName has_any (_CompanyName)\n| where customDimensions.extensionPublisher has_any (_publisher)\n| where customDimensions.environmentType has_any (_EnvironmentType)\n| where customDimensions.environmentName has_any (_environmentName)\n| where customDimensions.clientType has_any (_ClientType)\n| where customDimensions.eventId == 'RT0018' // starting from version 16.1, the eventId is used to identity signal types\n| where customDimensions.alObjectId > 0 // filter out internal server calls\n| project \ntimestamp\n, extensionId = tostring(customDimensions.extensionId)\n, extensionPublisher = tostring(customDimensions.extensionPublisher)\n, extensionName = trim('XYZ',tostring(customDimensions.extensionName))\n, alObjectId = tostring(customDimensions.alObjectId)\n, alObjectType = tostring(customDimensions.alObjectType)\n, alObjectName = trim('XYZ',tostring(customDimensions.alObjectName))\n, alObjectMethod = tostring(customDimensions.alMethod)\n, executionTimeInMS = toreal(totimespan(customDimensions.executionTime))/10000 //the datatype for executionTime is timespan \n// this part of the query derives various insights from the SQL statement\n, dayBin = bin(timestamp,1d)\n| extend day = strcat(strcat(format_datetime(dayBin, \"yyyy-MM-dd\")), \" (avg)\")\n| project-away timestamp, dayBin\n| summarize Average = round(avg(executionTimeInMS),0) by extensionId, extensionPublisher, extensionName, alObjectType, alObjectId, alObjectName, alObjectMethod, day\n| sort by day asc \n| evaluate pivot(day,sum(Average))\n)\non\n$left.extensionId == $right.extensionId,\n$left.extensionPublisher == $right.extensionPublisher,\n$left.extensionName == $right.extensionName,\n$left.alObjectType == $right.alObjectType,\n$left.alObjectId == $right.alObjectId,\n$left.alObjectName == $right.alObjectName,\n$left.alObjectMethod == $right.alObjectMethod\n| project-away extensionId, extensionId1, extensionPublisher1, extensionName1, alObjectType1, alObjectId1, alObjectName1, alObjectMethod1 ","id":"f1de20e7-0c51-478a-830e-cbc1b805be33","usedVariables":["TracesBQ","_ClientType","_CompanyName","_EnvironmentType","_endTime","_environmentName","_publisher","_startTime"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"//Monitor long running data upgrades\nunion TracesBQ\n| where customDimensions.eventId == 'AL0000EJA'\n| extend upgradeEnvironmentName = tostring(customDimensions.environmentName)\n  , upgradeTag = tostring(customDimensions.eventId)\n  , upgradeEventType = tostring( customDimensions.alUpgradeTag )\n  , upgradeCompanyName = tostring(customDimensions.alCompanyName)\n| project timestamp, message, upgradeTag, customDimensions, session_Id, upgradeEnvironmentName, upgradeEventType, upgradeCompanyName\n| join kind=inner\n(\nunion TracesBQ\n| where customDimensions.eventId == 'AL0000EJ9'\n| extend upgradeEnvironmentName = tostring(customDimensions.environmentName)\n  , upgradeTag = tostring(customDimensions.eventId)\n  , upgradeEventType = tostring( customDimensions.alUpgradeTag )\n  , upgradeCompanyName = tostring(customDimensions.alCompanyName)\n| project timestamp, message, upgradeTag, customDimensions, session_Id, upgradeEnvironmentName, upgradeEventType, upgradeCompanyName\n) on upgradeEnvironmentName, session_Id, upgradeCompanyName, upgradeEventType\n| extend upgradeTagDuration = timestamp - timestamp1\n| extend upgradeTagDurationInSec = round(upgradeTagDuration / 1s)\n| extend upgradeCompanyNoPII = \"\"\n//| project session_Id, timestamp, upgradeTagDuration, upgradeTagDurationInSec, upgradeCompanyName, upgradeEventType\n| project session_Id, timestamp, upgradeTagDuration, upgradeTagDurationInSec, upgradeCompanyNoPII, upgradeEventType\n| order by session_Id desc, timestamp desc //data upgrade tag timeline execution\n\n//| order by session_Id desc, upgradeTagDuration desc //data upgrade tag longest execution\n\n","id":"1eb5d76f-f620-4fae-88b4-2b36168c2304","usedVariables":["TracesBQ"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"TracesBQ\n| extend environmentName = tostring( customDimensions.environmentName )\n    , environmentType = tostring(customDimensions.environmentType)\n    , componentVersion = tostring(customDimensions.componentVersion)\n| where componentVersion <> \"\"\n| summarize max(bin(timestamp,1min)) by environmentName, componentVersion\n| sort by max_timestamp desc \n\n\n","id":"b30cf596-6da6-46d6-9a1b-b099c5e6d91b","usedVariables":["TracesBQ"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"let _now = now();\nlet PageViewCount = (\nPageViewsNoTime\n| where timestamp between (_previousUpdateStartTime .. _now)\n| where customDimensions.alObjectId > 0\n| project timestamp\n    , alObjectId = tostring(customDimensions.alObjectId)\n    , alObjectName = replace_string(tostring(customDimensions.alObjectName),'XYZ','')\n    , eventId = tostring(customDimensions.eventID) \n    , pageType = tostring(customDimensions.pageType)\n    , durationInMs = toint(duration)\n    , signalsBin = iff(timestamp < _updateStartTime,'Previous Update', 'New Update')\n| extend signals = strcat(signalsBin,\" (Count)\") \n| project-away timestamp, signalsBin, durationInMs\n| sort by signals asc \n| evaluate pivot(signals, count())\n);\nPageViewCount\n| join\n(pageViews\n| where timestamp between (_previousUpdateStartTime .. _now)\n| where customDimensions.environmentName has_any (_environmentName)\n| where customDimensions.alObjectId > 0\n| project timestamp\n    , alObjectId = tostring(customDimensions.alObjectId)\n    , alObjectName = replace_string(tostring(customDimensions.alObjectName),'XYZ','')\n    , eventId = tostring(customDimensions.eventID) \n    , pageType = tostring(customDimensions.pageType)\n    , durationInMs = toint(duration)\n    , signalsBin = iff(timestamp < _updateStartTime,'Previous Update', 'New Update')\n| extend signals = strcat(signalsBin,\" (Avg)\") \n| project-away timestamp, signalsBin\n| summarize Average = round(avg(durationInMs),0) by alObjectId, alObjectName, pageType, signals\n| sort by signals asc \n| evaluate pivot(signals,sum(Average))\n)\non\n$left.alObjectId == $right.alObjectId,\n$left.alObjectName == $right.alObjectName,\n$left.pageType == $right.pageType\n| project-away alObjectId1, alObjectName1, pageType1\n| where [\"New Update (Count)\"] > _countLimit\n| extend isNew = tostring(iif([\"Previous Update (Count)\"] < 1, \"Yes\",\"\"))\n| extend delta = iif(isNew == \"Yes\", 0.0, [\"Previous Update (Avg)\"] - [\"New Update (Avg)\"]) \n    , deltaPerc = iif(isNew == \"Yes\", 0.0, round(([\"Previous Update (Avg)\"] - [\"New Update (Avg)\"]) * 100 / [\"Previous Update (Avg)\"],0))\n| sort by [\"New Update (Count)\"] desc \n","id":"085d0617-0b69-4a03-a50e-cc5be1ded72e","usedVariables":["PageViewsNoTime","_countLimit","_environmentName","_previousUpdateStartTime","_updateStartTime"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"let _now = now();\nlet TableCount = (\nTracesNoTime\n| where timestamp between (_previousUpdateStartTime .. _now)\n| where customDimensions.eventId == 'RT0018' \n| where customDimensions.alObjectId > 0 \n| project timestamp\n, clientType = tostring(customDimensions.clientType)\n, stackTrace = tostring(customDimensions.alStackTrace)\n, extensionId = tostring(customDimensions.extensionId)\n, extensionPublisher = tostring(customDimensions.extensionPublisher)\n, extensionName = trim('XYZ',tostring(customDimensions.extensionName))\n, alObjectId = tostring(customDimensions.alObjectId)\n, alObjectName = trim('XYZ',tostring(customDimensions.alObjectName))\n, alObjectType = tostring(customDimensions.alObjectType)\n, alMethod = tostring(customDimensions.alMethod)\n, executionTimeInMS = toreal(totimespan(customDimensions.executionTime))/10000 //the datatype for executionTime is timespan \n, signalsBin = iff(timestamp < _updateStartTime,'Previous Update', 'New Update')\n| extend signals = strcat(signalsBin,\" (Count)\") \n| project-away timestamp, signalsBin, executionTimeInMS\n| sort by signals asc \n| evaluate pivot(signals, count())\n);\nTableCount\n| join\n(traces\n| where timestamp between (_previousUpdateStartTime .. _now)\n| where customDimensions.environmentType has_any (_EnvironmentType)\n| where customDimensions.environmentName has_any (_environmentName)\n| where customDimensions.aadTenantId has_any(_aadTenantId)\n| where customDimensions.eventId == 'RT0018' \n| where customDimensions.alObjectId > 0 \n| project timestamp\n, clientType = tostring(customDimensions.clientType)\n, stackTrace = tostring(customDimensions.alStackTrace)\n, extensionId = tostring(customDimensions.extensionId)\n, extensionPublisher = tostring(customDimensions.extensionPublisher)\n, extensionName = trim('XYZ',tostring(customDimensions.extensionName))\n, alObjectId = tostring(customDimensions.alObjectId)\n, alObjectName = trim('XYZ',tostring(customDimensions.alObjectName))\n, alObjectType = tostring(customDimensions.alObjectType)\n, alMethod = tostring(customDimensions.alMethod)\n, executionTimeInMS = toreal(totimespan(customDimensions.executionTime))/10000 //the datatype for executionTime is timespan \n// this part of the query derives various insights from the SQL statement\n, signalsBin = iff(timestamp < _updateStartTime,'Previous Update', 'New Update')\n| extend signals = strcat(signalsBin,\" (Avg)\") \n| project-away timestamp, signalsBin\n| summarize Average = round(avg(executionTimeInMS),0) by extensionId, extensionPublisher, extensionName, alObjectType, alObjectId, alObjectName, alMethod, stackTrace, clientType, signals\n| sort by signals asc \n| evaluate pivot(signals,sum(Average))\n)\non\n$left.extensionId == $right.extensionId,\n$left.extensionPublisher == $right.extensionPublisher,\n$left.extensionName == $right.extensionName,\n$left.alObjectType == $right.alObjectType,\n$left.alObjectId == $right.alObjectId,\n$left.alObjectName == $right.alObjectName,\n$left.clientType == $right.clientType,\n$left.stackTrace == $right.stackTrace,\n$left.alMethod == $right.alMethod\n| project-away extensionId, extensionId1, extensionPublisher1, extensionName1, alObjectType1, alObjectId1, alObjectName1, stackTrace1, clientType1, alMethod1\n| where [\"New Update (Count)\"] > _countLimit\n| extend isNew = tostring(iif([\"Previous Update (Count)\"] < 1, \"Yes\",\"\"))\n| extend delta = iif(isNew == \"Yes\", 0.0, [\"Previous Update (Avg)\"] - [\"New Update (Avg)\"]) \n    , deltaPerc = iif(isNew == \"Yes\", 0.0, round(([\"Previous Update (Avg)\"] - [\"New Update (Avg)\"]) * 100 / [\"Previous Update (Avg)\"],0))\n| sort by [\"New Update (Count)\"] desc \n","id":"f449330a-afb9-426f-a0a6-3d3156a61d08","usedVariables":["TracesNoTime","_EnvironmentType","_aadTenantId","_countLimit","_environmentName","_previousUpdateStartTime","_updateStartTime"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"let _now = now();\nlet TableCount = (\nTracesNoTime\n| where timestamp between (_previousUpdateStartTime .. _now)\n| where customDimensions.eventId == 'RT0005' \n| where customDimensions.alObjectId > 0 \n| project timestamp\n, clientType = tostring(customDimensions.clientType)\n, sqlStatement = tostring(customDimensions.sqlStatement)\n, stackTrace = tostring(customDimensions.alStackTrace)\n, extensionId = tostring(customDimensions.extensionId)\n, extensionPublisher = tostring(customDimensions.extensionPublisher)\n, extensionName = trim('XYZ',tostring(customDimensions.extensionName))\n, alObjectId = tostring(customDimensions.alObjectId)\n, alObjectName = trim('XYZ',tostring(customDimensions.alObjectName))\n, alObjectType = tostring(customDimensions.alObjectType)\n, executionTimeInMS = toreal(totimespan(customDimensions.executionTime))/10000 //the datatype for executionTime is timespan \n| extend operationType = case(\n  sqlStatement startswith \"UPDATE\", \"UPDATE\"\n, sqlStatement startswith \"DELETE\", \"DELETE\"\n, sqlStatement startswith \"BeginTransaction\", \"BEGIN_TRANS\"\n, sqlStatement matches regex \"INSERT INTO\", \"INSERT\"\n, sqlStatement startswith \"SELECT\", \"SELECT\"\n, sqlStatement matches regex \"IF EXISTS \\\\(SELECT (.*)\\\\) SELECT\", \"SELECT'\"\n, sqlStatement has \"SELECT NEXT VALUE FOR\", \"SELECT_SEQUENCE_VALUE\"\n, sqlStatement has \"SELECT @@SPID\", \"SELECT_SPID\"\n, sqlStatement matches regex \"(.*)WITH\", \"SELECT\"\n, sqlStatement startswith \"CREATE TABLE\", \"CREATE_TABLE\"\n, sqlStatement startswith \"ALTER TABLE\", \"ALTER_TABLE\"\n, sqlStatement startswith \"exec sp_rename\", \"RENAME_TABLE\" \n, sqlStatement matches regex \"(.*)DROP TABLE\", \"DROP_TABLE\"\n, sqlStatement startswith \"SET LOCK_TIMEOUT\", \"SET_LOCK_TIMEOUT\"\n, sqlStatement has \"sp_getapplock\", \"GET_APP_LOCK\"\n, \"UNKNOWN\"\n)\n, signalsBin = iff(timestamp < _updateStartTime,'Previous Update', 'New Update')\n| extend signals = strcat(signalsBin,\" (Count)\") \n| project-away timestamp, signalsBin, executionTimeInMS\n| sort by signals asc \n| evaluate pivot(signals, count())\n);\nTableCount\n| join\n(traces\n| where timestamp between (_previousUpdateStartTime .. _now)\n| where customDimensions.environmentType has_any (_EnvironmentType)\n| where customDimensions.environmentName has_any (_environmentName)\n| where customDimensions.aadTenantId has_any(_aadTenantId)\n| where customDimensions.eventId == 'RT0005' \n| where customDimensions.alObjectId > 0 \n| project timestamp\n, clientType = tostring(customDimensions.clientType)\n, sqlStatement = tostring(customDimensions.sqlStatement)\n, stackTrace = tostring(customDimensions.alStackTrace)\n, extensionId = tostring(customDimensions.extensionId)\n, extensionPublisher = tostring(customDimensions.extensionPublisher)\n, extensionName = trim('XYZ',tostring(customDimensions.extensionName))\n, alObjectId = tostring(customDimensions.alObjectId)\n, alObjectName = trim('XYZ',tostring(customDimensions.alObjectName))\n, alObjectType = tostring(customDimensions.alObjectType)\n, executionTimeInMS = toreal(totimespan(customDimensions.executionTime))/10000 //the datatype for executionTime is timespan \n// this part of the query derives various insights from the SQL statement\n| extend operationType = case(\n  sqlStatement startswith \"UPDATE\", \"UPDATE\"\n, sqlStatement startswith \"DELETE\", \"DELETE\"\n, sqlStatement startswith \"BeginTransaction\", \"BEGIN_TRANS\"\n, sqlStatement matches regex \"INSERT INTO\", \"INSERT\"\n, sqlStatement startswith \"SELECT\", \"SELECT\"\n, sqlStatement matches regex \"IF EXISTS \\\\(SELECT (.*)\\\\) SELECT\", \"SELECT'\"\n, sqlStatement has \"SELECT NEXT VALUE FOR\", \"SELECT_SEQUENCE_VALUE\"\n, sqlStatement has \"SELECT @@SPID\", \"SELECT_SPID\"\n, sqlStatement matches regex \"(.*)WITH\", \"SELECT\"\n, sqlStatement startswith \"CREATE TABLE\", \"CREATE_TABLE\"\n, sqlStatement startswith \"ALTER TABLE\", \"ALTER_TABLE\"\n, sqlStatement startswith \"exec sp_rename\", \"RENAME_TABLE\" \n, sqlStatement matches regex \"(.*)DROP TABLE\", \"DROP_TABLE\"\n, sqlStatement startswith \"SET LOCK_TIMEOUT\", \"SET_LOCK_TIMEOUT\"\n, sqlStatement has \"sp_getapplock\", \"GET_APP_LOCK\"\n, \"UNKNOWN\"\n)\n, signalsBin = iff(timestamp < _updateStartTime,'Previous Update', 'New Update')\n| extend signals = strcat(signalsBin,\" (Avg)\") \n| project-away timestamp, signalsBin\n| summarize Average = round(avg(executionTimeInMS),0) by extensionId, extensionPublisher, extensionName, alObjectType, alObjectId, alObjectName, operationType, sqlStatement, stackTrace, clientType, signals\n| sort by signals asc \n| evaluate pivot(signals,sum(Average))\n)\non\n$left.extensionId == $right.extensionId,\n$left.extensionPublisher == $right.extensionPublisher,\n$left.extensionName == $right.extensionName,\n$left.alObjectType == $right.alObjectType,\n$left.alObjectId == $right.alObjectId,\n$left.alObjectName == $right.alObjectName,\n$left.clientType == $right.clientType,\n$left.operationType == $right.operationType,\n$left.sqlStatement == $right.sqlStatement,\n$left.stackTrace == $right.stackTrace\n| project-away extensionId, extensionId1, extensionPublisher1, extensionName1, alObjectType1, alObjectId1, alObjectName1, operationType1, sqlStatement1, stackTrace1, clientType1\n| where [\"New Update (Count)\"] > _countLimit\n| extend isNew = tostring(iif([\"Previous Update (Count)\"] < 1, \"Yes\",\"\"))\n| extend delta = iif(isNew == \"Yes\", 0.0, [\"Previous Update (Avg)\"] - [\"New Update (Avg)\"]) \n    , deltaPerc = iif(isNew == \"Yes\", 0.0, round(([\"Previous Update (Avg)\"] - [\"New Update (Avg)\"]) * 100 / [\"Previous Update (Avg)\"],0))\n| sort by [\"New Update (Count)\"] desc \n","id":"f8c57bcc-0d2e-4b0c-8fe7-1dbad4dce7cd","usedVariables":["TracesNoTime","_EnvironmentType","_aadTenantId","_countLimit","_environmentName","_previousUpdateStartTime","_updateStartTime"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"TracesBQ\n| where customDimensions.eventId == 'RT0018' \n| where customDimensions.alObjectId > 0 \n| extend alObjectName = trim(@'XYZ',tostring(customDimensions.alObjectName))\n| extend extensionName = trim(@'XYZ',tostring(customDimensions.extensionName))\n| extend eventId = customDimensions.eventId \n, aadTenantId = tostring( customDimensions.aadTenantId )\n, extensionId = customDimensions.extensionId\n, extensionInfo = strcat(extensionName, ' ', customDimensions.extensionVersion, \n    (iff(isnotempty(tostring(customDimensions.extensionPublisher)), strcat(' - ', tostring(customDimensions.extensionPublisher)), '')))\n, alObjectInfo = strcat(customDimensions.alObjectType, ' ', customDimensions.alObjectId, ' - ', alObjectName)\n, alStackTrace = tostring(customDimensions.alStackTrace)\n, clientType = tostring(customDimensions.clientType)\n, alObjectId = customDimensions.alObjectId\n, alObjectType = customDimensions.alObjectType\n, executionTimeInMS = round(toreal(totimespan(customDimensions.executionTime))/10000,0)  \n, alMethod = tostring(customDimensions.alMethod)\n| where executionTimeInMS > 1000 //greater than 1 sec\n| sort by timestamp desc \n| project timestamp, \n    [\"Tenant ID\"] = aadTenantId, \n    [\"Client Type\"] = clientType, \n    [\"Extension Information\"] = extensionInfo,\n    [\"AL Object ID\"] = alObjectId,\n    [\"AL Object Type\"] = alObjectType,\n    [\"AL Object Name\"] = alObjectName,\n    [\"AL Object Method\"] = alMethod,\n    [\"Duration\"] = executionTimeInMS, \n    [\"AL Object Information\"] = alObjectInfo, \n    [\"User Telemetry ID\"] = user_Id,\n    [\"Session Id\"] = session_Id,\n    [\"AL Stack Trace\"] = alStackTrace","id":"2d71dc51-4dfd-444b-92b4-4a3d1c6e9004","usedVariables":["TracesBQ"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"let correctedEndTime = datetime_add('hour',12,_ToPeriodTime);\nTracesNoTime\n| where timestamp between (_FromPeriodTime .. correctedEndTime)// adjust as needed\n| where customDimensions.eventId == 'RT0018' \n| where customDimensions.alObjectId > 0 \n| extend alObjectName = trim(@'XYZ',tostring(customDimensions.alObjectName))\n| extend extensionName = trim(@'XYZ',tostring(customDimensions.extensionName))\n| extend eventId = customDimensions.eventId \n, extensionId = customDimensions.extensionId\n, extensionInfo = strcat(extensionName, ' ', customDimensions.extensionVersion, \n    (iff(isnotempty(tostring(customDimensions.extensionPublisher)), strcat(' - ', tostring(customDimensions.extensionPublisher)), '')))\n, alObjectInfo = strcat(customDimensions.alObjectType, ' ', customDimensions.alObjectId, ' - ', alObjectName)\n, alStackTrace = tostring(customDimensions.alStackTrace)\n, clientType = tostring(customDimensions.clientType)\n, alObjectId = customDimensions.alObjectId\n, alObjectType = customDimensions.alObjectType\n, executionTimeInMS = toint(round(toreal(totimespan(customDimensions.executionTime))/10000,0)) \n, negativeExecutionTimeInMS = toint((round(toreal(totimespan(customDimensions.executionTime))/10000,0)) * -1) \n, alMethod = tostring(customDimensions.alMethod)\n| extend correctedStartTime = datetime_add('millisecond',negativeExecutionTimeInMS, timestamp)\n| where correctedStartTime <= _ToPeriodTime\n| extend runningDuration = iff(timestamp between (_FromPeriodTime .. _ToPeriodTime)\n    ,toint(round(toreal(totimespan(timestamp - correctedStartTime))/10000,0))\n    ,toint(round(toreal(totimespan(_ToPeriodTime - correctedStartTime))/10000,0)))\n| sort by correctedStartTime asc \n| project [\"Start Time\"] = correctedStartTime,\n    [\"End Time\"] = timestamp, \n    [\"Total Event Duration\"] = executionTimeInMS, \n    [\"Running Duration\"] = runningDuration, //Since when it was running, when the event happened\n    [\"Client Type\"] = clientType, \n    [\"AL Object ID\"] = alObjectId,\n    [\"AL Object Type\"] = alObjectType,\n    [\"AL Object Name\"] = alObjectName,\n    [\"AL Object Method\"] = alMethod,\n    [\"Extension Information\"] = extensionInfo,\n    [\"User Telemetry ID\"] = user_Id,\n    [\"Session Id\"] = session_Id,\n    [\"AL Stack Trace\"] = alStackTrace","id":"98cb1b12-4903-4d13-b742-b710caedb240","usedVariables":["TracesNoTime","_FromPeriodTime","_ToPeriodTime"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"let correctedEndTime = datetime_add('hour',12,_ToPeriodTime);\nTracesNoTime\n| where timestamp between (_FromPeriodTime .. correctedEndTime)// adjust as needed\n| where customDimensions.eventId == 'RT0005' \n| where customDimensions.alObjectId > 0 \n| extend alObjectName = trim(@'XYZ',tostring(customDimensions.alObjectName))\n| extend extensionName = trim(@'XYZ',tostring(customDimensions.extensionName))\n| extend eventId = customDimensions.eventId \n, extensionId = customDimensions.extensionId\n, extensionInfo = strcat(extensionName, ' ', customDimensions.extensionVersion, \n    (iff(isnotempty(tostring(customDimensions.extensionPublisher)), strcat(' - ', tostring(customDimensions.extensionPublisher)), '')))\n, alObjectInfo = strcat(customDimensions.alObjectType, ' ', customDimensions.alObjectId, ' - ', alObjectName)\n, alStackTrace = tostring(customDimensions.alStackTrace)\n, sqlStatement = tostring(customDimensions.sqlStatement)\n, clientType = tostring(customDimensions.clientType)\n, alObjectId = customDimensions.alObjectId\n, alObjectType = customDimensions.alObjectType\n, executionTimeInMS = toint(round(toreal(totimespan(customDimensions.executionTime))/10000,0)) \n, negativeExecutionTimeInMS = toint((round(toreal(totimespan(customDimensions.executionTime))/10000,0)) * -1) \n| extend correctedStartTime = datetime_add('millisecond',negativeExecutionTimeInMS, timestamp)\n| where correctedStartTime <= _ToPeriodTime\n| extend runningDuration = iff(timestamp between (_FromPeriodTime .. _ToPeriodTime)\n    ,toint(round(toreal(totimespan(timestamp - correctedStartTime))/10000,0))\n    ,toint(round(toreal(totimespan(_ToPeriodTime - correctedStartTime))/10000,0)))\n| sort by correctedStartTime asc \n| project [\"Start Time\"] = correctedStartTime,\n    [\"End Time\"] = timestamp, \n    [\"Total Event Duration\"] = executionTimeInMS, \n    [\"Running Duration\"] = runningDuration, //Since when it was running, when the event happened\n    [\"Client Type\"] = clientType, \n    [\"AL Object ID\"] = alObjectId,\n    [\"AL Object Type\"] = alObjectType,\n    [\"AL Object Name\"] = alObjectName,\n    [\"Extension Information\"] = extensionInfo,\n    [\"User Telemetry ID\"] = user_Id,\n    [\"Session Id\"] = session_Id,\n    [\"AL Stack Trace\"] = alStackTrace,\n    [\"SQL Statement\"] = sqlStatement","id":"0d441ef4-cc45-4507-a57f-fcd50b9f05c3","usedVariables":["TracesNoTime","_FromPeriodTime","_ToPeriodTime"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"let correctedEndTime = datetime_add('hour',12,_ToPeriodTime);\nTracesNoTime\n| where timestamp between (_FromPeriodTime .. correctedEndTime)// adjust as needed\n| where customDimensions.eventId == 'RT0006' \n| where customDimensions.alObjectId > 0 \n| extend alObjectName = trim(@'XYZ',tostring(customDimensions.alObjectName))\n| extend extensionName = trim(@'XYZ',tostring(customDimensions.extensionName))\n| extend eventId = customDimensions.eventId \n, extensionId = customDimensions.extensionId\n, extensionInfo = strcat(extensionName, ' ', customDimensions.extensionVersion, \n    (iff(isnotempty(tostring(customDimensions.extensionPublisher)), strcat(' - ', tostring(customDimensions.extensionPublisher)), '')))\n, alObjectInfo = strcat(customDimensions.alObjectType, ' ', customDimensions.alObjectId, ' - ', alObjectName)\n, alStackTrace = tostring(customDimensions.alStackTrace)\n, sqlStatement = tostring(customDimensions.sqlStatement)\n, clientType = tostring(customDimensions.clientType)\n, alObjectId = customDimensions.alObjectId\n, alObjectType = customDimensions.alObjectType\n, executionTimeInMS = toint(round(toreal(totimespan(customDimensions.totalTime))/10000,0)) \n, negativeExecutionTimeInMS = toint((round(toreal(totimespan(customDimensions.totalTime))/10000,0)) * -1) \n| extend correctedStartTime = datetime_add('millisecond',negativeExecutionTimeInMS, timestamp)\n| where correctedStartTime <= _ToPeriodTime\n| extend runningDuration = iff(timestamp between (_FromPeriodTime .. _ToPeriodTime)\n    ,toint(round(toreal(totimespan(timestamp - correctedStartTime))/10000,0))\n    ,toint(round(toreal(totimespan(_ToPeriodTime - correctedStartTime))/10000,0)))\n| sort by timestamp desc \n| project [\"Start Time\"] = correctedStartTime,\n    [\"End Time\"] = timestamp, \n    [\"Total Event Duration\"] = executionTimeInMS, \n    [\"Running Duration\"] = runningDuration, //Since when it was running, when the event happened\n    [\"Client Type\"] = clientType, \n    [\"AL Object ID\"] = alObjectId,\n    [\"AL Object Type\"] = alObjectType,\n    [\"AL Object Name\"] = alObjectName,\n    [\"Extension Information\"] = extensionInfo,\n    [\"User Telemetry ID\"] = user_Id,\n    [\"Session Id\"] = session_Id\n","id":"3b980335-0d9d-4414-b045-7ef9386b8288","usedVariables":["TracesNoTime","_FromPeriodTime","_ToPeriodTime"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"TracesBQ\n| extend eventId = tostring(customDimensions.eventId)\n    , aadTenantId = tostring(customDimensions.aadTenantId)\n    , extensionName = tostring(customDimensions.extensionName)\n    , executionTime = customDimensions.executionTime\n    , serverExecutionTime = customDimensions.serverExecutionTime\n    , totalTime = customDimensions.totalTime\n    , durations = customMeasurements.durations\n    , alJobQueueExecutionTimeInMs = customDimensions.alJobQueueExecutionTimeInMs\n    , extensionPublisher = customDimensions.extensionPublisher\n| extend aadTenantId = iif(strlen(aadTenantId)==36, substring(aadTenantId,1,strlen(aadTenantId)-2), aadTenantId)\n| summarize count() by bin(timestamp,1d)","id":"ca74fe57-f6c7-4871-9e82-a0b323de172d","usedVariables":["TracesBQ"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"TracesBQ\n| project tenantDescription = tostring( customDimensions.aadTenantId )\n| summarize count() by tenantDescription\n| order by count_ desc \n| take 10 //Top 10","id":"9161dd22-288e-4d03-a7a9-4e34f127b8aa","usedVariables":["TracesBQ"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"TracesBQ\n| extend eventId = tostring(customDimensions.eventId)\n| extend shortMessage = iif(substring(message, 0, 4) == \"Task\", \"Task Executed\",  //Remove ID's from message\n                    iif(eventId == \"AL0000JRG\", \"Job Queue Error\",\n                        iff(indexof(message, \":\") <= 0, message, substring(message, 0, indexof(message, \":\")))))\n| extend status = //Come up with a status\n    iif(shortMessage has_any (\"called\",\"executed\",\"succeeded\",\"rendered\",\"successfully\",\"success\",\"opened\", \"added\", \"started\", \"finished\"),\"success\",\n        iif(shortMessage has_any (\"error\",\"fail\",\"failed\",\"deadlock\",\"timed out\"), \"error\",\n            iif(shortMessage has_any (\"exceeded\"),'too slow',\n                \"unknown\")))\n| summarize count = count() by tostring(eventId), tostring(shortMessage), status\n| extend LearnUrl = strcat(\"https://learn.microsoft.com/en-us/search/?scope=BusinessCentral&terms=\",eventId, \"+\", replace_string(shortMessage,\" \",\"+\"))\n| project eventId, shortMessage, status, count, LearnUrl\n| order by ['count'] desc\n","id":"60c1215d-bc46-477a-8464-b7b758237a03","usedVariables":["TracesBQ"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"TracesBQ\n| where isnotempty(customDimensions.extensionPublisher)\n| extend [\"extension Publisher\"] = tostring( customDimensions.extensionPublisher )\n, aadTenantId = tostring( customDimensions.aadTenantId )\n| summarize by [\"extension Publisher\"], aadTenantId\n| summarize Count = count() by [\"extension Publisher\"]\n| order by Count desc ","id":"8a3286a8-0029-49d9-8cf5-232ecc0674ed","usedVariables":["TracesBQ"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"TracesBQ\n| where isnotempty(customDimensions.extensionPublisher)\n| extend \n[\"extension Publisher\"] = tostring( customDimensions.extensionPublisher )\n, [\"aadTenantId\"] = tostring( customDimensions.aadTenantId )\n, [\"Extension Name\"] = tostring( customDimensions.extensionName )\n, [\"Extension Publisher\"] = tostring( customDimensions.extensionPublisher )\n, [\"Extension Version\"] = tostring( customDimensions.extensionVersion )\n, [\"Component Version\"] = tostring( customDimensions.componentVersion )\n| summarize by [\"aadTenantId\"], [\"Extension Name\"], [\"extension Publisher\"], [\"Extension Version\"], [\"Component Version\"]","id":"15aa246d-7a1e-4d96-a9af-984b97c80b28","usedVariables":["TracesBQ"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"TracesBQ\n| where customDimensions.eventId == 'RT0006'\n| where isnotempty(customDimensions.aadTenantId) \n| extend AadTenantId = tostring( customDimensions.aadTenantId )\n, EnvironmentName = tostring( customDimensions.environmentName )\n| extend TenantId = strcat( toupper(AadTenantId), toupper(EnvironmentName) )\n| extend ObjectId = toint( customDimensions.alObjectId )\n, ExtensionVersion = tostring( customDimensions.extensionVersion )\n, extensionName = tostring( customDimensions.extensionName )\n| extend extensionInfo = strcat(extensionName, ' ', customDimensions.extensionVersion, \n    (iff(isnotempty(tostring(customDimensions.extensionPublisher)), strcat(' - ', tostring(customDimensions.extensionPublisher)), '')))\n| parse ExtensionVersion with MajorVersion '.' MinorVersion '.' theRest\n| where isnotempty( ObjectId )\n| project timestamp\n, PlatformVersion = tostring( customDimensions.componentVersion )\n, ClientType = tostring( customDimensions.clientType )\n, extensionInfo\n, ObjectId\n, ObjectName = tostring( customDimensions.alObjectName )\n, ObjectType = tostring( customDimensions.alObjectType )\n, ExecutionTimeInMS = toreal(totimespan(customDimensions.totalTime))/10000 \n, ReportingEngine = tostring( customDimensions.reportingEngine )\n, DatabaseAccessIntent = tostring( customDimensions.sqlDatabaseAccessIntent )\n, SqlExecutes = toint( customDimensions.sqlExecutes )\n, SqlRowsRead = toint( customDimensions.sqlRowsRead )\n, NumberOfRows = toint( customDimensions.numberOfRows )\n, CompanyName = tostring(customDimensions.companyName)\n, ReportAction = customDimensions.reportAction\n, DocumentFormat = customDimensions.documentFormat\n, LayoutType = customDimensions.layoutType","id":"25fdee0a-04b7-4cb9-b6fd-15a568f6629f","usedVariables":["TracesBQ"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"TracesBQ\n| where customDimensions.eventId == 'RT0006'\n| where isnotempty(customDimensions.aadTenantId) \n| extend AadTenantId = tostring( customDimensions.aadTenantId )\n, EnvironmentName = tostring( customDimensions.environmentName )\n| extend TenantId = strcat( toupper(AadTenantId), toupper(EnvironmentName) )\n| extend ObjectId = toint( customDimensions.alObjectId )\n, ExtensionVersion = tostring( customDimensions.extensionVersion )\n, extensionName = tostring( customDimensions.extensionName )\n| extend extensionInfo = strcat(extensionName, ' ', customDimensions.extensionVersion, \n    (iff(isnotempty(tostring(customDimensions.extensionPublisher)), strcat(' - ', tostring(customDimensions.extensionPublisher)), '')))\n| parse ExtensionVersion with MajorVersion '.' MinorVersion '.' theRest\n| where isnotempty( ObjectId )\n| extend timestamp\n, PlatformVersion = tostring( customDimensions.componentVersion )\n, ClientType = tostring( customDimensions.clientType )\n, extensionInfo\n, ObjectId\n, ObjectName = tostring( customDimensions.alObjectName )\n, ObjectType = tostring( customDimensions.alObjectType )\n, ExecutionTimeInMS = toreal(totimespan(customDimensions.totalTime))/10000 \n, ReportingEngine = tostring( customDimensions.reportingEngine )\n, DatabaseAccessIntent = tostring( customDimensions.sqlDatabaseAccessIntent )\n, SqlExecutes = toint( customDimensions.sqlExecutes )\n, SqlRowsRead = toint( customDimensions.sqlRowsRead )\n, NumberOfRows = toint( customDimensions.numberOfRows )\n, CompanyName = tostring(customDimensions.companyName)\n, ReportAction = tostring(customDimensions.reportAction)\n, DocumentFormat = tostring(customDimensions.documentFormat)\n, LayoutType = tostring(customDimensions.layoutType)\n| summarize \n    count = count() \n  , [\"avg Duration\"] = avg(ExecutionTimeInMS)\n  , [\"min Duration\"] = min(ExecutionTimeInMS)\n  , [\"max Duration\"] = max(ExecutionTimeInMS)\n  , [\"dev Duration\"] = stdev(ExecutionTimeInMS)\n  , [\"avg SQL Executes\"] = avg(SqlExecutes)\n  , [\"min SQL Executes\"] = min(SqlExecutes)\n  , [\"max SQL Executes\"] = max(SqlExecutes)\n  , [\"dev SQL Executes\"] = stdev(SqlExecutes)\n  , [\"avg SQL Row Reads\"] = avg(SqlRowsRead)\n  , [\"min SQL Row Reads\"] = min(SqlRowsRead)\n  , [\"max SQL Row Reads\"] = max(SqlRowsRead)\n  , [\"dev SQL Row Reads\"] = stdev(SqlRowsRead)\n  , [\"avg Number of Rows\"] = avg(NumberOfRows)\n  , [\"min Number of Rows\"] = min(NumberOfRows)\n  , [\"max Number of Rows\"] = max(NumberOfRows)\n  , [\"dev Number of Rows\"] = stdev(NumberOfRows)\n  by\n  PlatformVersion\n, extensionInfo\n, ObjectType\n, ObjectId\n, ObjectName\n, ReportingEngine\n, DatabaseAccessIntent\n, ReportAction\n, DocumentFormat\n, LayoutType","id":"3ebe5388-fd19-494c-98b4-98ace6df0e75","usedVariables":["TracesBQ"]},{"id":"74231806-96be-42a1-bb3a-8b84e2ab409b","dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"traces\n| where timestamp between (_startTime .. _endTime)\n| where customDimensions.environmentName <> ''\n| where customDimensions.aadTenantId has_any(_aadTenantId)\n| where customDimensions.environmentName has_any (_environmentName)\n| where customDimensions.environmentType has_any (_EnvironmentType)\n| where customDimensions.companyName has_any (_CompanyName)\n| where customDimensions.extensionPublisher has_any (_publisher)\n| where customDimensions.clientType has_any (_ClientType)","usedVariables":["_ClientType","_CompanyName","_EnvironmentType","_aadTenantId","_endTime","_environmentName","_publisher","_startTime"]},{"id":"0bd207c6-a726-4487-8c7a-e5653f17d8d0","dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"pageViews\n| where timestamp between (_startTime .. _endTime)\n| where customDimensions.aadTenantId has_any (_aadTenantId)\n| where customDimensions.companyName has_any (_CompanyName)\n| where customDimensions.extensionPublisher has_any (_publisher)\n| where customDimensions.environmentName has_any (_environmentName)","usedVariables":["_CompanyName","_aadTenantId","_endTime","_environmentName","_publisher","_startTime"]},{"id":"e7219e7a-a131-4d8b-abc3-d6f222f13614","dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"traces\n| where customDimensions.environmentName <> ''\n| where customDimensions.aadTenantId has_any(_aadTenantId)\n| where customDimensions.environmentName has_any (_environmentName)\n| where customDimensions.environmentType has_any (_EnvironmentType)\n| where customDimensions.companyName has_any (_CompanyName)\n| where customDimensions.extensionPublisher has_any (_publisher)\n| where customDimensions.clientType has_any (_ClientType)","usedVariables":["_ClientType","_CompanyName","_EnvironmentType","_aadTenantId","_environmentName","_publisher"]},{"id":"79611df8-15ff-4d02-a1f0-36f78456df22","dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"pageViews\n| where customDimensions.aadTenantId has_any (_aadTenantId)\n| where customDimensions.companyName has_any (_CompanyName)\n| where customDimensions.extensionPublisher has_any (_publisher)\n| where customDimensions.environmentName has_any (_environmentName)","usedVariables":["_CompanyName","_aadTenantId","_environmentName","_publisher"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"traces\n| where timestamp  between (_startTime .. _endTime)\n| sort by timestamp desc\n| summarize arg_max(timestamp,*) by tostring(customDimensions.clientType)\n| where isnotempty( customDimensions.clientType)\n| project [\"Client Type\"] = tostring(customDimensions.clientType)\n| sort by ['Client Type'] asc ","id":"cab20aea-b8a9-4a0b-adf2-834e69f1ff9f","usedVariables":["_endTime","_startTime"]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"traces\n| where customDimensions.companyName <> ''\n| project CompanyName = tostring(customDimensions.companyName)\n| distinct CompanyName\n\n\n\n","id":"3da981e8-17b0-4c8b-96e3-943fa6939bc3","usedVariables":[]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"traces\n| where customDimensions.extensionPublisher <> ''\n| project _publisher = tostring(customDimensions.extensionPublisher)\n| distinct _publisher","id":"670ce776-9f3e-4900-aa00-686b581fa82b","usedVariables":[]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"traces\n| summarize arg_max(timestamp,*) by tostring(customDimensions.environmentType)\n| where isnotempty( customDimensions.environmentType)\n| project [\"Environment Type\"] = tostring(customDimensions.environmentType)\n| sort by [\"Environment Type\"] asc ","id":"ca8c38d3-04bb-4cda-9871-c7cfcf0e74b4","usedVariables":[]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"traces\n| summarize arg_max(timestamp,*) by tostring(customDimensions.environmentType), \n                                    tostring(customDimensions.environmentName)\n| where isnotempty( customDimensions.environmentName)\n| project [\"Environment Name\"] = tostring(customDimensions.environmentName)\n| sort by ['Environment Name'] asc ","id":"112248dd-6871-4702-8b9f-cebf967cca50","usedVariables":[]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"traces\n| where customDimensions.eventId == 'RT0018' \n| project [\"Session ID\"] = session_Id\n| distinct [\"Session ID\"]\n\n","id":"7476d01f-5f05-4b94-a96f-09755621aedc","usedVariables":[]},{"dataSource":{"kind":"inline","dataSourceId":"99a3b70c-8819-4cce-844b-3c83734afb29"},"text":"traces\n| summarize arg_max(timestamp,*) by tostring(customDimensions.aadTenantId)\n| where isnotempty(customDimensions.aadTenantId)\n| project [\"Tenant Id\"] = tostring(customDimensions.aadTenantId)\n| sort by ['Tenant Id'] asc ","id":"33ffcc48-ecf6-4c71-b595-f2a6e287edd5","usedVariables":[]}]}